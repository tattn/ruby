<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CRuby Code Reading: thread.c ファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="bootstrap/bootstrap.min.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CRuby Code Reading
   </div>
   <div id="projectbrief">ruby 2.3.0dev (2015-06-09 codereading 50801) [x86_64-darwin14]last_commit=add doxygen utilitie</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>総合概要</span></a></li>
      <li><a href="usergroup0.html"><span>機能</span></a></li>
      <li><a href="pages.html"><span>諸情報</span></a></li>
      <li><a href="modules.html"><span>モジュール</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li class="current"><a href="files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>ファイル一覧</span></a></li>
      <li><a href="globals.html"><span>ファイルメンバ</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">クラス</a> &#124;
<a href="#define-members">マクロ定義</a> &#124;
<a href="#typedef-members">型定義</a> &#124;
<a href="#enum-members">列挙型</a> &#124;
<a href="#func-members">関数</a> &#124;
<a href="#var-members">変数</a>  </div>
  <div class="headertitle">
<div class="title">thread.c ファイル</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="eval__intern_8h_source.html">eval_intern.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gc_8h_source.html">gc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timev_8h_source.html">timev.h</a>&quot;</code><br />
<code>#include &quot;ruby/io.h&quot;</code><br />
<code>#include &quot;ruby/thread.h&quot;</code><br />
<code>#include &quot;ruby/thread_native.h&quot;</code><br />
<code>#include &quot;<a class="el" href="internal_8h_source.html">internal.h</a>&quot;</code><br />
</div>
<p><a href="thread_8c_source.html">[ソースコード]</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
クラス</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrb__mutex__struct.html">rb_mutex_struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjoin__arg.html">join_arg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structselect__args.html">select_args</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structthgroup.html">thgroup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structexec__recursive__params.html">exec_recursive_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
マクロ定義</h2></td></tr>
<tr class="memitem:a845f4d4fd9325a9ea97f7d47cd38bd20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a845f4d4fd9325a9ea97f7d47cd38bd20">__USE_FORTIFY_LEVEL</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a845f4d4fd9325a9ea97f7d47cd38bd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6bc44214adc51c353fe8a8302e8dd8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8a6bc44214adc51c353fe8a8302e8dd8">USE_NATIVE_THREAD_PRIORITY</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a8a6bc44214adc51c353fe8a8302e8dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c7d1c9521948791d2e3fa395cb0a88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a58c7d1c9521948791d2e3fa395cb0a88">RUBY_THREAD_PRIORITY_MAX</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a58c7d1c9521948791d2e3fa395cb0a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87654a9a2482222dcd14448c02eeabc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad87654a9a2482222dcd14448c02eeabc">RUBY_THREAD_PRIORITY_MIN</a>&#160;&#160;&#160;-3</td></tr>
<tr class="separator:ad87654a9a2482222dcd14448c02eeabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f94aa25d18b63151123512564bfdee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a90f94aa25d18b63151123512564bfdee">THREAD_DEBUG</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a90f94aa25d18b63151123512564bfdee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ff2a2664cca7f055bc4a87b26e9f67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a91ff2a2664cca7f055bc4a87b26e9f67">eKillSignal</a>&#160;&#160;&#160;INT2FIX(0)</td></tr>
<tr class="separator:a91ff2a2664cca7f055bc4a87b26e9f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa421d36639c3bd7cd695aad0452e66d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa421d36639c3bd7cd695aad0452e66d5">eTerminateSignal</a>&#160;&#160;&#160;INT2FIX(1)</td></tr>
<tr class="separator:aa421d36639c3bd7cd695aad0452e66d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3d6cf8e6a4b1ad8a63feb4bb2d1511"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aeb3d6cf8e6a4b1ad8a63feb4bb2d1511">closed_stream_error</a>&#160;&#160;&#160;<a class="el" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;special_exceptions[<a class="el" href="vm__core_8h.html#a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b">ruby_error_closed_stream</a>]</td></tr>
<tr class="separator:aeb3d6cf8e6a4b1ad8a63feb4bb2d1511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec8ab47dd85e4b2cccd5b0a5e897b5b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5ec8ab47dd85e4b2cccd5b0a5e897b5b">THREAD_SYSTEM_DEPENDENT_IMPLEMENTATION</a></td></tr>
<tr class="separator:a5ec8ab47dd85e4b2cccd5b0a5e897b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2224aadc82fc43956c304bd631c9f39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa2224aadc82fc43956c304bd631c9f39">RB_GC_SAVE_MACHINE_REGISTER_STACK</a>(th)</td></tr>
<tr class="separator:aa2224aadc82fc43956c304bd631c9f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87724f4fa8d14c9bf1504f528b858fa6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">RB_GC_SAVE_MACHINE_CONTEXT</a>(th)</td></tr>
<tr class="separator:a87724f4fa8d14c9bf1504f528b858fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a353316c0c2cce85b75c7f0aada8ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac4a353316c0c2cce85b75c7f0aada8ab">GVL_UNLOCK_BEGIN</a>()</td></tr>
<tr class="separator:ac4a353316c0c2cce85b75c7f0aada8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7731fc2a60a727d5bbd8cf78fd5375a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7731fc2a60a727d5bbd8cf78fd5375a6">GVL_UNLOCK_END</a>()</td></tr>
<tr class="separator:a7731fc2a60a727d5bbd8cf78fd5375a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2027e983919ea21e5284880567f352"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0b2027e983919ea21e5284880567f352">only_if_constant</a>(expr,  notconst)&#160;&#160;&#160;notconst</td></tr>
<tr class="separator:a0b2027e983919ea21e5284880567f352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7859dbb6b77b640c0ca927fc0da55adb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a>(exec,  ubf,  ubfarg,  fail_if_interrupted)</td></tr>
<tr class="separator:a7859dbb6b77b640c0ca927fc0da55adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa15388c1c819019d2cfa216af70f82bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>&#160;&#160;&#160;if(0)printf</td></tr>
<tr class="separator:aa15388c1c819019d2cfa216af70f82bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c82d6767fcd1b733452c8cdff77b36b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a4c82d6767fcd1b733452c8cdff77b36b">fill_thread_id_string</a>(thid,  buf)&#160;&#160;&#160;(thid)</td></tr>
<tr class="separator:a4c82d6767fcd1b733452c8cdff77b36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04e4c932f6d7b96d6a0f73e528a8339"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa04e4c932f6d7b96d6a0f73e528a8339">fill_thread_id_str</a>(th)&#160;&#160;&#160;(void)0</td></tr>
<tr class="separator:aa04e4c932f6d7b96d6a0f73e528a8339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8561cf624a81dc63b02734902fc09bd0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a>(th)&#160;&#160;&#160;((void *)(th)-&gt;thread_id)</td></tr>
<tr class="separator:a8561cf624a81dc63b02734902fc09bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21570891a952bdfe6b439219b20a7cc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a>&#160;&#160;&#160;&quot;p&quot;</td></tr>
<tr class="separator:a21570891a952bdfe6b439219b20a7cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711ed0f5f2d64d14a71f64a971531c02"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a711ed0f5f2d64d14a71f64a971531c02">thread_start_func_2</a>(th,  st,  rst)&#160;&#160;&#160;thread_start_func_2(th, st)</td></tr>
<tr class="separator:a711ed0f5f2d64d14a71f64a971531c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7356e467a6753c4d54a1f6e1ec7bc04c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a>&#160;&#160;&#160;1E30</td></tr>
<tr class="separator:a7356e467a6753c4d54a1f6e1ec7bc04c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7600d013b8e1da0c365153e5c5ae008"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(obj,  tobj)&#160;&#160;&#160;TypedData_Get_Struct((obj), <a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a>, &amp;<a class="el" href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a>, (tobj))</td></tr>
<tr class="separator:ae7600d013b8e1da0c365153e5c5ae008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4903b3c7b7bbbd5308d69f0211420e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af4903b3c7b7bbbd5308d69f0211420e1">mutex_mark</a>&#160;&#160;&#160;<a class="el" href="vsnprintf_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:af4903b3c7b7bbbd5308d69f0211420e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438ef98147d61d06f695678766b44e15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a>(obj)&#160;&#160;&#160;((VALUE)<a class="el" href="error_8c.html#a01f11924b05ac5d4df94383f39a14d6c">rb_check_typeddata</a>((obj), &amp;<a class="el" href="thread_8c.html#abe0364314ab590bb8023ec98974974e0">thread_shield_data_type</a>))</td></tr>
<tr class="separator:a438ef98147d61d06f695678766b44e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d87b02ebe75489bb01a100610bdf6bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a>&#160;&#160;&#160;(FL_USER0|FL_USER1|FL_USER2|FL_USER3|FL_USER4|FL_USER5|FL_USER6|FL_USER7|FL_USER8|FL_USER9|FL_USER10|FL_USER11|FL_USER12|FL_USER13|FL_USER14|FL_USER15|FL_USER16|FL_USER17|FL_USER18|FL_USER19)</td></tr>
<tr class="separator:a5d87b02ebe75489bb01a100610bdf6bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83526d54633180cc5aec43f4380ffa6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a>&#160;&#160;&#160;(FL_USHIFT)</td></tr>
<tr class="separator:ad83526d54633180cc5aec43f4380ffa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab09a399c6570cd6696043c9c2abefc6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a>(b)&#160;&#160;&#160;(int)((RBASIC(b)-&gt;flags&amp;<a class="el" href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a>)&gt;&gt;<a class="el" href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a>)</td></tr>
<tr class="separator:ab09a399c6570cd6696043c9c2abefc6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa7113fc5ddbcc70f72780d4d1c1dae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9fa7113fc5ddbcc70f72780d4d1c1dae">OBJ_ID_EQL</a>(obj_id,  other)&#160;&#160;&#160;((obj_id) == (other))</td></tr>
<tr class="separator:a9fa7113fc5ddbcc70f72780d4d1c1dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfa42d4b79c89d68c53be8b2150a503"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(str)&#160;&#160;&#160;rb_intern_const(str)</td></tr>
<tr class="separator:a9cfa42d4b79c89d68c53be8b2150a503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
型定義</h2></td></tr>
<tr class="memitem:a68d6cc91aa5878b0b3a06c8cdfecf522"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrb__mutex__struct.html">rb_mutex_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a></td></tr>
<tr class="separator:a68d6cc91aa5878b0b3a06c8cdfecf522"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
列挙型</h2></td></tr>
<tr class="memitem:ae8147c0c3bcd161c8b19333a034d77f1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a> { <a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a>, 
<a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a>, 
<a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a>, 
<a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a>
 }</td></tr>
<tr class="separator:ae8147c0c3bcd161c8b19333a034d77f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
関数</h2></td></tr>
<tr class="memitem:ace81f760b6dab58be3f86cefd6e0f5fd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, struct timeval time, int spurious_check)</td></tr>
<tr class="separator:ace81f760b6dab58be3f86cefd6e0f5fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a247f73e28d3c9ed1f98ad9528e0b9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a04a247f73e28d3c9ed1f98ad9528e0b9">sleep_wait_for_interrupt</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, double sleepsec, int spurious_check)</td></tr>
<tr class="separator:a04a247f73e28d3c9ed1f98ad9528e0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa735666902e716ce922f814e42f44f4f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, int nodeadlock, int spurious_check)</td></tr>
<tr class="separator:aa735666902e716ce922f814e42f44f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fb24a433044184448557b610073957"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a> (void)</td></tr>
<tr class="separator:a61fb24a433044184448557b610073957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2878eaa26a014c90d668edd41960b78d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a2878eaa26a014c90d668edd41960b78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e19f22a75b72b0b2c284f7997a3295"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a> (<a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *vm)</td></tr>
<tr class="separator:a13e19f22a75b72b0b2c284f7997a3295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae16cd5b995f9c31f2063ad3d82f1e365"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:ae16cd5b995f9c31f2063ad3d82f1e365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24921dd43d0a4cdae165758eab29e4b9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a24921dd43d0a4cdae165758eab29e4b9">st_delete_wrap</a> (st_table *table, st_data_t <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>)</td></tr>
<tr class="separator:a24921dd43d0a4cdae165758eab29e4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eff8db4b0fbb9e4c65cc52dc6fec10e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a1eff8db4b0fbb9e4c65cc52dc6fec10e">set_unblock_function</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, rb_unblock_function_t *func, void *arg, struct <a class="el" href="structrb__unblock__callback.html">rb_unblock_callback</a> *old, int fail_if_interrupted)</td></tr>
<tr class="separator:a1eff8db4b0fbb9e4c65cc52dc6fec10e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526470994d5b6261d41d4d6d0378e228"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a526470994d5b6261d41d4d6d0378e228">reset_unblock_function</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="structrb__unblock__callback.html">rb_unblock_callback</a> *old)</td></tr>
<tr class="separator:a526470994d5b6261d41d4d6d0378e228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa886ec586144cf69ac6f2c44cd3a8a9f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa886ec586144cf69ac6f2c44cd3a8a9f">blocking_region_begin</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, struct <a class="el" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> *region, rb_unblock_function_t *ubf, void *arg, int fail_if_interrupted)</td></tr>
<tr class="separator:aa886ec586144cf69ac6f2c44cd3a8a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9271a3efc55d59d1eee23cbf8719ffec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9271a3efc55d59d1eee23cbf8719ffec">blocking_region_end</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, struct <a class="el" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> *region)</td></tr>
<tr class="separator:a9271a3efc55d59d1eee23cbf8719ffec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5371f4435258187eecfef2a50f3c453"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af5371f4435258187eecfef2a50f3c453">NOINLINE</a> (static int <a class="el" href="thread_8c.html#a5075169b7397de5fabc52d1f4ddd7cdd">thread_start_func_2</a>(<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE *stack_start))</td></tr>
<tr class="separator:af5371f4435258187eecfef2a50f3c453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff953a04ceb8333e059e4fc73a786c0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a4ff953a04ceb8333e059e4fc73a786c0">timer_thread_function</a> (void *)</td></tr>
<tr class="separator:a4ff953a04ceb8333e059e4fc73a786c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152e345de139a53b412409fe441067a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a152e345de139a53b412409fe441067a0">rb_vm_gvl_destroy</a> (<a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *vm)</td></tr>
<tr class="separator:a152e345de139a53b412409fe441067a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add64795f05aa31a66fe3e7f8696043bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#add64795f05aa31a66fe3e7f8696043bf">rb_nativethread_lock_initialize</a> (rb_nativethread_lock_t *lock)</td></tr>
<tr class="separator:add64795f05aa31a66fe3e7f8696043bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6adb40c4a640b02a526dbf6a34f585b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af6adb40c4a640b02a526dbf6a34f585b">rb_nativethread_lock_destroy</a> (rb_nativethread_lock_t *lock)</td></tr>
<tr class="separator:af6adb40c4a640b02a526dbf6a34f585b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267c9706aa0cd7983f33913758f3bf0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a267c9706aa0cd7983f33913758f3bf0c">rb_nativethread_lock_lock</a> (rb_nativethread_lock_t *lock)</td></tr>
<tr class="separator:a267c9706aa0cd7983f33913758f3bf0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0efc98152f9dd6372f2a777f526ee1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac0efc98152f9dd6372f2a777f526ee1c">rb_nativethread_lock_unlock</a> (rb_nativethread_lock_t *lock)</td></tr>
<tr class="separator:ac0efc98152f9dd6372f2a777f526ee1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5047a65dabfb9dafbbd03fbd8d97ef05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5047a65dabfb9dafbbd03fbd8d97ef05">rb_threadptr_interrupt_common</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, int <a class="el" href="signal_8c.html#a13521baf18d8e67cc3e0b7b7a1beacdb">trap</a>)</td></tr>
<tr class="separator:a5047a65dabfb9dafbbd03fbd8d97ef05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46256e91e4796220065f97cd0842a10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:ac46256e91e4796220065f97cd0842a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f32028242ef7ed0f4b3a8f5c9c40d0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9f32028242ef7ed0f4b3a8f5c9c40d0d">rb_threadptr_trap_interrupt</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a9f32028242ef7ed0f4b3a8f5c9c40d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075aa6a0ff9a0a725a95bd42b3988f64"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a075aa6a0ff9a0a725a95bd42b3988f64">terminate_all</a> (<a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *vm, <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *main_thread)</td></tr>
<tr class="separator:a075aa6a0ff9a0a725a95bd42b3988f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e2843ebfeda1f0ccd75205127675e9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad9e2843ebfeda1f0ccd75205127675e9">rb_mutex_abandon_all</a> (<a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a> *mutexes)</td></tr>
<tr class="separator:ad9e2843ebfeda1f0ccd75205127675e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56aa2ce656e6af8ab5ba61254f89005f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a56aa2ce656e6af8ab5ba61254f89005f">rb_mutex_abandon_keeping_mutexes</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a56aa2ce656e6af8ab5ba61254f89005f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b19ec8b7ec57b918e6d22cc02c49362"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a1b19ec8b7ec57b918e6d22cc02c49362">rb_mutex_abandon_locking_mutex</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a1b19ec8b7ec57b918e6d22cc02c49362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e588283845294f0d0b6aa70e7f9d1c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a> (<a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a> *mutex, <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> volatile *th)</td></tr>
<tr class="separator:aa2e588283845294f0d0b6aa70e7f9d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa411c64669553c03fd84487a7b700d1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa411c64669553c03fd84487a7b700d1c">rb_threadptr_unlock_all_locking_mutexes</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:aa411c64669553c03fd84487a7b700d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4269ed2cb019b35ffc45e1e69a335b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8e4269ed2cb019b35ffc45e1e69a335b">rb_thread_terminate_all</a> (void)</td></tr>
<tr class="separator:a8e4269ed2cb019b35ffc45e1e69a335b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5111fe60b8b672c2f1dc6f7844b6b8ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5111fe60b8b672c2f1dc6f7844b6b8ae">thread_cleanup_func_before_exec</a> (void *th_ptr)</td></tr>
<tr class="separator:a5111fe60b8b672c2f1dc6f7844b6b8ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56b10284a01f2eb600a8c1ae94ce6fd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad56b10284a01f2eb600a8c1ae94ce6fd">thread_cleanup_func</a> (void *th_ptr, int atfork)</td></tr>
<tr class="separator:ad56b10284a01f2eb600a8c1ae94ce6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ac42869e2371ef3d57c096533e10c6"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *, int, VALUE *)</td></tr>
<tr class="separator:a75ac42869e2371ef3d57c096533e10c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d8df830e19c1e62520540c66aaf3bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a20d8df830e19c1e62520540c66aaf3bb">ruby_thread_init_stack</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a20d8df830e19c1e62520540c66aaf3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5075169b7397de5fabc52d1f4ddd7cdd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5075169b7397de5fabc52d1f4ddd7cdd">thread_start_func_2</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE *stack_start)</td></tr>
<tr class="separator:a5075169b7397de5fabc52d1f4ddd7cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450e32771d75af4d10525228379223dc"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a> (VALUE thval, VALUE args, VALUE(*fn)(ANYARGS))</td></tr>
<tr class="separator:a450e32771d75af4d10525228379223dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710162ffb460c0ccee5c5dbbe78d694a"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a710162ffb460c0ccee5c5dbbe78d694a">thread_s_new</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE klass)</td></tr>
<tr class="separator:a710162ffb460c0ccee5c5dbbe78d694a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c3507d4449aa123567d234b0fdd480"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a55c3507d4449aa123567d234b0fdd480">thread_start</a> (VALUE klass, VALUE args)</td></tr>
<tr class="separator:a55c3507d4449aa123567d234b0fdd480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e838d5fd91fcb827d9621f5909de3d"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a64e838d5fd91fcb827d9621f5909de3d">thread_initialize</a> (VALUE thread, VALUE args)</td></tr>
<tr class="separator:a64e838d5fd91fcb827d9621f5909de3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9316404d9cbe24ea7f25738191c5bbf"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad9316404d9cbe24ea7f25738191c5bbf">rb_thread_create</a> (VALUE(*fn)(ANYARGS), void *arg)</td></tr>
<tr class="separator:ad9316404d9cbe24ea7f25738191c5bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce68a55ac4d23d55e79a69b4afe2dbe"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2ce68a55ac4d23d55e79a69b4afe2dbe">remove_from_join_list</a> (VALUE arg)</td></tr>
<tr class="separator:a2ce68a55ac4d23d55e79a69b4afe2dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c678d21b38b8a46d8986b820619214a"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2c678d21b38b8a46d8986b820619214a">thread_join_sleep</a> (VALUE arg)</td></tr>
<tr class="separator:a2c678d21b38b8a46d8986b820619214a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf050af0715e094ffe9663cf8133aa35"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abf050af0715e094ffe9663cf8133aa35">thread_join</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *target_th, double delay)</td></tr>
<tr class="separator:abf050af0715e094ffe9663cf8133aa35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e1f762956dd3202f65d0066d249c5d"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a84e1f762956dd3202f65d0066d249c5d">thread_join_m</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE self)</td></tr>
<tr class="separator:a84e1f762956dd3202f65d0066d249c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447024e24d3b6c5fad99702d57b0002f"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a447024e24d3b6c5fad99702d57b0002f">thread_value</a> (VALUE self)</td></tr>
<tr class="separator:a447024e24d3b6c5fad99702d57b0002f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd14be99189cddb590d536bc4e3a566"><td class="memItemLeft" align="right" valign="top">static struct timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5dd14be99189cddb590d536bc4e3a566">double2timeval</a> (double d)</td></tr>
<tr class="separator:a5dd14be99189cddb590d536bc4e3a566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7df505b05d3a05ae562f2e42f4cb10"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#adb7df505b05d3a05ae562f2e42f4cb10">getclockofday</a> (struct timeval *tp)</td></tr>
<tr class="separator:adb7df505b05d3a05ae562f2e42f4cb10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a3a6b1a7a0c9dc8905611023297567"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a57a3a6b1a7a0c9dc8905611023297567">rb_thread_sleep_forever</a> (void)</td></tr>
<tr class="separator:a57a3a6b1a7a0c9dc8905611023297567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab181b3acc35b399709700c4e99814ba7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab181b3acc35b399709700c4e99814ba7">rb_thread_sleep_deadly</a> (void)</td></tr>
<tr class="separator:ab181b3acc35b399709700c4e99814ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63daa07c9361f6046d412e0989b27b1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a63daa07c9361f6046d412e0989b27b1a">rb_thread_wait_for</a> (struct timeval time)</td></tr>
<tr class="separator:a63daa07c9361f6046d412e0989b27b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9bfa5b17b2be949b3ca843e6a0ee9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9c9bfa5b17b2be949b3ca843e6a0ee9e">rb_thread_check_ints</a> (void)</td></tr>
<tr class="separator:a9c9bfa5b17b2be949b3ca843e6a0ee9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024fc07d1560d6a94da3bcc268c9bbd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a024fc07d1560d6a94da3bcc268c9bbd8">rb_thread_check_trap_pending</a> (void)</td></tr>
<tr class="separator:a024fc07d1560d6a94da3bcc268c9bbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09fe8c6b6e8ac42cba5f0b5b7e8fe24d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a09fe8c6b6e8ac42cba5f0b5b7e8fe24d">rb_thread_interrupted</a> (VALUE thval)</td></tr>
<tr class="separator:a09fe8c6b6e8ac42cba5f0b5b7e8fe24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88d170ac830f0f9ab0ddca35a157dfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af88d170ac830f0f9ab0ddca35a157dfb">rb_thread_sleep</a> (int sec)</td></tr>
<tr class="separator:af88d170ac830f0f9ab0ddca35a157dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee380488cdc9cbd83605d3bcf316b98f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aee380488cdc9cbd83605d3bcf316b98f">rb_thread_schedule_limits</a> (unsigned long limits_us)</td></tr>
<tr class="separator:aee380488cdc9cbd83605d3bcf316b98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fe299d3b5a492259ab4e733832868c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad1fe299d3b5a492259ab4e733832868c">rb_thread_schedule</a> (void)</td></tr>
<tr class="separator:ad1fe299d3b5a492259ab4e733832868c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4b81e89bcd2c08610969b34255be38"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3b4b81e89bcd2c08610969b34255be38">call_without_gvl</a> (void *(*func)(void *), void *data1, rb_unblock_function_t *ubf, void *data2, int fail_if_interrupted)</td></tr>
<tr class="separator:a3b4b81e89bcd2c08610969b34255be38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082defc84db5e00f2a7ae83d093a46d2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a082defc84db5e00f2a7ae83d093a46d2">rb_thread_call_without_gvl2</a> (void *(*func)(void *), void *data1, rb_unblock_function_t *ubf, void *data2)</td></tr>
<tr class="separator:a082defc84db5e00f2a7ae83d093a46d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6382e0ae0c5ac5851051ca7f9b0065b0"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6382e0ae0c5ac5851051ca7f9b0065b0">rb_thread_call_without_gvl</a> (void *(*func)(void *data), void *data1, rb_unblock_function_t *ubf, void *data2)</td></tr>
<tr class="separator:a6382e0ae0c5ac5851051ca7f9b0065b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af541b78962a7376bf184693fc4144441"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af541b78962a7376bf184693fc4144441">rb_thread_io_blocking_region</a> (rb_blocking_function_t *func, void *data1, int fd)</td></tr>
<tr class="separator:af541b78962a7376bf184693fc4144441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750cc265be9b084ee41c51157948f756"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a750cc265be9b084ee41c51157948f756">rb_thread_call_with_gvl</a> (void *(*func)(void *), void *data1)</td></tr>
<tr class="separator:a750cc265be9b084ee41c51157948f756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2293d6040c352991d160113a62fe5be3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2293d6040c352991d160113a62fe5be3">ruby_thread_has_gvl_p</a> (void)</td></tr>
<tr class="separator:a2293d6040c352991d160113a62fe5be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3334ac127c95c82989183b051af05bfe"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3334ac127c95c82989183b051af05bfe">thread_s_pass</a> (VALUE klass)</td></tr>
<tr class="separator:a3334ac127c95c82989183b051af05bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6720e15931dccf9492320a7798aeba8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6720e15931dccf9492320a7798aeba8a">rb_threadptr_pending_interrupt_clear</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a6720e15931dccf9492320a7798aeba8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cbd624cfbda37f74c28998bf26c2eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE v)</td></tr>
<tr class="separator:a63cbd624cfbda37f74c28998bf26c2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70442253ce8052fd660bf11abbb51e8a"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a70442253ce8052fd660bf11abbb51e8a">rb_threadptr_pending_interrupt_check_mask</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE err)</td></tr>
<tr class="separator:a70442253ce8052fd660bf11abbb51e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c1f16a4c5fa0c2b2bdf5ca7912db3a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a32c1f16a4c5fa0c2b2bdf5ca7912db3a">rb_threadptr_pending_interrupt_include_p</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE err)</td></tr>
<tr class="separator:a32c1f16a4c5fa0c2b2bdf5ca7912db3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25c780d9fdb6dab0dd8dda84c7e85e1"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac25c780d9fdb6dab0dd8dda84c7e85e1">rb_threadptr_pending_interrupt_deque</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, enum <a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a> timing)</td></tr>
<tr class="separator:ac25c780d9fdb6dab0dd8dda84c7e85e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a2d7e0fd751c74ff0f250c83b58f47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af5a2d7e0fd751c74ff0f250c83b58f47">rb_threadptr_pending_interrupt_active_p</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:af5a2d7e0fd751c74ff0f250c83b58f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3695026c347ba77d8fef887cf766c681"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3695026c347ba77d8fef887cf766c681">handle_interrupt_arg_check_i</a> (VALUE <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:a3695026c347ba77d8fef887cf766c681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7926cb2abb5777f7a6cb958fb861f6fc"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7926cb2abb5777f7a6cb958fb861f6fc">rb_thread_s_handle_interrupt</a> (VALUE self, VALUE mask_arg)</td></tr>
<tr class="separator:a7926cb2abb5777f7a6cb958fb861f6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98660b14ebe5541413764ba6666c465f"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a98660b14ebe5541413764ba6666c465f">rb_thread_pending_interrupt_p</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE target_thread)</td></tr>
<tr class="separator:a98660b14ebe5541413764ba6666c465f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7635d7702ab68d430153a5483aec98a"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab7635d7702ab68d430153a5483aec98a">rb_thread_s_pending_interrupt_p</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE self)</td></tr>
<tr class="separator:ab7635d7702ab68d430153a5483aec98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507b90792155ba1f807575b9873820cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a507b90792155ba1f807575b9873820cb">rb_threadptr_to_kill</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a507b90792155ba1f807575b9873820cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe35d4aeb75e5be28bc0981b69831cd4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abe35d4aeb75e5be28bc0981b69831cd4">threadptr_get_interrupts</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:abe35d4aeb75e5be28bc0981b69831cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e10a6b9b984e686cc8727a3fa942b10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2e10a6b9b984e686cc8727a3fa942b10">rb_threadptr_execute_interrupts</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, int blocking_timing)</td></tr>
<tr class="separator:a2e10a6b9b984e686cc8727a3fa942b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfe3d635f71a21d8f47a9a79e6d3ab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aebfe3d635f71a21d8f47a9a79e6d3ab1">rb_thread_execute_interrupts</a> (VALUE thval)</td></tr>
<tr class="separator:aebfe3d635f71a21d8f47a9a79e6d3ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952c3555401953d926b55121ec0d3174"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a952c3555401953d926b55121ec0d3174">rb_threadptr_ready</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a952c3555401953d926b55121ec0d3174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2a75d8700562c9f8e17b40b017440d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7a2a75d8700562c9f8e17b40b017440d">rb_threadptr_signal_raise</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, int sig)</td></tr>
<tr class="separator:a7a2a75d8700562c9f8e17b40b017440d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74abfa9f067678a7a78d54a3904530b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab74abfa9f067678a7a78d54a3904530b">rb_threadptr_signal_exit</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:ab74abfa9f067678a7a78d54a3904530b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86a19af4004e24723908aa062e98113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac86a19af4004e24723908aa062e98113">ruby_thread_stack_overflow</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:ac86a19af4004e24723908aa062e98113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3514e2b9aa4169e9b24f1d2bdf586b00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3514e2b9aa4169e9b24f1d2bdf586b00">rb_threadptr_set_raised</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a3514e2b9aa4169e9b24f1d2bdf586b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6512318e5e31b15826e44b778e45b6d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6512318e5e31b15826e44b778e45b6d2">rb_threadptr_reset_raised</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:a6512318e5e31b15826e44b778e45b6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7b7ba5cff56d7e2975d89696c8de17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5f7b7ba5cff56d7e2975d89696c8de17">rb_thread_fd_close</a> (int fd)</td></tr>
<tr class="separator:a5f7b7ba5cff56d7e2975d89696c8de17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcafa51e28d3098a07ae432cc74d8b7"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6dcafa51e28d3098a07ae432cc74d8b7">thread_raise_m</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE self)</td></tr>
<tr class="separator:a6dcafa51e28d3098a07ae432cc74d8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b589c6cbb1ea96a3b1a25ea76f40a77"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a> (VALUE thread)</td></tr>
<tr class="separator:a3b589c6cbb1ea96a3b1a25ea76f40a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea0c0d50a07f163c286d370ae2e9974"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abea0c0d50a07f163c286d370ae2e9974">rb_thread_s_kill</a> (VALUE obj, VALUE th)</td></tr>
<tr class="separator:abea0c0d50a07f163c286d370ae2e9974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14413506613b516843bde54b5a6578ed"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a14413506613b516843bde54b5a6578ed">rb_thread_exit</a> (void)</td></tr>
<tr class="separator:a14413506613b516843bde54b5a6578ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e05608c1815e8b03e5147325a14bab"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa1e05608c1815e8b03e5147325a14bab">rb_thread_wakeup</a> (VALUE thread)</td></tr>
<tr class="separator:aa1e05608c1815e8b03e5147325a14bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55418bce2e12c024aadbd80abe5329d"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af55418bce2e12c024aadbd80abe5329d">rb_thread_wakeup_alive</a> (VALUE thread)</td></tr>
<tr class="separator:af55418bce2e12c024aadbd80abe5329d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f6e88800576706aca78d4f8c96a82e"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa0f6e88800576706aca78d4f8c96a82e">rb_thread_run</a> (VALUE thread)</td></tr>
<tr class="separator:aa0f6e88800576706aca78d4f8c96a82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6e14ae14061684bce66a2e886bcb03"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6f6e14ae14061684bce66a2e886bcb03">rb_thread_stop</a> (void)</td></tr>
<tr class="separator:a6f6e14ae14061684bce66a2e886bcb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd2bc54fc62e02229c7cded86a6a93ad"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afd2bc54fc62e02229c7cded86a6a93ad">rb_thread_list</a> (void)</td></tr>
<tr class="separator:afd2bc54fc62e02229c7cded86a6a93ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41dd89ae3df1fc1d9968c8239659ce3"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac41dd89ae3df1fc1d9968c8239659ce3">rb_thread_current</a> (void)</td></tr>
<tr class="separator:ac41dd89ae3df1fc1d9968c8239659ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed18e8b46c8e0e66388f04dfde704ff"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0ed18e8b46c8e0e66388f04dfde704ff">thread_s_current</a> (VALUE klass)</td></tr>
<tr class="separator:a0ed18e8b46c8e0e66388f04dfde704ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cfac21ec8b848c95a397c50660f2fe"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a51cfac21ec8b848c95a397c50660f2fe">rb_thread_main</a> (void)</td></tr>
<tr class="separator:a51cfac21ec8b848c95a397c50660f2fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d7c781f19dd50dc347bfae5ffdad54"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a83d7c781f19dd50dc347bfae5ffdad54">rb_thread_s_main</a> (VALUE klass)</td></tr>
<tr class="separator:a83d7c781f19dd50dc347bfae5ffdad54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa2c372ccfc42b59b23f4b3cbe3c45f"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abfa2c372ccfc42b59b23f4b3cbe3c45f">rb_thread_s_abort_exc</a> (void)</td></tr>
<tr class="separator:abfa2c372ccfc42b59b23f4b3cbe3c45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1410ed32492fe869727957f7e6a950"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0c1410ed32492fe869727957f7e6a950">rb_thread_s_abort_exc_set</a> (VALUE self, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:a0c1410ed32492fe869727957f7e6a950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098ea3519979c810fbd81bb030bd1f03"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a098ea3519979c810fbd81bb030bd1f03">rb_thread_abort_exc</a> (VALUE thread)</td></tr>
<tr class="separator:a098ea3519979c810fbd81bb030bd1f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b979d548ecf0557e4efa54079ac81a"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac6b979d548ecf0557e4efa54079ac81a">rb_thread_abort_exc_set</a> (VALUE thread, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:ac6b979d548ecf0557e4efa54079ac81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265dfbed765a341f8e694c7bdc8e5357"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a265dfbed765a341f8e694c7bdc8e5357">rb_thread_group</a> (VALUE thread)</td></tr>
<tr class="separator:a265dfbed765a341f8e694c7bdc8e5357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0c73515070184a3c06cb695ac32863"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afe0c73515070184a3c06cb695ac32863">thread_status_name</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:afe0c73515070184a3c06cb695ac32863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7238b21b202f3d054b4fe6d306329ef6"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7238b21b202f3d054b4fe6d306329ef6">rb_thread_status</a> (VALUE thread)</td></tr>
<tr class="separator:a7238b21b202f3d054b4fe6d306329ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8ec82e1846eadcb0e0e97803ff7520"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5b8ec82e1846eadcb0e0e97803ff7520">rb_thread_alive_p</a> (VALUE thread)</td></tr>
<tr class="separator:a5b8ec82e1846eadcb0e0e97803ff7520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d91467b7e140be460c69c100825afa"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a96d91467b7e140be460c69c100825afa">rb_thread_stop_p</a> (VALUE thread)</td></tr>
<tr class="separator:a96d91467b7e140be460c69c100825afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236240d46cf6162b2d6d85f97f2a2989"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a236240d46cf6162b2d6d85f97f2a2989">rb_thread_safe_level</a> (VALUE thread)</td></tr>
<tr class="separator:a236240d46cf6162b2d6d85f97f2a2989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9551a0d57549f0b74b16c3e5b4f91ee"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad9551a0d57549f0b74b16c3e5b4f91ee">rb_thread_getname</a> (VALUE thread)</td></tr>
<tr class="separator:ad9551a0d57549f0b74b16c3e5b4f91ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01481866fa1c711b7b2a65532dc63b8"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad01481866fa1c711b7b2a65532dc63b8">rb_thread_setname</a> (VALUE thread, VALUE <a class="el" href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a>)</td></tr>
<tr class="separator:ad01481866fa1c711b7b2a65532dc63b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3aa8956530e0171285ddd8a797c4f0"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a1a3aa8956530e0171285ddd8a797c4f0">rb_thread_inspect</a> (VALUE thread)</td></tr>
<tr class="separator:a1a3aa8956530e0171285ddd8a797c4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757f5968dc4937bbaaec53e29f24fca5"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a757f5968dc4937bbaaec53e29f24fca5">threadptr_local_aref</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, ID id)</td></tr>
<tr class="separator:a757f5968dc4937bbaaec53e29f24fca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5e5fba5fc0c4e1b5289eff6685bcee"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2f5e5fba5fc0c4e1b5289eff6685bcee">rb_thread_local_aref</a> (VALUE thread, ID id)</td></tr>
<tr class="separator:a2f5e5fba5fc0c4e1b5289eff6685bcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220ac519bf6c78ff8c72e47b3c700fdb"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a220ac519bf6c78ff8c72e47b3c700fdb">rb_thread_aref</a> (VALUE thread, VALUE <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>)</td></tr>
<tr class="separator:a220ac519bf6c78ff8c72e47b3c700fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01267d71c3a0ad92afcbedc00fa31413"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a01267d71c3a0ad92afcbedc00fa31413">threadptr_local_aset</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, ID id, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:a01267d71c3a0ad92afcbedc00fa31413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae884caa41374501706b4bbd5ad1b744c"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae884caa41374501706b4bbd5ad1b744c">rb_thread_local_aset</a> (VALUE thread, ID id, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:ae884caa41374501706b4bbd5ad1b744c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d711e0bf44f31184eee0f2639f80c9"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae9d711e0bf44f31184eee0f2639f80c9">rb_thread_aset</a> (VALUE self, VALUE id, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:ae9d711e0bf44f31184eee0f2639f80c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d3fadd815f4d7930df7cc07ca1c0f7"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a33d3fadd815f4d7930df7cc07ca1c0f7">rb_thread_variable_get</a> (VALUE thread, VALUE <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>)</td></tr>
<tr class="separator:a33d3fadd815f4d7930df7cc07ca1c0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1c4ab106bf855946d6aaf2e3c51b3d"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a4b1c4ab106bf855946d6aaf2e3c51b3d">rb_thread_variable_set</a> (VALUE thread, VALUE id, VALUE <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:a4b1c4ab106bf855946d6aaf2e3c51b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e71f7e67290ebc29029bd1877f98fd"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab3e71f7e67290ebc29029bd1877f98fd">rb_thread_key_p</a> (VALUE self, VALUE <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>)</td></tr>
<tr class="separator:ab3e71f7e67290ebc29029bd1877f98fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5280a8a3bac3235afdeeecb5f667725"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae5280a8a3bac3235afdeeecb5f667725">thread_keys_i</a> (ID <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>, VALUE value, VALUE ary)</td></tr>
<tr class="separator:ae5280a8a3bac3235afdeeecb5f667725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d040754759ae4b01f4047f57af0eabf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a> (<a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *vm)</td></tr>
<tr class="separator:a4d040754759ae4b01f4047f57af0eabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86131edba4a5a668958ce58b661d7ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a> (void)</td></tr>
<tr class="separator:ac86131edba4a5a668958ce58b661d7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd4177f86d3e62a87471550f16b8d6c"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3dd4177f86d3e62a87471550f16b8d6c">rb_thread_keys</a> (VALUE self)</td></tr>
<tr class="separator:a3dd4177f86d3e62a87471550f16b8d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcfb798b72f66917ed1a1d43f9778eb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8bcfb798b72f66917ed1a1d43f9778eb">keys_i</a> (VALUE <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>, VALUE value, VALUE ary)</td></tr>
<tr class="separator:a8bcfb798b72f66917ed1a1d43f9778eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1b69af35ae664d0b59f052a9e96797"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afc1b69af35ae664d0b59f052a9e96797">rb_thread_variables</a> (VALUE thread)</td></tr>
<tr class="separator:afc1b69af35ae664d0b59f052a9e96797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb54c9af9269cdc1c8a29978e7926b27"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abb54c9af9269cdc1c8a29978e7926b27">rb_thread_variable_p</a> (VALUE thread, VALUE <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>)</td></tr>
<tr class="separator:abb54c9af9269cdc1c8a29978e7926b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b6b621aeddfb655a3e84b8ec9ab6a0"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a73b6b621aeddfb655a3e84b8ec9ab6a0">rb_thread_priority</a> (VALUE thread)</td></tr>
<tr class="separator:a73b6b621aeddfb655a3e84b8ec9ab6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f7ba0777b3019a8b7365dc59cf0c68"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab9f7ba0777b3019a8b7365dc59cf0c68">rb_thread_priority_set</a> (VALUE thread, VALUE prio)</td></tr>
<tr class="separator:ab9f7ba0777b3019a8b7365dc59cf0c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2924ac71c4bbafe8cdb4e6753b60271"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae2924ac71c4bbafe8cdb4e6753b60271">do_select</a> (int n, rb_fdset_t *readfds, rb_fdset_t *writefds, rb_fdset_t *exceptfds, struct timeval *timeout)</td></tr>
<tr class="separator:ae2924ac71c4bbafe8cdb4e6753b60271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1ffb1e8922c3c158ec0b96049735f4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0c1ffb1e8922c3c158ec0b96049735f4">rb_thread_wait_fd_rw</a> (int fd, int read)</td></tr>
<tr class="separator:a0c1ffb1e8922c3c158ec0b96049735f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71711b7cfb6eb7bb5d1ed4e1e387d333"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a71711b7cfb6eb7bb5d1ed4e1e387d333">rb_thread_wait_fd</a> (int fd)</td></tr>
<tr class="separator:a71711b7cfb6eb7bb5d1ed4e1e387d333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248c539c51b0fd0a68fd8e123ecfbe93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a248c539c51b0fd0a68fd8e123ecfbe93">rb_thread_fd_writable</a> (int fd)</td></tr>
<tr class="separator:a248c539c51b0fd0a68fd8e123ecfbe93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f9a9f04bf3e8f6f9597bed235e1685"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a57f9a9f04bf3e8f6f9597bed235e1685">rb_thread_fd_select</a> (int <a class="el" href="strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a>, rb_fdset_t *read, rb_fdset_t *write, rb_fdset_t *except, struct timeval *timeout)</td></tr>
<tr class="separator:a57f9a9f04bf3e8f6f9597bed235e1685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c38dd56b2be2e7609cea8da5569fff"><td class="memItemLeft" align="right" valign="top">static rb_fdset_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a28c38dd56b2be2e7609cea8da5569fff">init_set_fd</a> (int fd, rb_fdset_t *fds)</td></tr>
<tr class="separator:a28c38dd56b2be2e7609cea8da5569fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84178a005366c7c8c535ff992d429ceb"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a84178a005366c7c8c535ff992d429ceb">select_single</a> (VALUE ptr)</td></tr>
<tr class="separator:a84178a005366c7c8c535ff992d429ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25904d139dc6ef16dde15c9b6c877d72"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a25904d139dc6ef16dde15c9b6c877d72">select_single_cleanup</a> (VALUE ptr)</td></tr>
<tr class="separator:a25904d139dc6ef16dde15c9b6c877d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d928dd718bfee4b74deb87c1e82efd6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a5d928dd718bfee4b74deb87c1e82efd6">rb_wait_for_single_fd</a> (int fd, int events, struct timeval *tv)</td></tr>
<tr class="separator:a5d928dd718bfee4b74deb87c1e82efd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5d1c32095aaacdb337a9b06e214247"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abc5d1c32095aaacdb337a9b06e214247">rb_gc_set_stack_end</a> (VALUE **stack_end_p)</td></tr>
<tr class="separator:abc5d1c32095aaacdb337a9b06e214247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef1042de9adc6b17f182fe1d0466342"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a1ef1042de9adc6b17f182fe1d0466342">rb_threadptr_check_signal</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *mth)</td></tr>
<tr class="separator:a1ef1042de9adc6b17f182fe1d0466342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3187a245b600621afed826f8338f36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aee3187a245b600621afed826f8338f36">rb_thread_stop_timer_thread</a> (int close_anyway)</td></tr>
<tr class="separator:aee3187a245b600621afed826f8338f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ea0032f29e8cf2be79a7d4ac6383d0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9ea0032f29e8cf2be79a7d4ac6383d0a">rb_thread_reset_timer_thread</a> (void)</td></tr>
<tr class="separator:a9ea0032f29e8cf2be79a7d4ac6383d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc63c8472d896681275d164a6504ef65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afc63c8472d896681275d164a6504ef65">rb_thread_start_timer_thread</a> (void)</td></tr>
<tr class="separator:afc63c8472d896681275d164a6504ef65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f0e642456f2fddf177821148b4aac2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a45f0e642456f2fddf177821148b4aac2">clear_coverage_i</a> (st_data_t <a class="el" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>, st_data_t <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>, st_data_t dummy)</td></tr>
<tr class="separator:a45f0e642456f2fddf177821148b4aac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1f46285594f6e800dd7fa24edc8bc4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2e1f46285594f6e800dd7fa24edc8bc4">clear_coverage</a> (void)</td></tr>
<tr class="separator:a2e1f46285594f6e800dd7fa24edc8bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77071f6df5904870e6de0deacccd8857"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a77071f6df5904870e6de0deacccd8857">rb_thread_atfork_internal</a> (void(*atfork)(<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *, <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *))</td></tr>
<tr class="separator:a77071f6df5904870e6de0deacccd8857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1418d1110df354bbbfea757be94b41"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ace1418d1110df354bbbfea757be94b41">terminate_atfork_i</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *current_th)</td></tr>
<tr class="separator:ace1418d1110df354bbbfea757be94b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6f8148f90fefcd84afa732cefc2965"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abd6f8148f90fefcd84afa732cefc2965">rb_thread_atfork</a> (void)</td></tr>
<tr class="separator:abd6f8148f90fefcd84afa732cefc2965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3a0a4448c212ec7162dccdc3e1d426"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aec3a0a4448c212ec7162dccdc3e1d426">terminate_atfork_before_exec_i</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *current_th)</td></tr>
<tr class="separator:aec3a0a4448c212ec7162dccdc3e1d426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9582c89e8f607363640a487f183431ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9582c89e8f607363640a487f183431ab">rb_thread_atfork_before_exec</a> (void)</td></tr>
<tr class="separator:a9582c89e8f607363640a487f183431ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153ea4500a0bbc906b172a26745eb197"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a153ea4500a0bbc906b172a26745eb197">thgroup_memsize</a> (<a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *ptr)</td></tr>
<tr class="separator:a153ea4500a0bbc906b172a26745eb197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48793bd3cca25363c536a779f4e1b911"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a48793bd3cca25363c536a779f4e1b911">thgroup_s_alloc</a> (VALUE klass)</td></tr>
<tr class="separator:a48793bd3cca25363c536a779f4e1b911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b79b62809307da300051a1fadf58b3d"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9b79b62809307da300051a1fadf58b3d">thgroup_list</a> (VALUE group)</td></tr>
<tr class="separator:a9b79b62809307da300051a1fadf58b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa536a489522dc26a9dc4ca44b99ffd13"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa536a489522dc26a9dc4ca44b99ffd13">thgroup_enclose</a> (VALUE group)</td></tr>
<tr class="separator:aa536a489522dc26a9dc4ca44b99ffd13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52da755c3a2112ae2c954d7d0a44a971"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a52da755c3a2112ae2c954d7d0a44a971">thgroup_enclosed_p</a> (VALUE group)</td></tr>
<tr class="separator:a52da755c3a2112ae2c954d7d0a44a971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd252fbee879bc70e8fbc5bef2595512"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afd252fbee879bc70e8fbc5bef2595512">thgroup_add</a> (VALUE group, VALUE thread)</td></tr>
<tr class="separator:afd252fbee879bc70e8fbc5bef2595512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bc387e909d69188bf36b02ed0770ce"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a83bc387e909d69188bf36b02ed0770ce">mutex_free</a> (void *ptr)</td></tr>
<tr class="separator:a83bc387e909d69188bf36b02ed0770ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8da400c51ebaa76447a43463bdd5eef"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af8da400c51ebaa76447a43463bdd5eef">mutex_memsize</a> (<a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *ptr)</td></tr>
<tr class="separator:af8da400c51ebaa76447a43463bdd5eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85a523a4fd1c5ab592aae9c624ae0f5"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae85a523a4fd1c5ab592aae9c624ae0f5">rb_obj_is_mutex</a> (VALUE obj)</td></tr>
<tr class="separator:ae85a523a4fd1c5ab592aae9c624ae0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2e667ae84ee980ce0eb4aec6b34210"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a> (VALUE klass)</td></tr>
<tr class="separator:adb2e667ae84ee980ce0eb4aec6b34210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48beb1141e34a63a479ebb84c6102a75"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a48beb1141e34a63a479ebb84c6102a75">mutex_initialize</a> (VALUE self)</td></tr>
<tr class="separator:a48beb1141e34a63a479ebb84c6102a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f4d3393bc85cb29c1f8212cd2ecd7f"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a23f4d3393bc85cb29c1f8212cd2ecd7f">rb_mutex_new</a> (void)</td></tr>
<tr class="separator:a23f4d3393bc85cb29c1f8212cd2ecd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae369ec88c9a69c4013dda4b2fbcc7202"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae369ec88c9a69c4013dda4b2fbcc7202">rb_mutex_locked_p</a> (VALUE self)</td></tr>
<tr class="separator:ae369ec88c9a69c4013dda4b2fbcc7202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1046249493e1c719af3e89f1e0c0f38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa1046249493e1c719af3e89f1e0c0f38">mutex_locked</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE self)</td></tr>
<tr class="separator:aa1046249493e1c719af3e89f1e0c0f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec1b6513585139df3ecdb78f8bff874"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aaec1b6513585139df3ecdb78f8bff874">rb_mutex_trylock</a> (VALUE self)</td></tr>
<tr class="separator:aaec1b6513585139df3ecdb78f8bff874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ff6ae9532042cf22ce03187413a6ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a58ff6ae9532042cf22ce03187413a6ac">lock_func</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, <a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a> *mutex, int timeout_ms)</td></tr>
<tr class="separator:a58ff6ae9532042cf22ce03187413a6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133d106aa3a08b638eabf248fa8b208a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a133d106aa3a08b638eabf248fa8b208a">lock_interrupt</a> (void *ptr)</td></tr>
<tr class="separator:a133d106aa3a08b638eabf248fa8b208a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a0d55ad652665002fc75d1668228f2"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a> (VALUE self)</td></tr>
<tr class="separator:aa9a0d55ad652665002fc75d1668228f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3660161c888b7e5853b74240961c4375"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a3660161c888b7e5853b74240961c4375">rb_mutex_owned_p</a> (VALUE self)</td></tr>
<tr class="separator:a3660161c888b7e5853b74240961c4375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a758673d0badb20d17196d42a4476404f"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a> (VALUE self)</td></tr>
<tr class="separator:a758673d0badb20d17196d42a4476404f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad177befa65a7d10bd3b54a209ba58e63"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad177befa65a7d10bd3b54a209ba58e63">rb_mutex_sleep_forever</a> (VALUE time)</td></tr>
<tr class="separator:ad177befa65a7d10bd3b54a209ba58e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2310d4249b4d73311e17bd1830359dd"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac2310d4249b4d73311e17bd1830359dd">rb_mutex_wait_for</a> (VALUE time)</td></tr>
<tr class="separator:ac2310d4249b4d73311e17bd1830359dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb452b52541acf88d996b6b5c29d3f8"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7eb452b52541acf88d996b6b5c29d3f8">rb_mutex_sleep</a> (VALUE self, VALUE timeout)</td></tr>
<tr class="separator:a7eb452b52541acf88d996b6b5c29d3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df029bc2a04c32c3db751d8245c511f"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7df029bc2a04c32c3db751d8245c511f">mutex_sleep</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE self)</td></tr>
<tr class="separator:a7df029bc2a04c32c3db751d8245c511f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67eed485066a22a165646aa1fcce93bf"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a67eed485066a22a165646aa1fcce93bf">rb_mutex_synchronize</a> (VALUE mutex, VALUE(*func)(VALUE arg), VALUE arg)</td></tr>
<tr class="separator:a67eed485066a22a165646aa1fcce93bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3808b9e136ba89f6a78773edc35e5b"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afd3808b9e136ba89f6a78773edc35e5b">rb_mutex_synchronize_m</a> (VALUE self, VALUE args)</td></tr>
<tr class="separator:afd3808b9e136ba89f6a78773edc35e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203252bbdc4c28619b09270d92b1a2ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a203252bbdc4c28619b09270d92b1a2ad">rb_mutex_allow_trap</a> (VALUE self, int <a class="el" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)</td></tr>
<tr class="separator:a203252bbdc4c28619b09270d92b1a2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb7cb99a3fd2cd8189b8e27c7125d78"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abbb7cb99a3fd2cd8189b8e27c7125d78">thread_shield_mark</a> (void *ptr)</td></tr>
<tr class="separator:abbb7cb99a3fd2cd8189b8e27c7125d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac998e2a6e145d1d0e8d8c0646540da1"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aac998e2a6e145d1d0e8d8c0646540da1">thread_shield_alloc</a> (VALUE klass)</td></tr>
<tr class="separator:aac998e2a6e145d1d0e8d8c0646540da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b676a07b82076e552da1b668bfff731"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a0b676a07b82076e552da1b668bfff731">rb_thread_shield_waiting_inc</a> (VALUE b)</td></tr>
<tr class="separator:a0b676a07b82076e552da1b668bfff731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822fefd42b8bc6fe3bbc619375461671"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a822fefd42b8bc6fe3bbc619375461671">rb_thread_shield_waiting_dec</a> (VALUE b)</td></tr>
<tr class="separator:a822fefd42b8bc6fe3bbc619375461671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cdcc3941e89d47e52f924947250bf0"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a62cdcc3941e89d47e52f924947250bf0">rb_thread_shield_new</a> (void)</td></tr>
<tr class="separator:a62cdcc3941e89d47e52f924947250bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a525b8c10270f154409df1de59a2d39"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a9a525b8c10270f154409df1de59a2d39">rb_thread_shield_wait</a> (VALUE self)</td></tr>
<tr class="separator:a9a525b8c10270f154409df1de59a2d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6878b3ff4154f464d71220cf91d8ee9"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ab6878b3ff4154f464d71220cf91d8ee9">rb_thread_shield_release</a> (VALUE self)</td></tr>
<tr class="separator:ab6878b3ff4154f464d71220cf91d8ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6971ca6396b47e383db6a35ace5cfbcb"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a6971ca6396b47e383db6a35ace5cfbcb">rb_thread_shield_destroy</a> (VALUE self)</td></tr>
<tr class="separator:a6971ca6396b47e383db6a35ace5cfbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe54a87ef432758af8ac67571b4b55a"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#afbe54a87ef432758af8ac67571b4b55a">threadptr_recursive_hash</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th)</td></tr>
<tr class="separator:afbe54a87ef432758af8ac67571b4b55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c32d1e592a0fd559a7bc7bcdf4006a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a34c32d1e592a0fd559a7bc7bcdf4006a">threadptr_recursive_hash_set</a> (<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *th, VALUE <a class="el" href="lex_8c.html#a5541f85ce416df233cce93949f0eeeca">hash</a>)</td></tr>
<tr class="separator:a34c32d1e592a0fd559a7bc7bcdf4006a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65402e9020deb5f4c046feaa43e597c5"><td class="memItemLeft" align="right" valign="top">ID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a65402e9020deb5f4c046feaa43e597c5">rb_frame_last_func</a> (void)</td></tr>
<tr class="separator:a65402e9020deb5f4c046feaa43e597c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ea70e0ece79c3d983b6c8cb38e47ac"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae8ea70e0ece79c3d983b6c8cb38e47ac">recursive_list_access</a> (VALUE sym)</td></tr>
<tr class="separator:ae8ea70e0ece79c3d983b6c8cb38e47ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801367b38d3252a49bc58ebf35fc8805"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a801367b38d3252a49bc58ebf35fc8805">recursive_check</a> (VALUE <a class="el" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, VALUE obj_id, VALUE paired_obj_id)</td></tr>
<tr class="separator:a801367b38d3252a49bc58ebf35fc8805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a191fdc21db21f64ff9f87f5cbfdb7503"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a191fdc21db21f64ff9f87f5cbfdb7503">recursive_push</a> (VALUE <a class="el" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, VALUE obj, VALUE paired_obj)</td></tr>
<tr class="separator:a191fdc21db21f64ff9f87f5cbfdb7503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f6434fced2a5b31616054bf4b349bc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac0f6434fced2a5b31616054bf4b349bc">recursive_pop</a> (VALUE <a class="el" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, VALUE obj, VALUE paired_obj)</td></tr>
<tr class="separator:ac0f6434fced2a5b31616054bf4b349bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53ae5a6c5ce9366ec6a107434849570"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa53ae5a6c5ce9366ec6a107434849570">exec_recursive_i</a> (RB_BLOCK_CALL_FUNC_ARGLIST(tag, data))</td></tr>
<tr class="separator:aa53ae5a6c5ce9366ec6a107434849570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f0ec9b69f2092ca5389f3f4aa7fa17"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a> (VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE pairid, VALUE arg, int outer)</td></tr>
<tr class="separator:a40f0ec9b69f2092ca5389f3f4aa7fa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac029739bb809529487f4851cb281e7b0"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac029739bb809529487f4851cb281e7b0">rb_exec_recursive</a> (VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE arg)</td></tr>
<tr class="separator:ac029739bb809529487f4851cb281e7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75019706ad60c733aaea42dc6afb625"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ac75019706ad60c733aaea42dc6afb625">rb_exec_recursive_paired</a> (VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE paired_obj, VALUE arg)</td></tr>
<tr class="separator:ac75019706ad60c733aaea42dc6afb625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773fb3e73cd7c57c3074535ee9792e62"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a773fb3e73cd7c57c3074535ee9792e62">rb_exec_recursive_outer</a> (VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE arg)</td></tr>
<tr class="separator:a773fb3e73cd7c57c3074535ee9792e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8721d55ec5a34ca39d689dbfcb722ac4"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8721d55ec5a34ca39d689dbfcb722ac4">rb_exec_recursive_paired_outer</a> (VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE paired_obj, VALUE arg)</td></tr>
<tr class="separator:a8721d55ec5a34ca39d689dbfcb722ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8890446182a1d12bec449b361a4347"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aec8890446182a1d12bec449b361a4347">rb_thread_backtrace_m</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE thval)</td></tr>
<tr class="separator:aec8890446182a1d12bec449b361a4347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f5de4a9624b524856d997f06a132fe"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a41f5de4a9624b524856d997f06a132fe">rb_thread_backtrace_locations_m</a> (int <a class="el" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, VALUE *<a class="el" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, VALUE thval)</td></tr>
<tr class="separator:a41f5de4a9624b524856d997f06a132fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced71c22d91a38956c874820bde178e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aced71c22d91a38956c874820bde178e0">Init_Thread</a> (void)</td></tr>
<tr class="separator:aced71c22d91a38956c874820bde178e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc2bf3cc439b13dc26db5b77ab961e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aedc2bf3cc439b13dc26db5b77ab961e4">ruby_native_thread_p</a> (void)</td></tr>
<tr class="separator:aedc2bf3cc439b13dc26db5b77ab961e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad829d4d14520c86768c086a933e12689"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad829d4d14520c86768c086a933e12689">debug_deadlock_check</a> (<a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *vm)</td></tr>
<tr class="separator:ad829d4d14520c86768c086a933e12689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86004613fac2f76e403937e14e60f15a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a86004613fac2f76e403937e14e60f15a">update_coverage</a> (rb_event_flag_t event, VALUE proc, VALUE self, ID id, VALUE klass)</td></tr>
<tr class="separator:a86004613fac2f76e403937e14e60f15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f418cdbb9ed1a05c44d91d2a07d2eb"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a07f418cdbb9ed1a05c44d91d2a07d2eb">rb_get_coverages</a> (void)</td></tr>
<tr class="separator:a07f418cdbb9ed1a05c44d91d2a07d2eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda533d07af42453c8ba4ebe64bcb434"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#acda533d07af42453c8ba4ebe64bcb434">rb_set_coverages</a> (VALUE coverages)</td></tr>
<tr class="separator:acda533d07af42453c8ba4ebe64bcb434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af718cfec22a7d5e6978ffa532b793005"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#af718cfec22a7d5e6978ffa532b793005">rb_reset_coverages</a> (void)</td></tr>
<tr class="separator:af718cfec22a7d5e6978ffa532b793005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e7c19aa83784eabf9379fdefc4fc5b"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a03e7c19aa83784eabf9379fdefc4fc5b">rb_uninterruptible</a> (VALUE(*b_proc)(ANYARGS), VALUE data)</td></tr>
<tr class="separator:a03e7c19aa83784eabf9379fdefc4fc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc11705e9f4268c2cdc1120000e3c8d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#adc11705e9f4268c2cdc1120000e3c8d9">ruby_kill</a> (rb_pid_t pid, int sig)</td></tr>
<tr class="separator:adc11705e9f4268c2cdc1120000e3c8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
変数</h2></td></tr>
<tr class="memitem:abf1e8b399a6f3b8e66140389ebf83279"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a></td></tr>
<tr class="separator:abf1e8b399a6f3b8e66140389ebf83279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e1adeec33182f017949cc89ff20d0f"><td class="memItemLeft" align="right" valign="top">VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ae7e1adeec33182f017949cc89ff20d0f">rb_cThreadShield</a></td></tr>
<tr class="separator:ae7e1adeec33182f017949cc89ff20d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a974db2b683aa5dcc790fa7d247d8a880"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a></td></tr>
<tr class="separator:a974db2b683aa5dcc790fa7d247d8a880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd1a7585d2672c679f6d25fdf279a84"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a></td></tr>
<tr class="separator:a7dd1a7585d2672c679f6d25fdf279a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a374436fd3291ea7843f31fe0effcb"><td class="memItemLeft" align="right" valign="top">static VALUE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a></td></tr>
<tr class="separator:a15a374436fd3291ea7843f31fe0effcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf6f73d9127baf62c1da6b3a2b1070c"><td class="memItemLeft" align="right" valign="top">static ID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a></td></tr>
<tr class="separator:a8bf6f73d9127baf62c1da6b3a2b1070c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa871bbcb89aaa173181b8afa98846042"><td class="memItemLeft" align="right" valign="top">static volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aa871bbcb89aaa173181b8afa98846042">system_working</a> = 1</td></tr>
<tr class="separator:aa871bbcb89aaa173181b8afa98846042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6f884751ace832615a75198562b802"><td class="memItemLeft" align="right" valign="top">static ID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a></td></tr>
<tr class="separator:aff6f884751ace832615a75198562b802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f32ff5ab7d1882a7f89d5ffef1eeeab"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> rb_data_type_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a></td></tr>
<tr class="separator:a4f32ff5ab7d1882a7f89d5ffef1eeeab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08b53e774f300c71f14cbabedbd39ba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> rb_data_type_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a></td></tr>
<tr class="separator:ad08b53e774f300c71f14cbabedbd39ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c66f0b82b55bc228e8c9a79f8c4594"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a> = <a class="el" href="vsnprintf_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a66c66f0b82b55bc228e8c9a79f8c4594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0364314ab590bb8023ec98974974e0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> rb_data_type_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#abe0364314ab590bb8023ec98974974e0">thread_shield_data_type</a></td></tr>
<tr class="separator:abe0364314ab590bb8023ec98974974e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">マクロ定義詳解</h2>
<a class="anchor" id="a845f4d4fd9325a9ea97f7d47cd38bd20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __USE_FORTIFY_LEVEL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00056">56</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a7859dbb6b77b640c0ca927fc0da55adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCKING_REGION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">exec, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ubf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ubfarg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fail_if_interrupted&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>値:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { <a class="code" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">\</a></div>
<div class="line"><a class="code" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">    rb_thread_t</a> *__th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(); \</div>
<div class="line">    struct <a class="code" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> __region; \</div>
<div class="line">    if (<a class="code" href="thread_8c.html#aa886ec586144cf69ac6f2c44cd3a8a9f">blocking_region_begin</a>(__th, &amp;__region, (ubf), (ubfarg), fail_if_interrupted) || \</div>
<div class="line">    <span class="comment">/* always return true unless fail_if_interrupted */</span> \</div>
<div class="line">    !<a class="code" href="thread_8c.html#a0b2027e983919ea21e5284880567f352">only_if_constant</a>(fail_if_interrupted, <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)) { \</div>
<div class="line">    exec; <a class="code" href="thread_8c.html#a9271a3efc55d59d1eee23cbf8719ffec">\</a></div>
<div class="line"><a class="code" href="thread_8c.html#a9271a3efc55d59d1eee23cbf8719ffec">	blocking_region_end</a>(__th, &amp;__region); \</div>
<div class="line">    }; \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="thread_8c_html_a9271a3efc55d59d1eee23cbf8719ffec"><div class="ttname"><a href="thread_8c.html#a9271a3efc55d59d1eee23cbf8719ffec">blocking_region_end</a></div><div class="ttdeci">static void blocking_region_end(rb_thread_t *th, struct rb_blocking_region_buffer *region)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01250">thread.c:1250</a></div></div>
<div class="ttc" id="thread_8c_html_aa886ec586144cf69ac6f2c44cd3a8a9f"><div class="ttname"><a href="thread_8c.html#aa886ec586144cf69ac6f2c44cd3a8a9f">blocking_region_begin</a></div><div class="ttdeci">static int blocking_region_begin(rb_thread_t *th, struct rb_blocking_region_buffer *region, rb_unblock_function_t *ubf, void *arg, int fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01232">thread.c:1232</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html"><div class="ttname"><a href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00110">thread.c:110</a></div></div>
<div class="ttc" id="thread_8c_html_a0b2027e983919ea21e5284880567f352"><div class="ttname"><a href="thread_8c.html#a0b2027e983919ea21e5284880567f352">only_if_constant</a></div><div class="ttdeci">#define only_if_constant(expr, notconst)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00154">thread.c:154</a></div></div>
<div class="ttc" id="vm__core_8h_html_a70702992b3bf190c5dd8a4dffd79e2cd"><div class="ttname"><a href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a></div><div class="ttdeci">struct rb_thread_struct rb_thread_t</div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00156">156</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aeb3d6cf8e6a4b1ad8a63feb4bb2d1511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define closed_stream_error&#160;&#160;&#160;<a class="el" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;special_exceptions[<a class="el" href="vm__core_8h.html#a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b">ruby_error_closed_stream</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00098">98</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a7356e467a6753c4d54a1f6e1ec7bc04c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DELAY_INFTY&#160;&#160;&#160;1E30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00795">795</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a91ff2a2664cca7f055bc4a87b26e9f67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define eKillSignal&#160;&#160;&#160;INT2FIX(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00094">94</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aa421d36639c3bd7cd695aad0452e66d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define eTerminateSignal&#160;&#160;&#160;INT2FIX(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00095">95</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aa04e4c932f6d7b96d6a0f73e528a8339"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fill_thread_id_str</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">th</td><td>)</td>
          <td>&#160;&#160;&#160;(void)0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00247">247</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a4c82d6767fcd1b733452c8cdff77b36b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fill_thread_id_string</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">thid, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(thid)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00246">246</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="ae7600d013b8e1da0c365153e5c5ae008"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GetMutexPtr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tobj&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;TypedData_Get_Struct((obj), <a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a>, &amp;<a class="el" href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a>, (tobj))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04144">4144</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a438ef98147d61d06f695678766b44e15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GetThreadShieldPtr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj</td><td>)</td>
          <td>&#160;&#160;&#160;((VALUE)<a class="el" href="error_8c.html#a01f11924b05ac5d4df94383f39a14d6c">rb_check_typeddata</a>((obj), &amp;<a class="el" href="thread_8c.html#abe0364314ab590bb8023ec98974974e0">thread_shield_data_type</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04632">4632</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="ac4a353316c0c2cce85b75c7f0aada8ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GVL_UNLOCK_BEGIN</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>値:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { <a class="code" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">\</a></div>
<div class="line"><a class="code" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">  rb_thread_t</a> *_th_stored = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(); <a class="code" href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">\</a></div>
<div class="line"><a class="code" href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">  RB_GC_SAVE_MACHINE_CONTEXT</a>(_th_stored); \</div>
<div class="line">  gvl_release(_th_stored-&gt;vm);</div>
<div class="ttc" id="thread_8c_html_a87724f4fa8d14c9bf1504f528b858fa6"><div class="ttname"><a href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">RB_GC_SAVE_MACHINE_CONTEXT</a></div><div class="ttdeci">#define RB_GC_SAVE_MACHINE_CONTEXT(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00129">thread.c:129</a></div></div>
<div class="ttc" id="vm__core_8h_html_a70702992b3bf190c5dd8a4dffd79e2cd"><div class="ttname"><a href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a></div><div class="ttdeci">struct rb_thread_struct rb_thread_t</div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00137">137</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a7731fc2a60a727d5bbd8cf78fd5375a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GVL_UNLOCK_END</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>値:</b><div class="fragment"><div class="line">gvl_acquire(_th_stored-&gt;vm, _th_stored); <a class="code" href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">\</a></div>
<div class="line"><a class="code" href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">  rb_thread_set_current</a>(_th_stored); \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="vm__core_8h_html_addad24839d7483095151e91b3b83aed6"><div class="ttname"><a href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a></div><div class="ttdeci">#define rb_thread_set_current(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01088">vm_core.h:1088</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00142">142</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="af4903b3c7b7bbbd5308d69f0211420e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mutex_mark&#160;&#160;&#160;<a class="el" href="vsnprintf_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04147">4147</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a9fa7113fc5ddbcc70f72780d4d1c1dae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OBJ_ID_EQL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">obj_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">other&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((obj_id) == (other))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0b2027e983919ea21e5284880567f352"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define only_if_constant</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">notconst&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;notconst</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00154">154</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a21570891a952bdfe6b439219b20a7cc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRI_THREAD_ID&#160;&#160;&#160;&quot;p&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00249">249</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a87724f4fa8d14c9bf1504f528b858fa6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RB_GC_SAVE_MACHINE_CONTEXT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">th</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>値:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                            \</div>
<div class="line">    FLUSH_REGISTER_WINDOWS;                 <a class="code" href="thread_8c.html#aa2224aadc82fc43956c304bd631c9f39">\</a></div>
<div class="line"><a class="code" href="thread_8c.html#aa2224aadc82fc43956c304bd631c9f39">	RB_GC_SAVE_MACHINE_REGISTER_STACK</a>(th);         \</div>
<div class="line">    setjmp((th)-&gt;machine.regs);             <a class="code" href="gc_8h.html#a8f3496982ec2b045c65f0681d3f83863">\</a></div>
<div class="line"><a class="code" href="gc_8h.html#a8f3496982ec2b045c65f0681d3f83863">	SET_MACHINE_STACK_END</a>(&amp;(th)-&gt;machine.stack_end);   \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="gc_8h_html_a8f3496982ec2b045c65f0681d3f83863"><div class="ttname"><a href="gc_8h.html#a8f3496982ec2b045c65f0681d3f83863">SET_MACHINE_STACK_END</a></div><div class="ttdeci">#define SET_MACHINE_STACK_END(p)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8h_source.html#l00011">gc.h:11</a></div></div>
<div class="ttc" id="thread_8c_html_aa2224aadc82fc43956c304bd631c9f39"><div class="ttname"><a href="thread_8c.html#aa2224aadc82fc43956c304bd631c9f39">RB_GC_SAVE_MACHINE_REGISTER_STACK</a></div><div class="ttdeci">#define RB_GC_SAVE_MACHINE_REGISTER_STACK(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00127">thread.c:127</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00129">129</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aa2224aadc82fc43956c304bd631c9f39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RB_GC_SAVE_MACHINE_REGISTER_STACK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">th</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00127">127</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a9cfa42d4b79c89d68c53be8b2150a503"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rb_intern</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">str</td><td>)</td>
          <td>&#160;&#160;&#160;rb_intern_const(str)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab09a399c6570cd6696043c9c2abefc6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rb_thread_shield_waiting</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b</td><td>)</td>
          <td>&#160;&#160;&#160;(int)((RBASIC(b)-&gt;flags&amp;<a class="el" href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a>)&gt;&gt;<a class="el" href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04635">4635</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a58c7d1c9521948791d2e3fa395cb0a88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUBY_THREAD_PRIORITY_MAX&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00070">70</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="ad87654a9a2482222dcd14448c02eeabc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUBY_THREAD_PRIORITY_MIN&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00071">71</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a90f94aa25d18b63151123512564bfdee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THREAD_DEBUG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00075">75</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aa15388c1c819019d2cfa216af70f82bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define thread_debug&#160;&#160;&#160;if(0)printf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00242">242</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a8561cf624a81dc63b02734902fc09bd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define thread_id_str</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">th</td><td>)</td>
          <td>&#160;&#160;&#160;((void *)(th)-&gt;thread_id)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00248">248</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a5d87b02ebe75489bb01a100610bdf6bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THREAD_SHIELD_WAITING_MASK&#160;&#160;&#160;(FL_USER0|FL_USER1|FL_USER2|FL_USER3|FL_USER4|FL_USER5|FL_USER6|FL_USER7|FL_USER8|FL_USER9|FL_USER10|FL_USER11|FL_USER12|FL_USER13|FL_USER14|FL_USER15|FL_USER16|FL_USER17|FL_USER18|FL_USER19)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04633">4633</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="ad83526d54633180cc5aec43f4380ffa6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THREAD_SHIELD_WAITING_SHIFT&#160;&#160;&#160;(FL_USHIFT)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04634">4634</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a711ed0f5f2d64d14a71f64a971531c02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define thread_start_func_2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">th, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">st, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rst&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;thread_start_func_2(th, st)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00253">253</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a5ec8ab47dd85e4b2cccd5b0a5e897b5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THREAD_SYSTEM_DEPENDENT_IMPLEMENTATION</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00108">108</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a8a6bc44214adc51c353fe8a8302e8dd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USE_NATIVE_THREAD_PRIORITY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00069">69</a> 行目に定義があります。</p>

</div>
</div>
<h2 class="groupheader">型定義詳解</h2>
<a class="anchor" id="a68d6cc91aa5878b0b3a06c8cdfecf522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrb__mutex__struct.html">rb_mutex_struct</a>  <a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">列挙型詳解</h2>
<a class="anchor" id="ae8147c0c3bcd161c8b19333a034d77f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">列挙値</th></tr><tr><td class="fieldname"><a class="anchor" id="ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7"></a>INTERRUPT_NONE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9"></a>INTERRUPT_IMMEDIATE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306"></a>INTERRUPT_ON_BLOCKING&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5"></a>INTERRUPT_NEVER&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01553">1553</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                             {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a>,</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a>,</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a>,</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;};</div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01554">thread.c:1554</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01556">thread.c:1556</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01557">thread.c:1557</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01555">thread.c:1555</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">関数詳解</h2>
<a class="anchor" id="aa886ec586144cf69ac6f2c44cd3a8a9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int blocking_region_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> *&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_unblock_function_t *&#160;</td>
          <td class="paramname"><em>ubf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fail_if_interrupted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01232">1232</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;{</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    region-&gt;<a class="code" href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">prev_status</a> = th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a1eff8db4b0fbb9e4c65cc52dc6fec10e">set_unblock_function</a>(th, ubf, arg, &amp;region-&gt;<a class="code" href="structrb__blocking__region__buffer.html#ae3edcd4ea917741241ca94cd70d1f0ba">oldubf</a>, fail_if_interrupted)) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">blocking_region_buffer</a> = region;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;enter blocking region (%p)\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <a class="code" href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">RB_GC_SAVE_MACHINE_CONTEXT</a>(th);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    gvl_release(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aaf8cb1dd54464d5c8e277a66f2c1a063"><div class="ttname"><a href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">rb_thread_struct::blocking_region_buffer</a></div><div class="ttdeci">void * blocking_region_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00677">vm_core.h:677</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html_ae3edcd4ea917741241ca94cd70d1f0ba"><div class="ttname"><a href="structrb__blocking__region__buffer.html#ae3edcd4ea917741241ca94cd70d1f0ba">rb_blocking_region_buffer::oldubf</a></div><div class="ttdeci">struct rb_unblock_callback oldubf</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00112">thread.c:112</a></div></div>
<div class="ttc" id="thread_8c_html_a1eff8db4b0fbb9e4c65cc52dc6fec10e"><div class="ttname"><a href="thread_8c.html#a1eff8db4b0fbb9e4c65cc52dc6fec10e">set_unblock_function</a></div><div class="ttdeci">static int set_unblock_function(rb_thread_t *th, rb_unblock_function_t *func, void *arg, struct rb_unblock_callback *old, int fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00347">thread.c:347</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html_a7369d7c89e8156f9a8044c42b803e440"><div class="ttname"><a href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">rb_blocking_region_buffer::prev_status</a></div><div class="ttdeci">enum rb_thread_status prev_status</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00111">thread.c:111</a></div></div>
<div class="ttc" id="thread_8c_html_a87724f4fa8d14c9bf1504f528b858fa6"><div class="ttname"><a href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">RB_GC_SAVE_MACHINE_CONTEXT</a></div><div class="ttdeci">#define RB_GC_SAVE_MACHINE_CONTEXT(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00129">thread.c:129</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9271a3efc55d59d1eee23cbf8719ffec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void blocking_region_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> *&#160;</td>
          <td class="paramname"><em>region</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01250">1250</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;{</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    gvl_acquire(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>, th);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a>(th);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;leave blocking region (%p)\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    remove_signal_thread_list(th);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">blocking_region_buffer</a> = 0;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="thread_8c.html#a526470994d5b6261d41d4d6d0378e228">reset_unblock_function</a>(th, &amp;region-&gt;<a class="code" href="structrb__blocking__region__buffer.html#ae3edcd4ea917741241ca94cd70d1f0ba">oldubf</a>);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>) {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = region-&gt;<a class="code" href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">prev_status</a>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aaf8cb1dd54464d5c8e277a66f2c1a063"><div class="ttname"><a href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">rb_thread_struct::blocking_region_buffer</a></div><div class="ttdeci">void * blocking_region_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00677">vm_core.h:677</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html_ae3edcd4ea917741241ca94cd70d1f0ba"><div class="ttname"><a href="structrb__blocking__region__buffer.html#ae3edcd4ea917741241ca94cd70d1f0ba">rb_blocking_region_buffer::oldubf</a></div><div class="ttdeci">struct rb_unblock_callback oldubf</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00112">thread.c:112</a></div></div>
<div class="ttc" id="vm__core_8h_html_addad24839d7483095151e91b3b83aed6"><div class="ttname"><a href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a></div><div class="ttdeci">#define rb_thread_set_current(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01088">vm_core.h:1088</a></div></div>
<div class="ttc" id="thread_8c_html_a526470994d5b6261d41d4d6d0378e228"><div class="ttname"><a href="thread_8c.html#a526470994d5b6261d41d4d6d0378e228">reset_unblock_function</a></div><div class="ttdeci">static void reset_unblock_function(rb_thread_t *th, const struct rb_unblock_callback *old)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00376">thread.c:376</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html_a7369d7c89e8156f9a8044c42b803e440"><div class="ttname"><a href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">rb_blocking_region_buffer::prev_status</a></div><div class="ttdeci">enum rb_thread_status prev_status</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00111">thread.c:111</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b4b81e89bcd2c08610969b34255be38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* call_without_gvl </td>
          <td>(</td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_unblock_function_t *&#160;</td>
          <td class="paramname"><em>ubf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fail_if_interrupted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01264">1264</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;{</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a> = 0;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordtype">int</span> saved_errno = 0;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">waiting_fd</a> = -1;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (ubf == RUBY_UBF_IO || ubf == RUBY_UBF_PROCESS) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    ubf = ubf_select;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    data2 = th;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <a class="code" href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a>({</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    val = func(data1);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    saved_errno = errno;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    }, ubf, data2, fail_if_interrupted);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">if</span> (!fail_if_interrupted) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    errno = saved_errno;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a8ddade0070cf5af8034e1549e30839fb"><div class="ttname"><a href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">rb_thread_struct::waiting_fd</a></div><div class="ttdeci">int waiting_fd</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00646">vm_core.h:646</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="thread_8c_html_a7859dbb6b77b640c0ca927fc0da55adb"><div class="ttname"><a href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a></div><div class="ttdeci">#define BLOCKING_REGION(exec, ubf, ubfarg, fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00156">thread.c:156</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e1f46285594f6e800dd7fa24edc8bc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_coverage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03877">3877</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;{</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    VALUE coverages = <a class="code" href="thread_8c.html#a07f418cdbb9ed1a05c44d91d2a07d2eb">rb_get_coverages</a>();</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <span class="keywordflow">if</span> (RTEST(coverages)) {</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    <a class="code" href="st_8c.html#accc02c609f11fe0cad4061ff19f09b9a">st_foreach</a>(<a class="code" href="hash_8c.html#a7b5ea8c40a9e46c385df2b272f9bde28">rb_hash_tbl_raw</a>(coverages), <a class="code" href="thread_8c.html#a45f0e642456f2fddf177821148b4aac2">clear_coverage_i</a>, 0);</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;    }</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;}</div>
<div class="ttc" id="hash_8c_html_a7b5ea8c40a9e46c385df2b272f9bde28"><div class="ttname"><a href="hash_8c.html#a7b5ea8c40a9e46c385df2b272f9bde28">rb_hash_tbl_raw</a></div><div class="ttdeci">struct st_table * rb_hash_tbl_raw(VALUE hash)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00404">hash.c:404</a></div></div>
<div class="ttc" id="st_8c_html_accc02c609f11fe0cad4061ff19f09b9a"><div class="ttname"><a href="st_8c.html#accc02c609f11fe0cad4061ff19f09b9a">st_foreach</a></div><div class="ttdeci">int st_foreach(st_table *table, int(*func)(ANYARGS), st_data_t arg)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l01010">st.c:1010</a></div></div>
<div class="ttc" id="thread_8c_html_a45f0e642456f2fddf177821148b4aac2"><div class="ttname"><a href="thread_8c.html#a45f0e642456f2fddf177821148b4aac2">clear_coverage_i</a></div><div class="ttdeci">static int clear_coverage_i(st_data_t key, st_data_t val, st_data_t dummy)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03863">thread.c:3863</a></div></div>
<div class="ttc" id="thread_8c_html_a07f418cdbb9ed1a05c44d91d2a07d2eb"><div class="ttname"><a href="thread_8c.html#a07f418cdbb9ed1a05c44d91d2a07d2eb">rb_get_coverages</a></div><div class="ttdeci">VALUE rb_get_coverages(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05231">thread.c:5231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a45f0e642456f2fddf177821148b4aac2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int clear_coverage_i </td>
          <td>(</td>
          <td class="paramtype">st_data_t&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">st_data_t&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">st_data_t&#160;</td>
          <td class="paramname"><em>dummy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03863">3863</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;{</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;    VALUE lines = (VALUE)<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; RARRAY_LEN(lines); i++) {</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    <span class="keywordflow">if</span> (RARRAY_AREF(lines, i) != Qnil) {</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;        RARRAY_ASET(lines, i, INT2FIX(0));</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    }</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;    }</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    <span class="keywordflow">return</span> ST_CONTINUE;</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;}</div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad829d4d14520c86768c086a933e12689"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void debug_deadlock_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05153">5153</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;{</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;<span class="preprocessor">#ifdef DEBUG_DEADLOCK_CHECK</span></div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = 0;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    printf(<span class="stringliteral">&quot;%d %d %p %p\n&quot;</span>, <a class="code" href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a>(vm), vm-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>, <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(), vm-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>);</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, th, vmlt_node) {</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;    printf(<span class="stringliteral">&quot;th:%p %d %d&quot;</span>, th, th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>, th-&gt;<a class="code" href="structrb__thread__struct.html#ad0533270d757d45edf045b509cb9397d">interrupt_flag</a>);</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>) {</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;        <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;        <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>, mutex);</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;        native_mutex_lock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;        printf(<span class="stringliteral">&quot; %p %d\n&quot;</span>, mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a>, mutex-&gt;<a class="code" href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">cond_waiting</a>);</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;        native_mutex_unlock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;    }</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;        puts(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;    }</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a4d040754759ae4b01f4047f57af0eabf"><div class="ttname"><a href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a></div><div class="ttdeci">static int vm_living_thread_num(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03041">thread.c:3041</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ab0435aec1daf59ef6caceee7004a7cfb"><div class="ttname"><a href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">rb_thread_struct::locking_mutex</a></div><div class="ttdeci">VALUE locking_mutex</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00700">vm_core.h:700</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a749d1248a707da96582537f890c10287"><div class="ttname"><a href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">rb_vm_struct::sleeper</a></div><div class="ttdeci">volatile int sleeper</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00431">vm_core.h:431</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ad0533270d757d45edf045b509cb9397d"><div class="ttname"><a href="structrb__thread__struct.html#ad0533270d757d45edf045b509cb9397d">rb_thread_struct::interrupt_flag</a></div><div class="ttdeci">rb_atomic_t interrupt_flag</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00695">vm_core.h:695</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_addc3c29e18ae7c19968a9282f4493778"><div class="ttname"><a href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">rb_mutex_struct::cond_waiting</a></div><div class="ttdeci">int cond_waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00436">thread.c:436</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2924ac71c4bbafe8cdb4e6753b60271"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_select </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>writefds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>exceptfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03451">3451</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;{</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="internal_8h.html#a4fe18c662a7b518d966f50f6f412a9aa">UNINITIALIZED_VAR</a>(result);</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;    <span class="keywordtype">int</span> lerrno;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    rb_fdset_t <a class="code" href="internal_8h.html#a4fe18c662a7b518d966f50f6f412a9aa">UNINITIALIZED_VAR</a>(orig_read);</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    rb_fdset_t <a class="code" href="internal_8h.html#a4fe18c662a7b518d966f50f6f412a9aa">UNINITIALIZED_VAR</a>(orig_write);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    rb_fdset_t <a class="code" href="internal_8h.html#a4fe18c662a7b518d966f50f6f412a9aa">UNINITIALIZED_VAR</a>(orig_except);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordtype">double</span> limit = 0;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="keyword">struct </span>timeval wait_rest;</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <span class="keywordflow">if</span> (timeout) {</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;    limit = <a class="code" href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a>();</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    limit += (double)timeout-&gt;tv_sec+(<span class="keywordtype">double</span>)timeout-&gt;tv_usec*1e-6;</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    wait_rest = *timeout;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    timeout = &amp;wait_rest;</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    }</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <span class="keywordflow">if</span> (readfds)</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    rb_fd_init_copy(&amp;orig_read, readfds);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="keywordflow">if</span> (writefds)</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    rb_fd_init_copy(&amp;orig_write, writefds);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <span class="keywordflow">if</span> (exceptfds)</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    rb_fd_init_copy(&amp;orig_except, exceptfds);</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  retry:</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    lerrno = 0;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <a class="code" href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a>({</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;        result = native_fd_select(n, readfds, writefds, exceptfds,</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;                      timeout, th);</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;        <span class="keywordflow">if</span> (result &lt; 0) lerrno = errno;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    }, ubf_select, th, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    errno = lerrno;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="keywordflow">switch</span> (errno) {</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      <span class="keywordflow">case</span> EINTR:</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;<span class="preprocessor">#ifdef ERESTART</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <span class="keywordflow">case</span> ERESTART:</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <span class="keywordflow">if</span> (readfds)</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;        rb_fd_dup(readfds, &amp;orig_read);</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        <span class="keywordflow">if</span> (writefds)</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        rb_fd_dup(writefds, &amp;orig_write);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;        <span class="keywordflow">if</span> (exceptfds)</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        rb_fd_dup(exceptfds, &amp;orig_except);</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        <span class="keywordflow">if</span> (timeout) {</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        <span class="keywordtype">double</span> d = limit - <a class="code" href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a>();</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;        wait_rest.tv_sec = (time_t)d;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;        wait_rest.tv_usec = (int)((d-(<span class="keywordtype">double</span>)wait_rest.tv_sec)*1e6);</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        <span class="keywordflow">if</span> (wait_rest.tv_sec &lt; 0)  wait_rest.tv_sec = 0;</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        <span class="keywordflow">if</span> (wait_rest.tv_usec &lt; 0) wait_rest.tv_usec = 0;</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        }</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        <span class="keywordflow">goto</span> retry;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    }</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <span class="keywordflow">if</span> (readfds)</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    rb_fd_term(&amp;orig_read);</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="keywordflow">if</span> (writefds)</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    rb_fd_term(&amp;orig_write);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keywordflow">if</span> (exceptfds)</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    rb_fd_term(&amp;orig_except);</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="thread_8c_html_a61fb24a433044184448557b610073957"><div class="ttname"><a href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a></div><div class="ttdeci">static double timeofday(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01135">thread.c:1135</a></div></div>
<div class="ttc" id="internal_8h_html_a4fe18c662a7b518d966f50f6f412a9aa"><div class="ttname"><a href="internal_8h.html#a4fe18c662a7b518d966f50f6f412a9aa">UNINITIALIZED_VAR</a></div><div class="ttdeci">#define UNINITIALIZED_VAR(x)</div><div class="ttdef"><b>Definition:</b> <a href="internal_8h_source.html#l00044">internal.h:44</a></div></div>
<div class="ttc" id="thread_8c_html_a7859dbb6b77b640c0ca927fc0da55adb"><div class="ttname"><a href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a></div><div class="ttdeci">#define BLOCKING_REGION(exec, ubf, ubfarg, fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00156">thread.c:156</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5dd14be99189cddb590d536bc4e3a566"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct timeval double2timeval </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01011">1011</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">/* assume timeval.tv_sec has same signedness as time_t */</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> TIMEVAL_SEC_MAX_PLUS_ONE = (2*(double)(TIMEVAL_SEC_MAX/2+1));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keyword">struct </span>timeval time;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span> (TIMEVAL_SEC_MAX_PLUS_ONE &lt;= d) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        time.tv_sec = TIMEVAL_SEC_MAX;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        time.tv_usec = 999999;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (d &lt;= TIMEVAL_SEC_MIN) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        time.tv_sec = TIMEVAL_SEC_MIN;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        time.tv_usec = 0;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        time.tv_sec = (<a class="code" href="timev_8h.html#acba6d42e61e03fa3c561e8d6881eccb6">TYPEOF_TIMEVAL_TV_SEC</a>)d;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        time.tv_usec = (int)((d - (time_t)d) * 1e6);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">if</span> (time.tv_usec &lt; 0) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            time.tv_usec += (int)1e6;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            time.tv_sec -= 1;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">return</span> time;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="ttc" id="timev_8h_html_acba6d42e61e03fa3c561e8d6881eccb6"><div class="ttname"><a href="timev_8h.html#acba6d42e61e03fa3c561e8d6881eccb6">TYPEOF_TIMEVAL_TV_SEC</a></div><div class="ttdeci">#define TYPEOF_TIMEVAL_TV_SEC</div><div class="ttdef"><b>Definition:</b> <a href="timev_8h_source.html#l00022">timev.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40f0ec9b69f2092ca5389f3f4aa7fa17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE exec_recursive </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(VALUE, VALUE, int)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>pairid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04873">4873</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;{</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    VALUE result = Qundef;</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keyword">const</span> ID mid = <a class="code" href="thread_8c.html#a65402e9020deb5f4c046feaa43e597c5">rb_frame_last_func</a>();</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    <span class="keyword">const</span> VALUE sym = mid ? ID2SYM(mid) : ID2SYM(<a class="code" href="id_8h.html#a08dd4fbd61c5fde369edd59783f753b3a87d44255d815f8a76c9081e9a5629d0f">idNULL</a>);</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    <span class="keyword">struct </span><a class="code" href="structexec__recursive__params.html">exec_recursive_params</a> p;</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    <span class="keywordtype">int</span> outermost;</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    p.<a class="code" href="structexec__recursive__params.html#a030459b075357c2c510a68b728fea67a">list</a> = <a class="code" href="thread_8c.html#ae8ea70e0ece79c3d983b6c8cb38e47ac">recursive_list_access</a>(sym);</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    p.objid = <a class="code" href="gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a>(<a class="code" href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">obj</a>);</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    p.obj = <a class="code" href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">obj</a>;</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    p.pairid = <a class="code" href="structexec__recursive__params.html#af1e962730068d5d4580a409cca769dea">pairid</a>;</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    p.arg = <a class="code" href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">arg</a>;</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    outermost = outer &amp;&amp; !<a class="code" href="thread_8c.html#a801367b38d3252a49bc58ebf35fc8805">recursive_check</a>(p.list, ID2SYM(<a class="code" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a>), 0);</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a801367b38d3252a49bc58ebf35fc8805">recursive_check</a>(p.list, p.objid, <a class="code" href="structexec__recursive__params.html#af1e962730068d5d4580a409cca769dea">pairid</a>)) {</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <span class="keywordflow">if</span> (outer &amp;&amp; !outermost) {</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        <a class="code" href="vm__eval_8c.html#afbfd4c5dcb80b106c63b085206a3a8ec">rb_throw_obj</a>(p.list, p.list);</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    }</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;    <span class="keywordflow">return</span> (*<a class="code" href="structexec__recursive__params.html#a8ec0e633d2a5e2516d5965cb0851073c">func</a>)(<a class="code" href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">obj</a>, <a class="code" href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">arg</a>, <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;    }</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    <span class="keywordtype">int</span> state;</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    p.func = <a class="code" href="structexec__recursive__params.html#a8ec0e633d2a5e2516d5965cb0851073c">func</a>;</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <span class="keywordflow">if</span> (outermost) {</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        <a class="code" href="thread_8c.html#a191fdc21db21f64ff9f87f5cbfdb7503">recursive_push</a>(p.list, ID2SYM(<a class="code" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a>), 0);</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;        <a class="code" href="thread_8c.html#a191fdc21db21f64ff9f87f5cbfdb7503">recursive_push</a>(p.list, p.objid, p.pairid);</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;        result = <a class="code" href="internal_8h.html#a3ea02db49d18c9984a51127f4cdf5c8a">rb_catch_protect</a>(p.list, <a class="code" href="thread_8c.html#aa53ae5a6c5ce9366ec6a107434849570">exec_recursive_i</a>, (VALUE)&amp;p, &amp;state);</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#ac0f6434fced2a5b31616054bf4b349bc">recursive_pop</a>(p.list, p.objid, p.pairid)) <span class="keywordflow">goto</span> invalid;</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#ac0f6434fced2a5b31616054bf4b349bc">recursive_pop</a>(p.list, ID2SYM(<a class="code" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a>), 0)) <span class="keywordflow">goto</span> invalid;</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;        <span class="keywordflow">if</span> (state) <a class="code" href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a>(state);</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;        <span class="keywordflow">if</span> (result == p.list) {</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;        result = (*func)(<a class="code" href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">obj</a>, <a class="code" href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">arg</a>, <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;        }</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    }</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;        <span class="keyword">volatile</span> VALUE ret = Qundef;</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;        <a class="code" href="thread_8c.html#a191fdc21db21f64ff9f87f5cbfdb7503">recursive_push</a>(p.list, p.objid, p.pairid);</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;        <a class="code" href="eval__intern_8h.html#ac0e28e3418925cd969f30157281642bf">PUSH_TAG</a>();</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;        <span class="keywordflow">if</span> ((state = <a class="code" href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a>()) == 0) {</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;        ret = (*func)(<a class="code" href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">obj</a>, <a class="code" href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">arg</a>, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;        }</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;        <a class="code" href="eval__intern_8h.html#accfba89bbfaf289dc5fff2d2f235f2f1">POP_TAG</a>();</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#ac0f6434fced2a5b31616054bf4b349bc">recursive_pop</a>(p.list, p.objid, p.pairid)) {</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;          invalid:</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;invalid inspect_tbl pair_list &quot;</span></div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;             <span class="stringliteral">&quot;for %+&quot;</span>PRIsVALUE<span class="stringliteral">&quot; in %+&quot;</span>PRIsVALUE,</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;             sym, <a class="code" href="thread_8c.html#ac41dd89ae3df1fc1d9968c8239659ce3">rb_thread_current</a>());</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;        }</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        <span class="keywordflow">if</span> (state) <a class="code" href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a>(state);</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;        result = ret;</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;    }</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;    }</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;    *(<span class="keyword">volatile</span> <span class="keyword">struct </span><a class="code" href="structexec__recursive__params.html">exec_recursive_params</a> *)&amp;p;</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;}</div>
<div class="ttc" id="gc_8c_html_a56eb26ff20f077eecdca272b83df1652"><div class="ttname"><a href="gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a></div><div class="ttdeci">VALUE rb_obj_id(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l02927">gc.c:2927</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_a030459b075357c2c510a68b728fea67a"><div class="ttname"><a href="structexec__recursive__params.html#a030459b075357c2c510a68b728fea67a">exec_recursive_params::list</a></div><div class="ttdeci">VALUE list</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04847">thread.c:4847</a></div></div>
<div class="ttc" id="id_8h_html_a08dd4fbd61c5fde369edd59783f753b3a87d44255d815f8a76c9081e9a5629d0f"><div class="ttname"><a href="id_8h.html#a08dd4fbd61c5fde369edd59783f753b3a87d44255d815f8a76c9081e9a5629d0f">idNULL</a></div><div class="ttdef"><b>Definition:</b> <a href="id_8h_source.html#l00102">id.h:102</a></div></div>
<div class="ttc" id="error_8c_html_a565ed9d70f4089e1b4a36e9b3381b8c6"><div class="ttname"><a href="error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a></div><div class="ttdeci">VALUE rb_eTypeError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00622">error.c:622</a></div></div>
<div class="ttc" id="thread_8c_html_ac41dd89ae3df1fc1d9968c8239659ce3"><div class="ttname"><a href="thread_8c.html#ac41dd89ae3df1fc1d9968c8239659ce3">rb_thread_current</a></div><div class="ttdeci">VALUE rb_thread_current(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02393">thread.c:2393</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="internal_8h_html_a3ea02db49d18c9984a51127f4cdf5c8a"><div class="ttname"><a href="internal_8h.html#a3ea02db49d18c9984a51127f4cdf5c8a">rb_catch_protect</a></div><div class="ttdeci">VALUE rb_catch_protect(VALUE t, rb_block_call_func *func, VALUE data, int *stateptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__eval_8c_source.html#l01978">vm_eval.c:1978</a></div></div>
<div class="ttc" id="eval__intern_8h_html_ac0e28e3418925cd969f30157281642bf"><div class="ttname"><a href="eval__intern_8h.html#ac0e28e3418925cd969f30157281642bf">PUSH_TAG</a></div><div class="ttdeci">#define PUSH_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00137">eval_intern.h:137</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_afef6d6a2ed2113d98a9593a6c44d4ef1"><div class="ttname"><a href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">exec_recursive_params::arg</a></div><div class="ttdeci">VALUE arg</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04851">thread.c:4851</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a3441e3967c633da99c3dcd025494053e"><div class="ttname"><a href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a></div><div class="ttdeci">#define EXEC_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00172">eval_intern.h:172</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a24884166ae699029ade34fd36bedd688"><div class="ttname"><a href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a></div><div class="ttdeci">#define JUMP_TAG(st)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00177">eval_intern.h:177</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_a9c2e1d8f2ea195d25f725b16bd20602d"><div class="ttname"><a href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">exec_recursive_params::obj</a></div><div class="ttdeci">VALUE obj</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04848">thread.c:4848</a></div></div>
<div class="ttc" id="eval__intern_8h_html_accfba89bbfaf289dc5fff2d2f235f2f1"><div class="ttname"><a href="eval__intern_8h.html#accfba89bbfaf289dc5fff2d2f235f2f1">POP_TAG</a></div><div class="ttdeci">#define POP_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00138">eval_intern.h:138</a></div></div>
<div class="ttc" id="vm__eval_8c_html_afbfd4c5dcb80b106c63b085206a3a8ec"><div class="ttname"><a href="vm__eval_8c.html#afbfd4c5dcb80b106c63b085206a3a8ec">rb_throw_obj</a></div><div class="ttdeci">void rb_throw_obj(VALUE tag, VALUE value)</div><div class="ttdef"><b>Definition:</b> <a href="vm__eval_8c_source.html#l01859">vm_eval.c:1859</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_af1e962730068d5d4580a409cca769dea"><div class="ttname"><a href="structexec__recursive__params.html#af1e962730068d5d4580a409cca769dea">exec_recursive_params::pairid</a></div><div class="ttdeci">VALUE pairid</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04850">thread.c:4850</a></div></div>
<div class="ttc" id="thread_8c_html_ac0f6434fced2a5b31616054bf4b349bc"><div class="ttname"><a href="thread_8c.html#ac0f6434fced2a5b31616054bf4b349bc">recursive_pop</a></div><div class="ttdeci">static int recursive_pop(VALUE list, VALUE obj, VALUE paired_obj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04827">thread.c:4827</a></div></div>
<div class="ttc" id="structexec__recursive__params_html"><div class="ttname"><a href="structexec__recursive__params.html">exec_recursive_params</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04845">thread.c:4845</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_a8ec0e633d2a5e2516d5965cb0851073c"><div class="ttname"><a href="structexec__recursive__params.html#a8ec0e633d2a5e2516d5965cb0851073c">exec_recursive_params::func</a></div><div class="ttdeci">VALUE(* func)(VALUE, VALUE, int)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04846">thread.c:4846</a></div></div>
<div class="ttc" id="thread_8c_html_a65402e9020deb5f4c046feaa43e597c5"><div class="ttname"><a href="thread_8c.html#a65402e9020deb5f4c046feaa43e597c5">rb_frame_last_func</a></div><div class="ttdeci">ID rb_frame_last_func(void)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l01041">eval.c:1041</a></div></div>
<div class="ttc" id="thread_8c_html_ae8ea70e0ece79c3d983b6c8cb38e47ac"><div class="ttname"><a href="thread_8c.html#ae8ea70e0ece79c3d983b6c8cb38e47ac">recursive_list_access</a></div><div class="ttdeci">static VALUE recursive_list_access(VALUE sym)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04735">thread.c:4735</a></div></div>
<div class="ttc" id="thread_8c_html_a191fdc21db21f64ff9f87f5cbfdb7503"><div class="ttname"><a href="thread_8c.html#a191fdc21db21f64ff9f87f5cbfdb7503">recursive_push</a></div><div class="ttdeci">static void recursive_push(VALUE list, VALUE obj, VALUE paired_obj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04797">thread.c:4797</a></div></div>
<div class="ttc" id="thread_8c_html_aa53ae5a6c5ce9366ec6a107434849570"><div class="ttname"><a href="thread_8c.html#aa53ae5a6c5ce9366ec6a107434849570">exec_recursive_i</a></div><div class="ttdeci">static VALUE exec_recursive_i(RB_BLOCK_CALL_FUNC_ARGLIST(tag, data))</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04855">thread.c:4855</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
<div class="ttc" id="thread_8c_html_a801367b38d3252a49bc58ebf35fc8805"><div class="ttname"><a href="thread_8c.html#a801367b38d3252a49bc58ebf35fc8805">recursive_check</a></div><div class="ttdeci">static VALUE recursive_check(VALUE list, VALUE obj_id, VALUE paired_obj_id)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04762">thread.c:4762</a></div></div>
<div class="ttc" id="thread_8c_html_aff6f884751ace832615a75198562b802"><div class="ttname"><a href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a></div><div class="ttdeci">static ID recursive_key</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02795">thread.c:2795</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa53ae5a6c5ce9366ec6a107434849570"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE exec_recursive_i </td>
          <td>(</td>
          <td class="paramtype">RB_BLOCK_CALL_FUNC_ARGLIST(tag, data)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04855">4855</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;{</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;    <span class="keyword">struct </span><a class="code" href="structexec__recursive__params.html">exec_recursive_params</a> *p = (<span class="keywordtype">void</span> *)data;</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    <span class="keywordflow">return</span> (*p-&gt;<a class="code" href="structexec__recursive__params.html#a8ec0e633d2a5e2516d5965cb0851073c">func</a>)(p-&gt;<a class="code" href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">obj</a>, p-&gt;<a class="code" href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">arg</a>, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;}</div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_afef6d6a2ed2113d98a9593a6c44d4ef1"><div class="ttname"><a href="structexec__recursive__params.html#afef6d6a2ed2113d98a9593a6c44d4ef1">exec_recursive_params::arg</a></div><div class="ttdeci">VALUE arg</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04851">thread.c:4851</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_a9c2e1d8f2ea195d25f725b16bd20602d"><div class="ttname"><a href="structexec__recursive__params.html#a9c2e1d8f2ea195d25f725b16bd20602d">exec_recursive_params::obj</a></div><div class="ttdeci">VALUE obj</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04848">thread.c:4848</a></div></div>
<div class="ttc" id="structexec__recursive__params_html"><div class="ttname"><a href="structexec__recursive__params.html">exec_recursive_params</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04845">thread.c:4845</a></div></div>
<div class="ttc" id="structexec__recursive__params_html_a8ec0e633d2a5e2516d5965cb0851073c"><div class="ttname"><a href="structexec__recursive__params.html#a8ec0e633d2a5e2516d5965cb0851073c">exec_recursive_params::func</a></div><div class="ttdeci">VALUE(* func)(VALUE, VALUE, int)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04846">thread.c:4846</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb7df505b05d3a05ae562f2e42f4cb10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void getclockofday </td>
          <td>(</td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01062">1062</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="preprocessor">#if defined(HAVE_CLOCK_GETTIME) &amp;&amp; defined(CLOCK_MONOTONIC)</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keyword">struct </span>timespec ts;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (clock_gettime(CLOCK_MONOTONIC, &amp;ts) == 0) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    tp-&gt;tv_sec = ts.tv_sec;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    tp-&gt;tv_usec = ts.tv_nsec / 1000;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        gettimeofday(tp, <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;}</div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3695026c347ba77d8fef887cf766c681"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int handle_interrupt_arg_check_i </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01675">1675</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a> != <a class="code" href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a> &amp;&amp; <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a> != <a class="code" href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a> &amp;&amp; <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a> != <a class="code" href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a>) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a>, <span class="stringliteral">&quot;unknown mask signature&quot;</span>);</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">return</span> ST_CONTINUE;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a15a374436fd3291ea7843f31fe0effcb"><div class="ttname"><a href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a></div><div class="ttdeci">static VALUE sym_never</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00083">thread.c:83</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_a974db2b683aa5dcc790fa7d247d8a880"><div class="ttname"><a href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a></div><div class="ttdeci">static VALUE sym_immediate</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00081">thread.c:81</a></div></div>
<div class="ttc" id="thread_8c_html_a7dd1a7585d2672c679f6d25fdf279a84"><div class="ttname"><a href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a></div><div class="ttdeci">static VALUE sym_on_blocking</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00082">thread.c:82</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="error_8c_html_ab5e2a9fec766c75176fbb262bfe6a596"><div class="ttname"><a href="error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a></div><div class="ttdeci">VALUE rb_eArgError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00623">error.c:623</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28c38dd56b2be2e7609cea8da5569fff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static rb_fdset_t* init_set_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>fds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03707">3707</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;{</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    rb_fd_init(fds);</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    rb_fd_set(fd, fds);</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <span class="keywordflow">return</span> fds;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aced71c22d91a38956c874820bde178e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Init_Thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05024">5024</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;{</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;<span class="preprocessor">#undef rb_intern</span></div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;<span class="preprocessor">#define rb_intern(str) rb_intern_const(str)</span></div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;    VALUE cThGroup;</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    <a class="code" href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a> = ID2SYM(<a class="code" href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;never&quot;</span>));</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;    <a class="code" href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a> = ID2SYM(<a class="code" href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;immediate&quot;</span>));</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <a class="code" href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a> = ID2SYM(<a class="code" href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;on_blocking&quot;</span>));</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    <a class="code" href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a> = <a class="code" href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;locals&quot;</span>);</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;new&quot;</span>, <a class="code" href="thread_8c.html#a710162ffb460c0ccee5c5dbbe78d694a">thread_s_new</a>, -1);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;start&quot;</span>, <a class="code" href="thread_8c.html#a55c3507d4449aa123567d234b0fdd480">thread_start</a>, -2);</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;fork&quot;</span>, <a class="code" href="thread_8c.html#a55c3507d4449aa123567d234b0fdd480">thread_start</a>, -2);</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;main&quot;</span>, <a class="code" href="thread_8c.html#a83d7c781f19dd50dc347bfae5ffdad54">rb_thread_s_main</a>, 0);</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;current&quot;</span>, <a class="code" href="thread_8c.html#a0ed18e8b46c8e0e66388f04dfde704ff">thread_s_current</a>, 0);</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;stop&quot;</span>, <a class="code" href="thread_8c.html#a6f6e14ae14061684bce66a2e886bcb03">rb_thread_stop</a>, 0);</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;kill&quot;</span>, <a class="code" href="thread_8c.html#abea0c0d50a07f163c286d370ae2e9974">rb_thread_s_kill</a>, 1);</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;exit&quot;</span>, <a class="code" href="thread_8c.html#a14413506613b516843bde54b5a6578ed">rb_thread_exit</a>, 0);</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;pass&quot;</span>, <a class="code" href="thread_8c.html#a3334ac127c95c82989183b051af05bfe">thread_s_pass</a>, 0);</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;list&quot;</span>, <a class="code" href="thread_8c.html#afd2bc54fc62e02229c7cded86a6a93ad">rb_thread_list</a>, 0);</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;abort_on_exception&quot;</span>, <a class="code" href="thread_8c.html#abfa2c372ccfc42b59b23f4b3cbe3c45f">rb_thread_s_abort_exc</a>, 0);</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;abort_on_exception=&quot;</span>, <a class="code" href="thread_8c.html#a0c1410ed32492fe869727957f7e6a950">rb_thread_s_abort_exc_set</a>, 1);</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;<span class="preprocessor">#if THREAD_DEBUG &lt; 0</span></div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;DEBUG&quot;</span>, rb_thread_s_debug, 0);</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;DEBUG=&quot;</span>, rb_thread_s_debug_set, 1);</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;handle_interrupt&quot;</span>, <a class="code" href="thread_8c.html#a7926cb2abb5777f7a6cb958fb861f6fc">rb_thread_s_handle_interrupt</a>, 1);</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;    <a class="code" href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;pending_interrupt?&quot;</span>, <a class="code" href="thread_8c.html#ab7635d7702ab68d430153a5483aec98a">rb_thread_s_pending_interrupt_p</a>, -1);</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;pending_interrupt?&quot;</span>, <a class="code" href="thread_8c.html#a98660b14ebe5541413764ba6666c465f">rb_thread_pending_interrupt_p</a>, -1);</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;initialize&quot;</span>, <a class="code" href="thread_8c.html#a64e838d5fd91fcb827d9621f5909de3d">thread_initialize</a>, -2);</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;raise&quot;</span>, <a class="code" href="thread_8c.html#a6dcafa51e28d3098a07ae432cc74d8b7">thread_raise_m</a>, -1);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;join&quot;</span>, <a class="code" href="thread_8c.html#a84e1f762956dd3202f65d0066d249c5d">thread_join_m</a>, -1);</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;value&quot;</span>, <a class="code" href="thread_8c.html#a447024e24d3b6c5fad99702d57b0002f">thread_value</a>, 0);</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;kill&quot;</span>, <a class="code" href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a>, 0);</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;terminate&quot;</span>, <a class="code" href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a>, 0);</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;exit&quot;</span>, <a class="code" href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a>, 0);</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;run&quot;</span>, <a class="code" href="thread_8c.html#aa0f6e88800576706aca78d4f8c96a82e">rb_thread_run</a>, 0);</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;wakeup&quot;</span>, <a class="code" href="thread_8c.html#aa1e05608c1815e8b03e5147325a14bab">rb_thread_wakeup</a>, 0);</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;[]&quot;</span>, <a class="code" href="thread_8c.html#a220ac519bf6c78ff8c72e47b3c700fdb">rb_thread_aref</a>, 1);</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;[]=&quot;</span>, <a class="code" href="thread_8c.html#ae9d711e0bf44f31184eee0f2639f80c9">rb_thread_aset</a>, 2);</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;key?&quot;</span>, <a class="code" href="thread_8c.html#ab3e71f7e67290ebc29029bd1877f98fd">rb_thread_key_p</a>, 1);</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;keys&quot;</span>, <a class="code" href="thread_8c.html#a3dd4177f86d3e62a87471550f16b8d6c">rb_thread_keys</a>, 0);</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;priority&quot;</span>, <a class="code" href="thread_8c.html#a73b6b621aeddfb655a3e84b8ec9ab6a0">rb_thread_priority</a>, 0);</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;priority=&quot;</span>, <a class="code" href="thread_8c.html#ab9f7ba0777b3019a8b7365dc59cf0c68">rb_thread_priority_set</a>, 1);</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;status&quot;</span>, <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a>, 0);</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;thread_variable_get&quot;</span>, <a class="code" href="thread_8c.html#a33d3fadd815f4d7930df7cc07ca1c0f7">rb_thread_variable_get</a>, 1);</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;thread_variable_set&quot;</span>, <a class="code" href="thread_8c.html#a4b1c4ab106bf855946d6aaf2e3c51b3d">rb_thread_variable_set</a>, 2);</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;thread_variables&quot;</span>, <a class="code" href="thread_8c.html#afc1b69af35ae664d0b59f052a9e96797">rb_thread_variables</a>, 0);</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;thread_variable?&quot;</span>, <a class="code" href="thread_8c.html#abb54c9af9269cdc1c8a29978e7926b27">rb_thread_variable_p</a>, 1);</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;alive?&quot;</span>, <a class="code" href="thread_8c.html#a5b8ec82e1846eadcb0e0e97803ff7520">rb_thread_alive_p</a>, 0);</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;stop?&quot;</span>, <a class="code" href="thread_8c.html#a96d91467b7e140be460c69c100825afa">rb_thread_stop_p</a>, 0);</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;abort_on_exception&quot;</span>, <a class="code" href="thread_8c.html#a098ea3519979c810fbd81bb030bd1f03">rb_thread_abort_exc</a>, 0);</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;abort_on_exception=&quot;</span>, <a class="code" href="thread_8c.html#ac6b979d548ecf0557e4efa54079ac81a">rb_thread_abort_exc_set</a>, 1);</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;safe_level&quot;</span>, <a class="code" href="thread_8c.html#a236240d46cf6162b2d6d85f97f2a2989">rb_thread_safe_level</a>, 0);</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;group&quot;</span>, <a class="code" href="thread_8c.html#a265dfbed765a341f8e694c7bdc8e5357">rb_thread_group</a>, 0);</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;backtrace&quot;</span>, <a class="code" href="thread_8c.html#aec8890446182a1d12bec449b361a4347">rb_thread_backtrace_m</a>, -1);</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;backtrace_locations&quot;</span>, <a class="code" href="thread_8c.html#a41f5de4a9624b524856d997f06a132fe">rb_thread_backtrace_locations_m</a>, -1);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="thread_8c.html#ad9551a0d57549f0b74b16c3e5b4f91ee">rb_thread_getname</a>, 0);</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;name=&quot;</span>, <a class="code" href="thread_8c.html#ad01481866fa1c711b7b2a65532dc63b8">rb_thread_setname</a>, 1);</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>, <span class="stringliteral">&quot;inspect&quot;</span>, <a class="code" href="thread_8c.html#a1a3aa8956530e0171285ddd8a797c4f0">rb_thread_inspect</a>, 0);</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    <a class="code" href="vm_8c.html#ad3a4e96ed6c7c27cd17a8d17d6006cf6">rb_vm_register_special_exception</a>(<a class="code" href="vm__core_8h.html#a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b">ruby_error_closed_stream</a>, <a class="code" href="io_8c.html#a3a88df7a1fc75148ff72cfa4742e9b01">rb_eIOError</a>, <span class="stringliteral">&quot;stream closed&quot;</span>);</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    cThGroup = <a class="code" href="group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac">rb_define_class</a>(<span class="stringliteral">&quot;ThreadGroup&quot;</span>, <a class="code" href="object_8c.html#a3089f205b1a3c3b15fa0282cbb55fcb7">rb_cObject</a>);</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    <a class="code" href="vm__method_8c.html#ad58ca9811fd248b03bb0f9079af9a8ac">rb_define_alloc_func</a>(cThGroup, <a class="code" href="thread_8c.html#a48793bd3cca25363c536a779f4e1b911">thgroup_s_alloc</a>);</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(cThGroup, <span class="stringliteral">&quot;list&quot;</span>, <a class="code" href="thread_8c.html#a9b79b62809307da300051a1fadf58b3d">thgroup_list</a>, 0);</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(cThGroup, <span class="stringliteral">&quot;enclose&quot;</span>, <a class="code" href="thread_8c.html#aa536a489522dc26a9dc4ca44b99ffd13">thgroup_enclose</a>, 0);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(cThGroup, <span class="stringliteral">&quot;enclosed?&quot;</span>, <a class="code" href="thread_8c.html#a52da755c3a2112ae2c954d7d0a44a971">thgroup_enclosed_p</a>, 0);</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(cThGroup, <span class="stringliteral">&quot;add&quot;</span>, <a class="code" href="thread_8c.html#afd252fbee879bc70e8fbc5bef2595512">thgroup_add</a>, 1);</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    {</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a> = th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a81c2ebf1074cb61040daa9389f5bed80">thgroup_default</a> = <a class="code" href="object_8c.html#a3b9e88ffb0db95ffc6ab5d8f6189dcb8">rb_obj_alloc</a>(cThGroup);</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <a class="code" href="variable_8c.html#ace85a26c7202006c3707bbf027d64534">rb_define_const</a>(cThGroup, <span class="stringliteral">&quot;Default&quot;</span>, th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a>);</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    }</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a> = <a class="code" href="group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac">rb_define_class</a>(<span class="stringliteral">&quot;Mutex&quot;</span>, <a class="code" href="object_8c.html#a3089f205b1a3c3b15fa0282cbb55fcb7">rb_cObject</a>);</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    <a class="code" href="vm__method_8c.html#ad58ca9811fd248b03bb0f9079af9a8ac">rb_define_alloc_func</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <a class="code" href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a>);</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;initialize&quot;</span>, <a class="code" href="thread_8c.html#a48beb1141e34a63a479ebb84c6102a75">mutex_initialize</a>, 0);</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;locked?&quot;</span>, <a class="code" href="thread_8c.html#ae369ec88c9a69c4013dda4b2fbcc7202">rb_mutex_locked_p</a>, 0);</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;try_lock&quot;</span>, <a class="code" href="thread_8c.html#aaec1b6513585139df3ecdb78f8bff874">rb_mutex_trylock</a>, 0);</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;lock&quot;</span>, <a class="code" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a>, 0);</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;unlock&quot;</span>, <a class="code" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a>, 0);</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;sleep&quot;</span>, <a class="code" href="thread_8c.html#a7df029bc2a04c32c3db751d8245c511f">mutex_sleep</a>, -1);</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;synchronize&quot;</span>, <a class="code" href="thread_8c.html#afd3808b9e136ba89f6a78773edc35e5b">rb_mutex_synchronize_m</a>, 0);</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    <a class="code" href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>, <span class="stringliteral">&quot;owned?&quot;</span>, <a class="code" href="thread_8c.html#a3660161c888b7e5853b74240961c4375">rb_mutex_owned_p</a>, 0);</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    <a class="code" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a> = <a class="code" href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a>(<span class="stringliteral">&quot;__recursive_key__&quot;</span>);</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    <a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a> = <a class="code" href="group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac">rb_define_class</a>(<span class="stringliteral">&quot;ThreadError&quot;</span>, <a class="code" href="error_8c.html#a3fc1bd0a9e1211aef38f81d600345ed9">rb_eStandardError</a>);</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;    <span class="comment">/* init thread core */</span></div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    {</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;    <span class="comment">/* main thread setting */</span></div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;    {</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;        <span class="comment">/* acquire global vm lock */</span></div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;        gvl_init(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;        gvl_acquire(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>, th);</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;        native_mutex_initialize(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">thread_destruct_lock</a>);</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;        native_mutex_initialize(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;        native_cond_initialize(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">interrupt_cond</a>,</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;                   RB_CONDATTR_CLOCK_MONOTONIC);</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a> = <a class="code" href="array_8c.html#aaf7e3ca42191580b60f398d5ec466766">rb_ary_tmp_new</a>(0);</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 0;</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a> = <a class="code" href="array_8c.html#aaf7e3ca42191580b60f398d5ec466766">rb_ary_tmp_new</a>(0);</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">interrupt_mask</a> = 0;</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    }</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    }</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    rb_thread_create_timer_thread();</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;    <span class="comment">/* suppress warnings on cygwin, mingw and mswin.*/</span></div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;    (void)native_mutex_trylock;</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a15a374436fd3291ea7843f31fe0effcb"><div class="ttname"><a href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a></div><div class="ttdeci">static VALUE sym_never</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00083">thread.c:83</a></div></div>
<div class="ttc" id="thread_8c_html_aa536a489522dc26a9dc4ca44b99ffd13"><div class="ttname"><a href="thread_8c.html#aa536a489522dc26a9dc4ca44b99ffd13">thgroup_enclose</a></div><div class="ttdeci">static VALUE thgroup_enclose(VALUE group)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04029">thread.c:4029</a></div></div>
<div class="ttc" id="error_8c_html_a3fc1bd0a9e1211aef38f81d600345ed9"><div class="ttname"><a href="error_8c.html#a3fc1bd0a9e1211aef38f81d600345ed9">rb_eStandardError</a></div><div class="ttdeci">VALUE rb_eStandardError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00620">error.c:620</a></div></div>
<div class="ttc" id="thread_8c_html_abb54c9af9269cdc1c8a29978e7926b27"><div class="ttname"><a href="thread_8c.html#abb54c9af9269cdc1c8a29978e7926b27">rb_thread_variable_p</a></div><div class="ttdeci">static VALUE rb_thread_variable_p(VALUE thread, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03138">thread.c:3138</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="thread_8c_html_afd252fbee879bc70e8fbc5bef2595512"><div class="ttname"><a href="thread_8c.html#afd252fbee879bc70e8fbc5bef2595512">thgroup_add</a></div><div class="ttdeci">static VALUE thgroup_add(VALUE group, VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04086">thread.c:4086</a></div></div>
<div class="ttc" id="thread_8c_html_a7926cb2abb5777f7a6cb958fb861f6fc"><div class="ttname"><a href="thread_8c.html#a7926cb2abb5777f7a6cb958fb861f6fc">rb_thread_s_handle_interrupt</a></div><div class="ttdeci">static VALUE rb_thread_s_handle_interrupt(VALUE self, VALUE mask_arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01791">thread.c:1791</a></div></div>
<div class="ttc" id="thread_8c_html_a73b6b621aeddfb655a3e84b8ec9ab6a0"><div class="ttname"><a href="thread_8c.html#a73b6b621aeddfb655a3e84b8ec9ab6a0">rb_thread_priority</a></div><div class="ttdeci">static VALUE rb_thread_priority(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03173">thread.c:3173</a></div></div>
<div class="ttc" id="thread_8c_html_ac6b979d548ecf0557e4efa54079ac81a"><div class="ttname"><a href="thread_8c.html#ac6b979d548ecf0557e4efa54079ac81a">rb_thread_abort_exc_set</a></div><div class="ttdeci">static VALUE rb_thread_abort_exc_set(VALUE thread, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02537">thread.c:2537</a></div></div>
<div class="ttc" id="thread_8c_html_a3660161c888b7e5853b74240961c4375"><div class="ttname"><a href="thread_8c.html#a3660161c888b7e5853b74240961c4375">rb_mutex_owned_p</a></div><div class="ttdeci">VALUE rb_mutex_owned_p(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04410">thread.c:4410</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a33cad2d14cf2e5e9e96385eafc14d2fe"><div class="ttname"><a href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">rb_thread_struct::pending_interrupt_queue_checked</a></div><div class="ttdeci">int pending_interrupt_queue_checked</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00693">vm_core.h:693</a></div></div>
<div class="ttc" id="thread_8c_html_a52da755c3a2112ae2c954d7d0a44a971"><div class="ttname"><a href="thread_8c.html#a52da755c3a2112ae2c954d7d0a44a971">thgroup_enclosed_p</a></div><div class="ttdeci">static VALUE thgroup_enclosed_p(VALUE group)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04048">thread.c:4048</a></div></div>
<div class="ttc" id="group__defmethod_html_gaacfe6a2ec444bdc7f573afb75ea251fe"><div class="ttname"><a href="group__defmethod.html#gaacfe6a2ec444bdc7f573afb75ea251fe">rb_define_singleton_method</a></div><div class="ttdeci">void rb_define_singleton_method(VALUE obj, const char *name, VALUE(*func)(ANYARGS), int argc)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l01658">class.c:1658</a></div></div>
<div class="ttc" id="variable_8c_html_ace85a26c7202006c3707bbf027d64534"><div class="ttname"><a href="variable_8c.html#ace85a26c7202006c3707bbf027d64534">rb_define_const</a></div><div class="ttdeci">void rb_define_const(VALUE klass, const char *name, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="variable_8c_source.html#l02562">variable.c:2562</a></div></div>
<div class="ttc" id="thread_8c_html_afd2bc54fc62e02229c7cded86a6a93ad"><div class="ttname"><a href="thread_8c.html#afd2bc54fc62e02229c7cded86a6a93ad">rb_thread_list</a></div><div class="ttdeci">VALUE rb_thread_list(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02373">thread.c:2373</a></div></div>
<div class="ttc" id="thread_8c_html_afc1b69af35ae664d0b59f052a9e96797"><div class="ttname"><a href="thread_8c.html#afc1b69af35ae664d0b59f052a9e96797">rb_thread_variables</a></div><div class="ttdeci">static VALUE rb_thread_variables(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03109">thread.c:3109</a></div></div>
<div class="ttc" id="thread_8c_html_ad9551a0d57549f0b74b16c3e5b4f91ee"><div class="ttname"><a href="thread_8c.html#ad9551a0d57549f0b74b16c3e5b4f91ee">rb_thread_getname</a></div><div class="ttdeci">static VALUE rb_thread_getname(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02726">thread.c:2726</a></div></div>
<div class="ttc" id="thread_8c_html_a710162ffb460c0ccee5c5dbbe78d694a"><div class="ttname"><a href="thread_8c.html#a710162ffb460c0ccee5c5dbbe78d694a">thread_s_new</a></div><div class="ttdeci">static VALUE thread_s_new(int argc, VALUE *argv, VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00728">thread.c:728</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a979a16137dbb149acf7a8fd194946a24"><div class="ttname"><a href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">rb_thread_struct::pending_interrupt_mask_stack</a></div><div class="ttdeci">VALUE pending_interrupt_mask_stack</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00692">vm_core.h:692</a></div></div>
<div class="ttc" id="thread_8c_html_a48beb1141e34a63a479ebb84c6102a75"><div class="ttname"><a href="thread_8c.html#a48beb1141e34a63a479ebb84c6102a75">mutex_initialize</a></div><div class="ttdeci">static VALUE mutex_initialize(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04207">thread.c:4207</a></div></div>
<div class="ttc" id="thread_8c_html_a6f6e14ae14061684bce66a2e886bcb03"><div class="ttname"><a href="thread_8c.html#a6f6e14ae14061684bce66a2e886bcb03">rb_thread_stop</a></div><div class="ttdeci">VALUE rb_thread_stop(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02340">thread.c:2340</a></div></div>
<div class="ttc" id="thread_8c_html_adb2e667ae84ee980ce0eb4aec6b34210"><div class="ttname"><a href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a></div><div class="ttdeci">static VALUE mutex_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04189">thread.c:4189</a></div></div>
<div class="ttc" id="array_8c_html_aaf7e3ca42191580b60f398d5ec466766"><div class="ttname"><a href="array_8c.html#aaf7e3ca42191580b60f398d5ec466766">rb_ary_tmp_new</a></div><div class="ttdeci">VALUE rb_ary_tmp_new(long capa)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00537">array.c:537</a></div></div>
<div class="ttc" id="thread_8c_html_a236240d46cf6162b2d6d85f97f2a2989"><div class="ttname"><a href="thread_8c.html#a236240d46cf6162b2d6d85f97f2a2989">rb_thread_safe_level</a></div><div class="ttdeci">static VALUE rb_thread_safe_level(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02710">thread.c:2710</a></div></div>
<div class="ttc" id="thread_8c_html_ae9d711e0bf44f31184eee0f2639f80c9"><div class="ttname"><a href="thread_8c.html#ae9d711e0bf44f31184eee0f2639f80c9">rb_thread_aset</a></div><div class="ttdeci">static VALUE rb_thread_aset(VALUE self, VALUE id, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02939">thread.c:2939</a></div></div>
<div class="ttc" id="thread_8c_html_a098ea3519979c810fbd81bb030bd1f03"><div class="ttname"><a href="thread_8c.html#a098ea3519979c810fbd81bb030bd1f03">rb_thread_abort_exc</a></div><div class="ttdeci">static VALUE rb_thread_abort_exc(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02513">thread.c:2513</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3fa7c7d516fe265dbbd215eed5da5a20"><div class="ttname"><a href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">rb_thread_struct::thgroup</a></div><div class="ttdeci">VALUE thgroup</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00679">vm_core.h:679</a></div></div>
<div class="ttc" id="thread_8c_html_a974db2b683aa5dcc790fa7d247d8a880"><div class="ttname"><a href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a></div><div class="ttdeci">static VALUE sym_immediate</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00081">thread.c:81</a></div></div>
<div class="ttc" id="thread_8c_html_a3b589c6cbb1ea96a3b1a25ea76f40a77"><div class="ttname"><a href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a></div><div class="ttdeci">VALUE rb_thread_kill(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02185">thread.c:2185</a></div></div>
<div class="ttc" id="thread_8c_html_ae369ec88c9a69c4013dda4b2fbcc7202"><div class="ttname"><a href="thread_8c.html#ae369ec88c9a69c4013dda4b2fbcc7202">rb_mutex_locked_p</a></div><div class="ttdeci">VALUE rb_mutex_locked_p(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04225">thread.c:4225</a></div></div>
<div class="ttc" id="thread_8c_html_a5b8ec82e1846eadcb0e0e97803ff7520"><div class="ttname"><a href="thread_8c.html#a5b8ec82e1846eadcb0e0e97803ff7520">rb_thread_alive_p</a></div><div class="ttdeci">static VALUE rb_thread_alive_p(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02660">thread.c:2660</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_abf1e8b399a6f3b8e66140389ebf83279"><div class="ttname"><a href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a></div><div class="ttdeci">VALUE rb_cMutex</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00078">thread.c:78</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a81c2ebf1074cb61040daa9389f5bed80"><div class="ttname"><a href="structrb__vm__struct.html#a81c2ebf1074cb61040daa9389f5bed80">rb_vm_struct::thgroup_default</a></div><div class="ttdeci">VALUE thgroup_default</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00426">vm_core.h:426</a></div></div>
<div class="ttc" id="thread_8c_html_a96d91467b7e140be460c69c100825afa"><div class="ttname"><a href="thread_8c.html#a96d91467b7e140be460c69c100825afa">rb_thread_stop_p</a></div><div class="ttdeci">static VALUE rb_thread_stop_p(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02685">thread.c:2685</a></div></div>
<div class="ttc" id="thread_8c_html_a0c1410ed32492fe869727957f7e6a950"><div class="ttname"><a href="thread_8c.html#a0c1410ed32492fe869727957f7e6a950">rb_thread_s_abort_exc_set</a></div><div class="ttdeci">static VALUE rb_thread_s_abort_exc_set(VALUE self, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02490">thread.c:2490</a></div></div>
<div class="ttc" id="thread_8c_html_aa1e05608c1815e8b03e5147325a14bab"><div class="ttname"><a href="thread_8c.html#aa1e05608c1815e8b03e5147325a14bab">rb_thread_wakeup</a></div><div class="ttdeci">VALUE rb_thread_wakeup(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02270">thread.c:2270</a></div></div>
<div class="ttc" id="thread_8c_html_a83d7c781f19dd50dc347bfae5ffdad54"><div class="ttname"><a href="thread_8c.html#a83d7c781f19dd50dc347bfae5ffdad54">rb_thread_s_main</a></div><div class="ttdeci">static VALUE rb_thread_s_main(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02427">thread.c:2427</a></div></div>
<div class="ttc" id="thread_8c_html_a7dd1a7585d2672c679f6d25fdf279a84"><div class="ttname"><a href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a></div><div class="ttdeci">static VALUE sym_on_blocking</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00082">thread.c:82</a></div></div>
<div class="ttc" id="thread_8c_html_a48793bd3cca25363c536a779f4e1b911"><div class="ttname"><a href="thread_8c.html#a48793bd3cca25363c536a779f4e1b911">thgroup_s_alloc</a></div><div class="ttdeci">static VALUE thgroup_s_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03975">thread.c:3975</a></div></div>
<div class="ttc" id="thread_8c_html_ab9f7ba0777b3019a8b7365dc59cf0c68"><div class="ttname"><a href="thread_8c.html#ab9f7ba0777b3019a8b7365dc59cf0c68">rb_thread_priority_set</a></div><div class="ttdeci">static VALUE rb_thread_priority_set(VALUE thread, VALUE prio)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03208">thread.c:3208</a></div></div>
<div class="ttc" id="thread_8c_html_a1a3aa8956530e0171285ddd8a797c4f0"><div class="ttname"><a href="thread_8c.html#a1a3aa8956530e0171285ddd8a797c4f0">rb_thread_inspect</a></div><div class="ttdeci">static VALUE rb_thread_inspect(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02767">thread.c:2767</a></div></div>
<div class="ttc" id="thread_8c_html_a8bf6f73d9127baf62c1da6b3a2b1070c"><div class="ttname"><a href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a></div><div class="ttdeci">static ID id_locals</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00084">thread.c:84</a></div></div>
<div class="ttc" id="thread_8c_html_aaec1b6513585139df3ecdb78f8bff874"><div class="ttname"><a href="thread_8c.html#aaec1b6513585139df3ecdb78f8bff874">rb_mutex_trylock</a></div><div class="ttdeci">VALUE rb_mutex_trylock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04252">thread.c:4252</a></div></div>
<div class="ttc" id="group__class_html_ga15d068dbe88a3bab3700b03bebb7fbac"><div class="ttname"><a href="group__class.html#ga15d068dbe88a3bab3700b03bebb7fbac">rb_define_class</a></div><div class="ttdeci">VALUE rb_define_class(const char *name, VALUE super)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l00627">class.c:627</a></div></div>
<div class="ttc" id="thread_8c_html_a9cfa42d4b79c89d68c53be8b2150a503"><div class="ttname"><a href="thread_8c.html#a9cfa42d4b79c89d68c53be8b2150a503">rb_intern</a></div><div class="ttdeci">#define rb_intern(str)</div></div>
<div class="ttc" id="vm_8c_html_ad3a4e96ed6c7c27cd17a8d17d6006cf6"><div class="ttname"><a href="vm_8c.html#ad3a4e96ed6c7c27cd17a8d17d6006cf6">rb_vm_register_special_exception</a></div><div class="ttdeci">void rb_vm_register_special_exception(enum ruby_special_exceptions sp, VALUE cls, const char *mesg)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l01874">vm.c:1874</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a></div><div class="ttdeci">rb_thread_status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00572">vm_core.h:572</a></div></div>
<div class="ttc" id="thread_8c_html_a33d3fadd815f4d7930df7cc07ca1c0f7"><div class="ttname"><a href="thread_8c.html#a33d3fadd815f4d7930df7cc07ca1c0f7">rb_thread_variable_get</a></div><div class="ttdeci">static VALUE rb_thread_variable_get(VALUE thread, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02973">thread.c:2973</a></div></div>
<div class="ttc" id="thread_8c_html_a14413506613b516843bde54b5a6578ed"><div class="ttname"><a href="thread_8c.html#a14413506613b516843bde54b5a6578ed">rb_thread_exit</a></div><div class="ttdeci">static VALUE rb_thread_exit(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02246">thread.c:2246</a></div></div>
<div class="ttc" id="thread_8c_html_a0ed18e8b46c8e0e66388f04dfde704ff"><div class="ttname"><a href="thread_8c.html#a0ed18e8b46c8e0e66388f04dfde704ff">thread_s_current</a></div><div class="ttdeci">static VALUE thread_s_current(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02408">thread.c:2408</a></div></div>
<div class="ttc" id="thread_8c_html_a41f5de4a9624b524856d997f06a132fe"><div class="ttname"><a href="thread_8c.html#a41f5de4a9624b524856d997f06a132fe">rb_thread_backtrace_locations_m</a></div><div class="ttdeci">static VALUE rb_thread_backtrace_locations_m(int argc, VALUE *argv, VALUE thval)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05003">thread.c:5003</a></div></div>
<div class="ttc" id="vm__core_8h_html_a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b"><div class="ttname"><a href="vm__core_8h.html#a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b">ruby_error_closed_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00370">vm_core.h:370</a></div></div>
<div class="ttc" id="thread_8c_html_a64e838d5fd91fcb827d9621f5909de3d"><div class="ttname"><a href="thread_8c.html#a64e838d5fd91fcb827d9621f5909de3d">thread_initialize</a></div><div class="ttdeci">static VALUE thread_initialize(VALUE thread, VALUE args)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00763">thread.c:763</a></div></div>
<div class="ttc" id="thread_8c_html_afd3808b9e136ba89f6a78773edc35e5b"><div class="ttname"><a href="thread_8c.html#afd3808b9e136ba89f6a78773edc35e5b">rb_mutex_synchronize_m</a></div><div class="ttdeci">static VALUE rb_mutex_synchronize_m(VALUE self, VALUE args)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04594">thread.c:4594</a></div></div>
<div class="ttc" id="thread_8c_html_ab7635d7702ab68d430153a5483aec98a"><div class="ttname"><a href="thread_8c.html#ab7635d7702ab68d430153a5483aec98a">rb_thread_s_pending_interrupt_p</a></div><div class="ttdeci">static VALUE rb_thread_s_pending_interrupt_p(int argc, VALUE *argv, VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01927">thread.c:1927</a></div></div>
<div class="ttc" id="thread_8c_html_a447024e24d3b6c5fad99702d57b0002f"><div class="ttname"><a href="thread_8c.html#a447024e24d3b6c5fad99702d57b0002f">thread_value</a></div><div class="ttdeci">static VALUE thread_value(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00977">thread.c:977</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ad04e9258ee723608388a8aa2009b2f65"><div class="ttname"><a href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">rb_thread_struct::interrupt_cond</a></div><div class="ttdeci">rb_nativethread_cond_t interrupt_cond</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00698">vm_core.h:698</a></div></div>
<div class="ttc" id="thread_8c_html_ad01481866fa1c711b7b2a65532dc63b8"><div class="ttname"><a href="thread_8c.html#ad01481866fa1c711b7b2a65532dc63b8">rb_thread_setname</a></div><div class="ttdeci">static VALUE rb_thread_setname(VALUE thread, VALUE name)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02742">thread.c:2742</a></div></div>
<div class="ttc" id="thread_8c_html_aec8890446182a1d12bec449b361a4347"><div class="ttname"><a href="thread_8c.html#aec8890446182a1d12bec449b361a4347">rb_thread_backtrace_m</a></div><div class="ttdeci">static VALUE rb_thread_backtrace_m(int argc, VALUE *argv, VALUE thval)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04986">thread.c:4986</a></div></div>
<div class="ttc" id="thread_8c_html_a98660b14ebe5541413764ba6666c465f"><div class="ttname"><a href="thread_8c.html#a98660b14ebe5541413764ba6666c465f">rb_thread_pending_interrupt_p</a></div><div class="ttdeci">static VALUE rb_thread_pending_interrupt_p(int argc, VALUE *argv, VALUE target_thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01842">thread.c:1842</a></div></div>
<div class="ttc" id="thread_8c_html_a3334ac127c95c82989183b051af05bfe"><div class="ttname"><a href="thread_8c.html#a3334ac127c95c82989183b051af05bfe">thread_s_pass</a></div><div class="ttdeci">static VALUE thread_s_pass(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01516">thread.c:1516</a></div></div>
<div class="ttc" id="thread_8c_html_a84e1f762956dd3202f65d0066d249c5d"><div class="ttname"><a href="thread_8c.html#a84e1f762956dd3202f65d0066d249c5d">thread_join_m</a></div><div class="ttdeci">static VALUE thread_join_m(int argc, VALUE *argv, VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00946">thread.c:946</a></div></div>
<div class="ttc" id="object_8c_html_a3b9e88ffb0db95ffc6ab5d8f6189dcb8"><div class="ttname"><a href="object_8c.html#a3b9e88ffb0db95ffc6ab5d8f6189dcb8">rb_obj_alloc</a></div><div class="ttdeci">VALUE rb_obj_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l01798">object.c:1798</a></div></div>
<div class="ttc" id="thread_8c_html_a7df029bc2a04c32c3db751d8245c511f"><div class="ttname"><a href="thread_8c.html#a7df029bc2a04c32c3db751d8245c511f">mutex_sleep</a></div><div class="ttdeci">static VALUE mutex_sleep(int argc, VALUE *argv, VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04563">thread.c:4563</a></div></div>
<div class="ttc" id="thread_8c_html_a9b79b62809307da300051a1fadf58b3d"><div class="ttname"><a href="thread_8c.html#a9b79b62809307da300051a1fadf58b3d">thgroup_list</a></div><div class="ttdeci">static VALUE thgroup_list(VALUE group)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03997">thread.c:3997</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_abbde881c028e6a14d7740757c9d1f27b"><div class="ttname"><a href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">rb_thread_struct::interrupt_mask</a></div><div class="ttdeci">unsigned long interrupt_mask</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00696">vm_core.h:696</a></div></div>
<div class="ttc" id="io_8c_html_a3a88df7a1fc75148ff72cfa4742e9b01"><div class="ttname"><a href="io_8c.html#a3a88df7a1fc75148ff72cfa4742e9b01">rb_eIOError</a></div><div class="ttdeci">VALUE rb_eIOError</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00152">io.c:152</a></div></div>
<div class="ttc" id="thread_8c_html_a265dfbed765a341f8e694c7bdc8e5357"><div class="ttname"><a href="thread_8c.html#a265dfbed765a341f8e694c7bdc8e5357">rb_thread_group</a></div><div class="ttdeci">VALUE rb_thread_group(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02558">thread.c:2558</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_ad8f271ee054c0d65587bb1976b0f802d"><div class="ttname"><a href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">rb_vm_struct::thread_destruct_lock</a></div><div class="ttdeci">rb_nativethread_lock_t thread_destruct_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00419">vm_core.h:419</a></div></div>
<div class="ttc" id="vm_8c_html_aade475ee7a5ceb8e727ec38287af0e95"><div class="ttname"><a href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a></div><div class="ttdeci">VALUE rb_cThread</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l00158">vm.c:158</a></div></div>
<div class="ttc" id="vm__method_8c_html_ad58ca9811fd248b03bb0f9079af9a8ac"><div class="ttname"><a href="vm__method_8c.html#ad58ca9811fd248b03bb0f9079af9a8ac">rb_define_alloc_func</a></div><div class="ttdeci">void rb_define_alloc_func(VALUE klass, VALUE(*func)(VALUE))</div><div class="ttdef"><b>Definition:</b> <a href="vm__method_8c_source.html#l00576">vm_method.c:576</a></div></div>
<div class="ttc" id="thread_8c_html_a55c3507d4449aa123567d234b0fdd480"><div class="ttname"><a href="thread_8c.html#a55c3507d4449aa123567d234b0fdd480">thread_start</a></div><div class="ttdeci">static VALUE thread_start(VALUE klass, VALUE args)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00756">thread.c:756</a></div></div>
<div class="ttc" id="thread_8c_html_a6dcafa51e28d3098a07ae432cc74d8b7"><div class="ttname"><a href="thread_8c.html#a6dcafa51e28d3098a07ae432cc74d8b7">thread_raise_m</a></div><div class="ttdeci">static VALUE thread_raise_m(int argc, VALUE *argv, VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02156">thread.c:2156</a></div></div>
<div class="ttc" id="thread_8c_html_abfa2c372ccfc42b59b23f4b3cbe3c45f"><div class="ttname"><a href="thread_8c.html#abfa2c372ccfc42b59b23f4b3cbe3c45f">rb_thread_s_abort_exc</a></div><div class="ttdeci">static VALUE rb_thread_s_abort_exc(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02454">thread.c:2454</a></div></div>
<div class="ttc" id="thread_8c_html_a220ac519bf6c78ff8c72e47b3c700fdb"><div class="ttname"><a href="thread_8c.html#a220ac519bf6c78ff8c72e47b3c700fdb">rb_thread_aref</a></div><div class="ttdeci">static VALUE rb_thread_aref(VALUE thread, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02884">thread.c:2884</a></div></div>
<div class="ttc" id="thread_8c_html_a3dd4177f86d3e62a87471550f16b8d6c"><div class="ttname"><a href="thread_8c.html#a3dd4177f86d3e62a87471550f16b8d6c">rb_thread_keys</a></div><div class="ttdeci">static VALUE rb_thread_keys(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03072">thread.c:3072</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
<div class="ttc" id="thread_8c_html_a4b1c4ab106bf855946d6aaf2e3c51b3d"><div class="ttname"><a href="thread_8c.html#a4b1c4ab106bf855946d6aaf2e3c51b3d">rb_thread_variable_set</a></div><div class="ttdeci">static VALUE rb_thread_variable_set(VALUE thread, VALUE id, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02991">thread.c:2991</a></div></div>
<div class="ttc" id="thread_8c_html_a758673d0badb20d17196d42a4476404f"><div class="ttname"><a href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a></div><div class="ttdeci">VALUE rb_mutex_unlock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04465">thread.c:4465</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="group__defmethod_html_ga118dc7abcdb97f56fe35727ac0ff6eb8"><div class="ttname"><a href="group__defmethod.html#ga118dc7abcdb97f56fe35727ac0ff6eb8">rb_define_method</a></div><div class="ttdeci">void rb_define_method(VALUE klass, const char *name, VALUE(*func)(ANYARGS), int argc)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l01479">class.c:1479</a></div></div>
<div class="ttc" id="object_8c_html_a3089f205b1a3c3b15fa0282cbb55fcb7"><div class="ttname"><a href="object_8c.html#a3089f205b1a3c3b15fa0282cbb55fcb7">rb_cObject</a></div><div class="ttdeci">VALUE rb_cObject</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l00028">object.c:28</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
<div class="ttc" id="thread_8c_html_ab3e71f7e67290ebc29029bd1877f98fd"><div class="ttname"><a href="thread_8c.html#ab3e71f7e67290ebc29029bd1877f98fd">rb_thread_key_p</a></div><div class="ttdeci">static VALUE rb_thread_key_p(VALUE self, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03017">thread.c:3017</a></div></div>
<div class="ttc" id="thread_8c_html_abea0c0d50a07f163c286d370ae2e9974"><div class="ttname"><a href="thread_8c.html#abea0c0d50a07f163c286d370ae2e9974">rb_thread_s_kill</a></div><div class="ttdeci">static VALUE rb_thread_s_kill(VALUE obj, VALUE th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02227">thread.c:2227</a></div></div>
<div class="ttc" id="thread_8c_html_aa0f6e88800576706aca78d4f8c96a82e"><div class="ttname"><a href="thread_8c.html#aa0f6e88800576706aca78d4f8c96a82e">rb_thread_run</a></div><div class="ttdeci">VALUE rb_thread_run(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02316">thread.c:2316</a></div></div>
<div class="ttc" id="thread_8c_html_aa9a0d55ad652665002fc75d1668228f2"><div class="ttname"><a href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a></div><div class="ttdeci">VALUE rb_mutex_lock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04335">thread.c:4335</a></div></div>
<div class="ttc" id="thread_8c_html_aff6f884751ace832615a75198562b802"><div class="ttname"><a href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a></div><div class="ttdeci">static ID recursive_key</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02795">thread.c:2795</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8bcfb798b72f66917ed1a1d43f9778eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int keys_i </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>ary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03085">3085</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;{</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(ary, <a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="keywordflow">return</span> ST_CONTINUE;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;}</div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a58ff6ae9532042cf22ce03187413a6ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lock_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04271">4271</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;{</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;    <span class="keywordtype">int</span> interrupted = 0;</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">cond_waiting</a>++;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    <span class="keywordflow">if</span> (!mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a>) {</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;        mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> = th;</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    }</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vm__core_8h.html#a0556a5a4763f36a45f81053a30570f3d">RUBY_VM_INTERRUPTED</a>(th)) {</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;        interrupted = 1;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    }</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <span class="keywordflow">if</span> (err == ETIMEDOUT) {</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;        interrupted = 2;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    }</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <span class="keywordflow">if</span> (timeout_ms) {</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;        <span class="keyword">struct </span>timespec timeout_rel;</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;        <span class="keyword">struct </span>timespec timeout;</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;        timeout_rel.tv_sec = 0;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;        timeout_rel.tv_nsec = timeout_ms * 1000 * 1000;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;        timeout = native_cond_timeout(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>, timeout_rel);</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;        err = native_cond_timedwait(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>, &amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>, &amp;timeout);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;    }</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;        native_cond_wait(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>, &amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;        err = 0;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    }</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    }</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">cond_waiting</a>--;</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;    <span class="keywordflow">return</span> interrupted;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_a71d2103e21fcbd244738e34796b39592"><div class="ttname"><a href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">rb_mutex_struct::cond</a></div><div class="ttdeci">rb_nativethread_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00433">thread.c:433</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="vm__core_8h_html_a0556a5a4763f36a45f81053a30570f3d"><div class="ttname"><a href="vm__core_8h.html#a0556a5a4763f36a45f81053a30570f3d">RUBY_VM_INTERRUPTED</a></div><div class="ttdeci">#define RUBY_VM_INTERRUPTED(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01111">vm_core.h:1111</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_addc3c29e18ae7c19968a9282f4493778"><div class="ttname"><a href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">rb_mutex_struct::cond_waiting</a></div><div class="ttdeci">int cond_waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00436">thread.c:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a133d106aa3a08b638eabf248fa8b208a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lock_interrupt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04311">4311</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;{</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex = (<a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *)ptr;</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    native_mutex_lock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">cond_waiting</a> &gt; 0)</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;    native_cond_broadcast(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>);</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    native_mutex_unlock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_a71d2103e21fcbd244738e34796b39592"><div class="ttname"><a href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">rb_mutex_struct::cond</a></div><div class="ttdeci">rb_nativethread_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00433">thread.c:433</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_addc3c29e18ae7c19968a9282f4493778"><div class="ttname"><a href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">rb_mutex_struct::cond_waiting</a></div><div class="ttdeci">int cond_waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00436">thread.c:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb2e667ae84ee980ce0eb4aec6b34210"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE mutex_alloc </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04189">4189</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;{</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    VALUE <span class="keyword">volatile</span> obj;</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;    obj = TypedData_Make_Struct(klass, <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a>, &amp;<a class="code" href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a>, mutex);</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    native_mutex_initialize(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    native_cond_initialize(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>, RB_CONDATTR_CLOCK_MONOTONIC);</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_a71d2103e21fcbd244738e34796b39592"><div class="ttname"><a href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">rb_mutex_struct::cond</a></div><div class="ttdeci">rb_nativethread_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00433">thread.c:433</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="thread_8c_html_ad08b53e774f300c71f14cbabedbd39ba"><div class="ttname"><a href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a></div><div class="ttdeci">static const rb_data_type_t mutex_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04171">thread.c:4171</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83bc387e909d69188bf36b02ed0770ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mutex_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04150">4150</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;{</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    <span class="keywordflow">if</span> (ptr) {</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex = ptr;</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a>) {</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;        <span class="comment">/* rb_warn(&quot;free locked mutex&quot;); */</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <a class="code" href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a>(mutex, mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a>);</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;        <span class="keywordflow">if</span> (err) <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;%s&quot;</span>, err);</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;    }</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    native_mutex_destroy(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    native_cond_destroy(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>);</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    }</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;    <a class="code" href="gc_8c.html#a0bffec5b2cc004adcebb6802e7620387">ruby_xfree</a>(ptr);</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_a71d2103e21fcbd244738e34796b39592"><div class="ttname"><a href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">rb_mutex_struct::cond</a></div><div class="ttdeci">rb_nativethread_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00433">thread.c:433</a></div></div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="thread_8c_html_aa2e588283845294f0d0b6aa70e7f9d1c"><div class="ttname"><a href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a></div><div class="ttdeci">static const char * rb_mutex_unlock_th(rb_mutex_t *mutex, rb_thread_t volatile *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04425">thread.c:4425</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="gc_8c_html_a0bffec5b2cc004adcebb6802e7620387"><div class="ttname"><a href="gc_8c.html#a0bffec5b2cc004adcebb6802e7620387">ruby_xfree</a></div><div class="ttdeci">void ruby_xfree(void *x)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l07709">gc.c:7709</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48beb1141e34a63a479ebb84c6102a75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE mutex_initialize </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04207">4207</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;{</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1046249493e1c719af3e89f1e0c0f38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mutex_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04233">4233</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;{</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, mutex);</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a>) {</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a> = th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a>;</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;    }</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a> = mutex;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_ac770bb075d8e3f0e82a1fd8808f1bcdb"><div class="ttname"><a href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">rb_mutex_struct::next_mutex</a></div><div class="ttdeci">struct rb_mutex_struct * next_mutex</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00435">thread.c:435</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_adb11d95769dc97f821331399fd45a586"><div class="ttname"><a href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">rb_thread_struct::keeping_mutexes</a></div><div class="ttdeci">struct rb_mutex_struct * keeping_mutexes</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00701">vm_core.h:701</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8da400c51ebaa76447a43463bdd5eef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t mutex_memsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04166">4166</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;{</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="keywordflow">return</span> ptr ? <span class="keyword">sizeof</span>(<a class="code" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a>) : 0;</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a68d6cc91aa5878b0b3a06c8cdfecf522"><div class="ttname"><a href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a></div><div class="ttdeci">struct rb_mutex_struct rb_mutex_t</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7df029bc2a04c32c3db751d8245c511f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE mutex_sleep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04563">4563</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;{</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;    VALUE timeout;</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <a class="code" href="group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="stringliteral">&quot;01&quot;</span>, &amp;timeout);</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a7eb452b52541acf88d996b6b5c29d3f8">rb_mutex_sleep</a>(<span class="keyword">self</span>, timeout);</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a7eb452b52541acf88d996b6b5c29d3f8"><div class="ttname"><a href="thread_8c.html#a7eb452b52541acf88d996b6b5c29d3f8">rb_mutex_sleep</a></div><div class="ttdeci">VALUE rb_mutex_sleep(VALUE self, VALUE timeout)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04528">thread.c:4528</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="group__defmethod_html_gaa7bed88640f01bee619f85fda09d28d7"><div class="ttname"><a href="group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a></div><div class="ttdeci">int rb_scan_args(int argc, const VALUE *argv, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l01731">class.c:1731</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5371f4435258187eecfef2a50f3c453"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NOINLINE </td>
          <td>(</td>
          <td class="paramtype">static int &#160;</td>
          <td class="paramname"><em>thread_start_func_2</em>rb_thread_t *th, VALUE *stack_start</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a13e19f22a75b72b0b2c284f7997a3295"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_check_deadlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05176">5176</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;{</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    <span class="keywordtype">int</span> found = 0;</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = 0;</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a>(vm) &gt; vm-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a>(vm) &lt; vm-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>) <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;sleeper must not be more than vm_living_thread_num(vm)&quot;</span>);</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a> &amp;&amp; <a class="code" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a> != <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, th, vmlt_node) {</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> != <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a> || <a class="code" href="vm__core_8h.html#a0556a5a4763f36a45f81053a30570f3d">RUBY_VM_INTERRUPTED</a>(th)) {</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;        found = 1;</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;    }</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>) {</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;        <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;        <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>, mutex);</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;        native_mutex_lock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;        <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == th || (!mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> &amp;&amp; mutex-&gt;<a class="code" href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">cond_waiting</a>)) {</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;        found = 1;</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;        }</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;        native_mutex_unlock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;    }</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;    <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;    }</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    <span class="keywordflow">if</span> (!found) {</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    VALUE <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[2];</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    argv[0] = <a class="code" href="error_8c.html#a7df09bfc26c0ffa7592f91fdcf64fcec">rb_eFatal</a>;</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;    argv[1] = rb_str_new2(<span class="stringliteral">&quot;No live threads left. Deadlock?&quot;</span>);</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;    <a class="code" href="thread_8c.html#ad829d4d14520c86768c086a933e12689">debug_deadlock_check</a>(vm);</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;    vm-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>--;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;    <a class="code" href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a>(vm-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>, 2, argv);</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;    }</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a4d040754759ae4b01f4047f57af0eabf"><div class="ttname"><a href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a></div><div class="ttdeci">static int vm_living_thread_num(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03041">thread.c:3041</a></div></div>
<div class="ttc" id="thread_8c_html_a66c66f0b82b55bc228e8c9a79f8c4594"><div class="ttname"><a href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a></div><div class="ttdeci">static const rb_thread_t * patrol_thread</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04325">thread.c:4325</a></div></div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ab0435aec1daf59ef6caceee7004a7cfb"><div class="ttname"><a href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">rb_thread_struct::locking_mutex</a></div><div class="ttdeci">VALUE locking_mutex</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00700">vm_core.h:700</a></div></div>
<div class="ttc" id="thread_8c_html_a75ac42869e2371ef3d57c096533e10c6"><div class="ttname"><a href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a></div><div class="ttdeci">static VALUE rb_threadptr_raise(rb_thread_t *, int, VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02043">thread.c:2043</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a749d1248a707da96582537f890c10287"><div class="ttname"><a href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">rb_vm_struct::sleeper</a></div><div class="ttdeci">volatile int sleeper</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00431">vm_core.h:431</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="thread_8c_html_ad829d4d14520c86768c086a933e12689"><div class="ttname"><a href="thread_8c.html#ad829d4d14520c86768c086a933e12689">debug_deadlock_check</a></div><div class="ttdeci">static void debug_deadlock_check(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05153">thread.c:5153</a></div></div>
<div class="ttc" id="error_8c_html_a7df09bfc26c0ffa7592f91fdcf64fcec"><div class="ttname"><a href="error_8c.html#a7df09bfc26c0ffa7592f91fdcf64fcec">rb_eFatal</a></div><div class="ttdeci">VALUE rb_eFatal</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00619">error.c:619</a></div></div>
<div class="ttc" id="vm__core_8h_html_a0556a5a4763f36a45f81053a30570f3d"><div class="ttname"><a href="vm__core_8h.html#a0556a5a4763f36a45f81053a30570f3d">RUBY_VM_INTERRUPTED</a></div><div class="ttdeci">#define RUBY_VM_INTERRUPTED(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01111">vm_core.h:1111</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_addc3c29e18ae7c19968a9282f4493778"><div class="ttname"><a href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">rb_mutex_struct::cond_waiting</a></div><div class="ttdeci">int cond_waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00436">thread.c:436</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac029739bb809529487f4851cb281e7b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_exec_recursive </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(VALUE, VALUE, int)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04937">4937</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;{</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a>(func, obj, 0, arg, 0);</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a40f0ec9b69f2092ca5389f3f4aa7fa17"><div class="ttname"><a href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a></div><div class="ttdeci">static VALUE exec_recursive(VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE pairid, VALUE arg, int outer)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04873">thread.c:4873</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a773fb3e73cd7c57c3074535ee9792e62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_exec_recursive_outer </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(VALUE, VALUE, int)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04960">4960</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;{</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a>(func, obj, 0, arg, 1);</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a40f0ec9b69f2092ca5389f3f4aa7fa17"><div class="ttname"><a href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a></div><div class="ttdeci">static VALUE exec_recursive(VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE pairid, VALUE arg, int outer)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04873">thread.c:4873</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac75019706ad60c733aaea42dc6afb625"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_exec_recursive_paired </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(VALUE, VALUE, int)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>paired_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04948">4948</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;{</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a>(func, obj, <a class="code" href="gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a>(paired_obj), arg, 0);</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;}</div>
<div class="ttc" id="gc_8c_html_a56eb26ff20f077eecdca272b83df1652"><div class="ttname"><a href="gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a></div><div class="ttdeci">VALUE rb_obj_id(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l02927">gc.c:2927</a></div></div>
<div class="ttc" id="thread_8c_html_a40f0ec9b69f2092ca5389f3f4aa7fa17"><div class="ttname"><a href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a></div><div class="ttdeci">static VALUE exec_recursive(VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE pairid, VALUE arg, int outer)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04873">thread.c:4873</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8721d55ec5a34ca39d689dbfcb722ac4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_exec_recursive_paired_outer </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(VALUE, VALUE, int)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>paired_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04972">4972</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;{</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a>(func, obj, <a class="code" href="gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a>(paired_obj), arg, 1);</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;}</div>
<div class="ttc" id="gc_8c_html_a56eb26ff20f077eecdca272b83df1652"><div class="ttname"><a href="gc_8c.html#a56eb26ff20f077eecdca272b83df1652">rb_obj_id</a></div><div class="ttdeci">VALUE rb_obj_id(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l02927">gc.c:2927</a></div></div>
<div class="ttc" id="thread_8c_html_a40f0ec9b69f2092ca5389f3f4aa7fa17"><div class="ttname"><a href="thread_8c.html#a40f0ec9b69f2092ca5389f3f4aa7fa17">exec_recursive</a></div><div class="ttdeci">static VALUE exec_recursive(VALUE(*func)(VALUE, VALUE, int), VALUE obj, VALUE pairid, VALUE arg, int outer)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04873">thread.c:4873</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65402e9020deb5f4c046feaa43e597c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ID rb_frame_last_func </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="eval_8c_source.html">eval.c</a> の <a class="el" href="eval_8c_source.html#l01041">1041</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;{</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="structrb__control__frame__struct.html">rb_control_frame_t</a> *cfp = th-&gt;<a class="code" href="structrb__thread__struct.html#a2ed7f694d58d876aa6f0fae6986bc921">cfp</a>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    ID mid;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">while</span> (!(mid = <a class="code" href="eval_8c.html#a1bc5e9b49222e024c00706ca096c3d3d">frame_func_id</a>(cfp)) &amp;&amp;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;       (cfp = <a class="code" href="vm__core_8h.html#af087c881c3c493e3a4e326852e8ed2a9">RUBY_VM_PREVIOUS_CONTROL_FRAME</a>(cfp),</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        !<a class="code" href="vm__core_8h.html#ac3cef3df2cc03d3090ad49220cb453d5">RUBY_VM_CONTROL_FRAME_STACK_OVERFLOW_P</a>(th, cfp)));</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">return</span> mid;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a2ed7f694d58d876aa6f0fae6986bc921"><div class="ttname"><a href="structrb__thread__struct.html#a2ed7f694d58d876aa6f0fae6986bc921">rb_thread_struct::cfp</a></div><div class="ttdeci">rb_control_frame_t * cfp</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00638">vm_core.h:638</a></div></div>
<div class="ttc" id="vm__core_8h_html_af087c881c3c493e3a4e326852e8ed2a9"><div class="ttname"><a href="vm__core_8h.html#af087c881c3c493e3a4e326852e8ed2a9">RUBY_VM_PREVIOUS_CONTROL_FRAME</a></div><div class="ttdeci">#define RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00946">vm_core.h:946</a></div></div>
<div class="ttc" id="eval_8c_html_a1bc5e9b49222e024c00706ca096c3d3d"><div class="ttname"><a href="eval_8c.html#a1bc5e9b49222e024c00706ca096c3d3d">frame_func_id</a></div><div class="ttdeci">static ID frame_func_id(rb_control_frame_t *cfp)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00940">eval.c:940</a></div></div>
<div class="ttc" id="vm__core_8h_html_ac3cef3df2cc03d3090ad49220cb453d5"><div class="ttname"><a href="vm__core_8h.html#ac3cef3df2cc03d3090ad49220cb453d5">RUBY_VM_CONTROL_FRAME_STACK_OVERFLOW_P</a></div><div class="ttdeci">#define RUBY_VM_CONTROL_FRAME_STACK_OVERFLOW_P(th, cfp)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00952">vm_core.h:952</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__control__frame__struct_html"><div class="ttname"><a href="structrb__control__frame__struct.html">rb_control_frame_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00533">vm_core.h:533</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc5d1c32095aaacdb337a9b06e214247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_gc_set_stack_end </td>
          <td>(</td>
          <td class="paramtype">VALUE **&#160;</td>
          <td class="paramname"><em>stack_end_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03788">3788</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;{</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;    VALUE stack_end;</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    *stack_end_p = &amp;stack_end;</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07f418cdbb9ed1a05c44d91d2a07d2eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_get_coverages </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05231">5231</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;{</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;coverages;</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_a6cfcd3997994924c8cd13c3b5c099ec6"><div class="ttname"><a href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a></div><div class="ttdeci">#define GET_VM()</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01068">vm_core.h:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9e2843ebfeda1f0ccd75205127675e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_mutex_abandon_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutexes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04500">4500</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;{</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    <span class="keywordflow">while</span> (mutexes) {</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    mutex = mutexes;</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;    mutexes = mutex-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a>;</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> = 0;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a> = 0;</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;    }</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_ac770bb075d8e3f0e82a1fd8808f1bcdb"><div class="ttname"><a href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">rb_mutex_struct::next_mutex</a></div><div class="ttdeci">struct rb_mutex_struct * next_mutex</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00435">thread.c:435</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56aa2ce656e6af8ab5ba61254f89005f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_mutex_abandon_keeping_mutexes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04478">4478</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;{</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a>) {</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    <a class="code" href="thread_8c.html#ad9e2843ebfeda1f0ccd75205127675e9">rb_mutex_abandon_all</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a>);</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;    }</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a> = <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ad9e2843ebfeda1f0ccd75205127675e9"><div class="ttname"><a href="thread_8c.html#ad9e2843ebfeda1f0ccd75205127675e9">rb_mutex_abandon_all</a></div><div class="ttdeci">static void rb_mutex_abandon_all(rb_mutex_t *mutexes)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04500">thread.c:4500</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_adb11d95769dc97f821331399fd45a586"><div class="ttname"><a href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">rb_thread_struct::keeping_mutexes</a></div><div class="ttdeci">struct rb_mutex_struct * keeping_mutexes</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00701">vm_core.h:701</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b19ec8b7ec57b918e6d22cc02c49362"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_mutex_abandon_locking_mutex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04487">4487</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;{</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>, mutex);</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == th)</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;    <a class="code" href="thread_8c.html#ad9e2843ebfeda1f0ccd75205127675e9">rb_mutex_abandon_all</a>(mutex);</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a> = Qfalse;</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ad9e2843ebfeda1f0ccd75205127675e9"><div class="ttname"><a href="thread_8c.html#ad9e2843ebfeda1f0ccd75205127675e9">rb_mutex_abandon_all</a></div><div class="ttdeci">static void rb_mutex_abandon_all(rb_mutex_t *mutexes)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04500">thread.c:4500</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ab0435aec1daf59ef6caceee7004a7cfb"><div class="ttname"><a href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">rb_thread_struct::locking_mutex</a></div><div class="ttdeci">VALUE locking_mutex</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00700">vm_core.h:700</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a203252bbdc4c28619b09270d92b1a2ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_mutex_allow_trap </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04603">4603</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;{</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *m;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, m);</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;    m-&gt;<a class="code" href="structrb__mutex__struct.html#a77bce31c46a349104d9df21395770ab0">allow_trap</a> = <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a77bce31c46a349104d9df21395770ab0"><div class="ttname"><a href="structrb__mutex__struct.html#a77bce31c46a349104d9df21395770ab0">rb_mutex_struct::allow_trap</a></div><div class="ttdeci">int allow_trap</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00437">thread.c:437</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9a0d55ad652665002fc75d1668228f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_lock </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04335">4335</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;{</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, mutex);</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;    <span class="comment">/* When running trap handler */</span></div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <span class="keywordflow">if</span> (!mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a77bce31c46a349104d9df21395770ab0">allow_trap</a> &amp;&amp; th-&gt;<a class="code" href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">interrupt_mask</a> &amp; <a class="code" href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a39ce4910a6eef28b3426480d5d00af9a">TRAP_INTERRUPT_MASK</a>) {</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;can&#39;t be called from trap context&quot;</span>);</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;    }</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#aaec1b6513585139df3ecdb78f8bff874">rb_mutex_trylock</a>(<span class="keyword">self</span>) == Qfalse) {</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()) {</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;        <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;deadlock; recursive locking&quot;</span>);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;    }</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    <span class="keywordflow">while</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> != th) {</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;        <span class="keywordtype">int</span> interrupted;</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;        <span class="keyword">enum</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a> prev_status = th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>;</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;        <span class="keyword">volatile</span> <span class="keywordtype">int</span> timeout_ms = 0;</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;        <span class="keyword">struct </span><a class="code" href="structrb__unblock__callback.html">rb_unblock_callback</a> oldubf;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;        <a class="code" href="thread_8c.html#a1eff8db4b0fbb9e4c65cc52dc6fec10e">set_unblock_function</a>(th, <a class="code" href="thread_8c.html#a133d106aa3a08b638eabf248fa8b208a">lock_interrupt</a>, mutex, &amp;oldubf, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a> = <span class="keyword">self</span>;</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        native_mutex_lock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>++;</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;<span class="comment">         * Carefully! while some contended threads are in lock_func(),</span></div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;<span class="comment">         * vm-&gt;sleepr is unstable value. we have to avoid both deadlock</span></div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;<span class="comment">         * and busy loop.</span></div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>) == th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>) &amp;&amp;</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;        !<a class="code" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a>) {</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;        timeout_ms = 100;</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;        <a class="code" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a> = th;</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;        }</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;        <a class="code" href="thread_8c.html#ac4a353316c0c2cce85b75c7f0aada8ab">GVL_UNLOCK_BEGIN</a>();</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;        interrupted = <a class="code" href="thread_8c.html#a58ff6ae9532042cf22ce03187413a6ac">lock_func</a>(th, mutex, (<span class="keywordtype">int</span>)timeout_ms);</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;        native_mutex_unlock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;        <a class="code" href="thread_8c.html#a7731fc2a60a727d5bbd8cf78fd5375a6">GVL_UNLOCK_END</a>();</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a> == th)</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;        <a class="code" href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a> = <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;        <a class="code" href="thread_8c.html#a526470994d5b6261d41d4d6d0378e228">reset_unblock_function</a>(th, &amp;oldubf);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a> = Qfalse;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;        <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> &amp;&amp; interrupted == 2) {</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;        <a class="code" href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;        }</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;        <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>) {</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = prev_status;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        }</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>--;</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;        <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == th) <a class="code" href="thread_8c.html#aa1046249493e1c719af3e89f1e0c0f38">mutex_locked</a>(th, <span class="keyword">self</span>);</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;        <span class="keywordflow">if</span> (interrupted) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;        <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;        }</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    }</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;    }</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a4d040754759ae4b01f4047f57af0eabf"><div class="ttname"><a href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a></div><div class="ttdeci">static int vm_living_thread_num(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03041">thread.c:3041</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="thread_8c_html_a66c66f0b82b55bc228e8c9a79f8c4594"><div class="ttname"><a href="thread_8c.html#a66c66f0b82b55bc228e8c9a79f8c4594">patrol_thread</a></div><div class="ttdeci">static const rb_thread_t * patrol_thread</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04325">thread.c:4325</a></div></div>
<div class="ttc" id="thread_8c_html_a58ff6ae9532042cf22ce03187413a6ac"><div class="ttname"><a href="thread_8c.html#a58ff6ae9532042cf22ce03187413a6ac">lock_func</a></div><div class="ttdeci">static int lock_func(rb_thread_t *th, rb_mutex_t *mutex, int timeout_ms)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04271">thread.c:4271</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a77bce31c46a349104d9df21395770ab0"><div class="ttname"><a href="structrb__mutex__struct.html#a77bce31c46a349104d9df21395770ab0">rb_mutex_struct::allow_trap</a></div><div class="ttdeci">int allow_trap</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00437">thread.c:437</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ab0435aec1daf59ef6caceee7004a7cfb"><div class="ttname"><a href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">rb_thread_struct::locking_mutex</a></div><div class="ttdeci">VALUE locking_mutex</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00700">vm_core.h:700</a></div></div>
<div class="ttc" id="thread_8c_html_aaec1b6513585139df3ecdb78f8bff874"><div class="ttname"><a href="thread_8c.html#aaec1b6513585139df3ecdb78f8bff874">rb_mutex_trylock</a></div><div class="ttdeci">VALUE rb_mutex_trylock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04252">thread.c:4252</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a></div><div class="ttdeci">rb_thread_status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00572">vm_core.h:572</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a749d1248a707da96582537f890c10287"><div class="ttname"><a href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">rb_vm_struct::sleeper</a></div><div class="ttdeci">volatile int sleeper</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00431">vm_core.h:431</a></div></div>
<div class="ttc" id="thread_8c_html_ac4a353316c0c2cce85b75c7f0aada8ab"><div class="ttname"><a href="thread_8c.html#ac4a353316c0c2cce85b75c7f0aada8ab">GVL_UNLOCK_BEGIN</a></div><div class="ttdeci">#define GVL_UNLOCK_BEGIN()</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00137">thread.c:137</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="thread_8c_html_a1eff8db4b0fbb9e4c65cc52dc6fec10e"><div class="ttname"><a href="thread_8c.html#a1eff8db4b0fbb9e4c65cc52dc6fec10e">set_unblock_function</a></div><div class="ttdeci">static int set_unblock_function(rb_thread_t *th, rb_unblock_function_t *func, void *arg, struct rb_unblock_callback *old, int fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00347">thread.c:347</a></div></div>
<div class="ttc" id="thread_8c_html_a13e19f22a75b72b0b2c284f7997a3295"><div class="ttname"><a href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a></div><div class="ttdeci">static void rb_check_deadlock(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05176">thread.c:5176</a></div></div>
<div class="ttc" id="thread_8c_html_a7731fc2a60a727d5bbd8cf78fd5375a6"><div class="ttname"><a href="thread_8c.html#a7731fc2a60a727d5bbd8cf78fd5375a6">GVL_UNLOCK_END</a></div><div class="ttdeci">#define GVL_UNLOCK_END()</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00142">thread.c:142</a></div></div>
<div class="ttc" id="vm__core_8h_html_a8628933cde20921c453a6d2607bdad62a39ce4910a6eef28b3426480d5d00af9a"><div class="ttname"><a href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a39ce4910a6eef28b3426480d5d00af9a">TRAP_INTERRUPT_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01104">vm_core.h:1104</a></div></div>
<div class="ttc" id="thread_8c_html_a526470994d5b6261d41d4d6d0378e228"><div class="ttname"><a href="thread_8c.html#a526470994d5b6261d41d4d6d0378e228">reset_unblock_function</a></div><div class="ttdeci">static void reset_unblock_function(rb_thread_t *th, const struct rb_unblock_callback *old)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00376">thread.c:376</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_abbde881c028e6a14d7740757c9d1f27b"><div class="ttname"><a href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">rb_thread_struct::interrupt_mask</a></div><div class="ttdeci">unsigned long interrupt_mask</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00696">vm_core.h:696</a></div></div>
<div class="ttc" id="structrb__unblock__callback_html"><div class="ttname"><a href="structrb__unblock__callback.html">rb_unblock_callback</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00601">vm_core.h:601</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
<div class="ttc" id="thread_8c_html_aa1046249493e1c719af3e89f1e0c0f38"><div class="ttname"><a href="thread_8c.html#aa1046249493e1c719af3e89f1e0c0f38">mutex_locked</a></div><div class="ttdeci">static void mutex_locked(rb_thread_t *th, VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04233">thread.c:4233</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
<div class="ttc" id="thread_8c_html_a133d106aa3a08b638eabf248fa8b208a"><div class="ttname"><a href="thread_8c.html#a133d106aa3a08b638eabf248fa8b208a">lock_interrupt</a></div><div class="ttdeci">static void lock_interrupt(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04311">thread.c:4311</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae369ec88c9a69c4013dda4b2fbcc7202"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_locked_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04225">4225</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;{</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, mutex);</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;    <span class="keywordflow">return</span> mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> ? Qtrue : Qfalse;</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23f4d3393bc85cb29c1f8212cd2ecd7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04213">4213</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;{</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a>(<a class="code" href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a>);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_adb2e667ae84ee980ce0eb4aec6b34210"><div class="ttname"><a href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a></div><div class="ttdeci">static VALUE mutex_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04189">thread.c:4189</a></div></div>
<div class="ttc" id="thread_8c_html_abf1e8b399a6f3b8e66140389ebf83279"><div class="ttname"><a href="thread_8c.html#abf1e8b399a6f3b8e66140389ebf83279">rb_cMutex</a></div><div class="ttdeci">VALUE rb_cMutex</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00078">thread.c:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3660161c888b7e5853b74240961c4375"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_owned_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04410">4410</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;{</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;    VALUE owned = Qfalse;</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, mutex);</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == th)</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;    owned = Qtrue;</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    <span class="keywordflow">return</span> owned;</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eb452b52541acf88d996b6b5c29d3f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_sleep </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04528">4528</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;{</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;    time_t beg, end;</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    <span class="keyword">struct </span>timeval t;</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;    <span class="keywordflow">if</span> (!NIL_P(timeout)) {</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;        t = <a class="code" href="time_8c.html#aa7480dcdaae719ff3ef89108d1b59d44">rb_time_interval</a>(timeout);</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    }</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    <a class="code" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    beg = time(0);</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    <span class="keywordflow">if</span> (NIL_P(timeout)) {</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;    <a class="code" href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a>(<a class="code" href="thread_8c.html#ad177befa65a7d10bd3b54a209ba58e63">rb_mutex_sleep_forever</a>, Qnil, <a class="code" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a>, <span class="keyword">self</span>);</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    }</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;    <a class="code" href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a>(<a class="code" href="thread_8c.html#ac2310d4249b4d73311e17bd1830359dd">rb_mutex_wait_for</a>, (VALUE)&amp;t, <a class="code" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a>, <span class="keyword">self</span>);</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;    }</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    end = time(0) - beg;</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;    <span class="keywordflow">return</span> INT2FIX(end);</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;}</div>
<div class="ttc" id="time_8c_html_aa7480dcdaae719ff3ef89108d1b59d44"><div class="ttname"><a href="time_8c.html#aa7480dcdaae719ff3ef89108d1b59d44">rb_time_interval</a></div><div class="ttdeci">struct timeval rb_time_interval(VALUE num)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l02407">time.c:2407</a></div></div>
<div class="ttc" id="thread_8c_html_ad177befa65a7d10bd3b54a209ba58e63"><div class="ttname"><a href="thread_8c.html#ad177befa65a7d10bd3b54a209ba58e63">rb_mutex_sleep_forever</a></div><div class="ttdeci">static VALUE rb_mutex_sleep_forever(VALUE time)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04513">thread.c:4513</a></div></div>
<div class="ttc" id="eval_8c_html_a8061198378fb16adeb931f90540b2839"><div class="ttname"><a href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a></div><div class="ttdeci">VALUE rb_ensure(VALUE(*b_proc)(ANYARGS), VALUE data1, VALUE(*e_proc)(ANYARGS), VALUE data2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00899">eval.c:899</a></div></div>
<div class="ttc" id="thread_8c_html_ac2310d4249b4d73311e17bd1830359dd"><div class="ttname"><a href="thread_8c.html#ac2310d4249b4d73311e17bd1830359dd">rb_mutex_wait_for</a></div><div class="ttdeci">static VALUE rb_mutex_wait_for(VALUE time)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04520">thread.c:4520</a></div></div>
<div class="ttc" id="thread_8c_html_a758673d0badb20d17196d42a4476404f"><div class="ttname"><a href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a></div><div class="ttdeci">VALUE rb_mutex_unlock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04465">thread.c:4465</a></div></div>
<div class="ttc" id="thread_8c_html_aa9a0d55ad652665002fc75d1668228f2"><div class="ttname"><a href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a></div><div class="ttdeci">VALUE rb_mutex_lock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04335">thread.c:4335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad177befa65a7d10bd3b54a209ba58e63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_mutex_sleep_forever </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04513">4513</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;{</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    <a class="code" href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(), 1, 0); <span class="comment">/* permit spurious check */</span></div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa735666902e716ce922f814e42f44f4f"><div class="ttname"><a href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a></div><div class="ttdeci">static void sleep_forever(rb_thread_t *th, int nodeadlock, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01038">thread.c:1038</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67eed485066a22a165646aa1fcce93bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_synchronize </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE(*)(VALUE arg)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04580">4580</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;{</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;    <a class="code" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a>(mutex);</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a>(func, arg, <a class="code" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a>, mutex);</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;}</div>
<div class="ttc" id="eval_8c_html_a8061198378fb16adeb931f90540b2839"><div class="ttname"><a href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a></div><div class="ttdeci">VALUE rb_ensure(VALUE(*b_proc)(ANYARGS), VALUE data1, VALUE(*e_proc)(ANYARGS), VALUE data2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00899">eval.c:899</a></div></div>
<div class="ttc" id="thread_8c_html_a758673d0badb20d17196d42a4476404f"><div class="ttname"><a href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a></div><div class="ttdeci">VALUE rb_mutex_unlock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04465">thread.c:4465</a></div></div>
<div class="ttc" id="thread_8c_html_aa9a0d55ad652665002fc75d1668228f2"><div class="ttname"><a href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a></div><div class="ttdeci">VALUE rb_mutex_lock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04335">thread.c:4335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd3808b9e136ba89f6a78773edc35e5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_mutex_synchronize_m </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04594">4594</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;{</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a>()) {</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;must be called with a block&quot;</span>);</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    }</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a67eed485066a22a165646aa1fcce93bf">rb_mutex_synchronize</a>(<span class="keyword">self</span>, <a class="code" href="vm__eval_8c.html#a9dddbeb844bd6703c27d889ff9ecf162">rb_yield</a>, Qundef);</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a67eed485066a22a165646aa1fcce93bf"><div class="ttname"><a href="thread_8c.html#a67eed485066a22a165646aa1fcce93bf">rb_mutex_synchronize</a></div><div class="ttdeci">VALUE rb_mutex_synchronize(VALUE mutex, VALUE(*func)(VALUE arg), VALUE arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04580">thread.c:4580</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="eval_8c_html_aea346c4eb8bc06df88422e956bb05fec"><div class="ttname"><a href="eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a></div><div class="ttdeci">int rb_block_given_p(void)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00772">eval.c:772</a></div></div>
<div class="ttc" id="vm__eval_8c_html_a9dddbeb844bd6703c27d889ff9ecf162"><div class="ttname"><a href="vm__eval_8c.html#a9dddbeb844bd6703c27d889ff9ecf162">rb_yield</a></div><div class="ttdeci">VALUE rb_yield(VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="vm__eval_8c_source.html#l00998">vm_eval.c:998</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaec1b6513585139df3ecdb78f8bff874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_trylock </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04252">4252</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;{</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    VALUE locked = Qfalse;</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, mutex);</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    native_mutex_lock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == 0) {</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    locked = Qtrue;</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    <a class="code" href="thread_8c.html#aa1046249493e1c719af3e89f1e0c0f38">mutex_locked</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(), <span class="keyword">self</span>);</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    }</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    native_mutex_unlock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    <span class="keywordflow">return</span> locked;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="thread_8c_html_aa1046249493e1c719af3e89f1e0c0f38"><div class="ttname"><a href="thread_8c.html#aa1046249493e1c719af3e89f1e0c0f38">mutex_locked</a></div><div class="ttdeci">static void mutex_locked(rb_thread_t *th, VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04233">thread.c:4233</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a758673d0badb20d17196d42a4476404f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_mutex_unlock </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04465">4465</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;{</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *err;</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(<span class="keyword">self</span>, mutex);</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;    err = <a class="code" href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a>(mutex, <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>());</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;    <span class="keywordflow">if</span> (err) <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;%s&quot;</span>, err);</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">self</span>;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa2e588283845294f0d0b6aa70e7f9d1c"><div class="ttname"><a href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a></div><div class="ttdeci">static const char * rb_mutex_unlock_th(rb_mutex_t *mutex, rb_thread_t volatile *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04425">thread.c:4425</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa2e588283845294f0d0b6aa70e7f9d1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * rb_mutex_unlock_th </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="thread_8c.html#a68d6cc91aa5878b0b3a06c8cdfecf522">rb_mutex_t</a> *&#160;</td>
          <td class="paramname"><em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> volatile *&#160;</td>
          <td class="paramname"><em>th</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04425">4425</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;{</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *err = <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;    native_mutex_lock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == 0) {</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    err = <span class="stringliteral">&quot;Attempt to unlock a mutex which is not locked&quot;</span>;</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    }</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> != th) {</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;    err = <span class="stringliteral">&quot;Attempt to unlock a mutex which is locked by another thread&quot;</span>;</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    }</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> = 0;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;    <span class="keywordflow">if</span> (mutex-&gt;<a class="code" href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">cond_waiting</a> &gt; 0)</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        native_cond_signal(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">cond</a>);</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;    }</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    native_mutex_unlock(&amp;mutex-&gt;<a class="code" href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">lock</a>);</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    <span class="keywordflow">if</span> (!err) {</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *<span class="keyword">volatile</span> *th_mutex = &amp;th-&gt;keeping_mutexes;</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <span class="keywordflow">while</span> (*th_mutex != mutex) {</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;        th_mutex = &amp;(*th_mutex)-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a>;</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    }</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;    *th_mutex = mutex-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a>;</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;    mutex-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a> = <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;    }</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_a71d2103e21fcbd244738e34796b39592"><div class="ttname"><a href="structrb__mutex__struct.html#a71d2103e21fcbd244738e34796b39592">rb_mutex_struct::cond</a></div><div class="ttdeci">rb_nativethread_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00433">thread.c:433</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_ac770bb075d8e3f0e82a1fd8808f1bcdb"><div class="ttname"><a href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">rb_mutex_struct::next_mutex</a></div><div class="ttdeci">struct rb_mutex_struct * next_mutex</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00435">thread.c:435</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_acfba14c8217306b7ce38ad9c69c0ed93"><div class="ttname"><a href="structrb__mutex__struct.html#acfba14c8217306b7ce38ad9c69c0ed93">rb_mutex_struct::lock</a></div><div class="ttdeci">rb_nativethread_lock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00432">thread.c:432</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_addc3c29e18ae7c19968a9282f4493778"><div class="ttname"><a href="structrb__mutex__struct.html#addc3c29e18ae7c19968a9282f4493778">rb_mutex_struct::cond_waiting</a></div><div class="ttdeci">int cond_waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00436">thread.c:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2310d4249b4d73311e17bd1830359dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_mutex_wait_for </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04520">4520</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;{</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;    <span class="keyword">struct </span>timeval *t = (<span class="keyword">struct </span>timeval *)time;</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    <a class="code" href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(), *t, 0); <span class="comment">/* permit spurious check */</span></div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ace81f760b6dab58be3f86cefd6e0f5fd"><div class="ttname"><a href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a></div><div class="ttdeci">static void sleep_timeval(rb_thread_t *th, struct timeval time, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01079">thread.c:1079</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af6adb40c4a640b02a526dbf6a34f585b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_nativethread_lock_destroy </td>
          <td>(</td>
          <td class="paramtype">rb_nativethread_lock_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00329">329</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    native_mutex_destroy(lock);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add64795f05aa31a66fe3e7f8696043bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_nativethread_lock_initialize </td>
          <td>(</td>
          <td class="paramtype">rb_nativethread_lock_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00323">323</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    native_mutex_initialize(lock);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a267c9706aa0cd7983f33913758f3bf0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_nativethread_lock_lock </td>
          <td>(</td>
          <td class="paramtype">rb_nativethread_lock_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00335">335</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    native_mutex_lock(lock);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0efc98152f9dd6372f2a777f526ee1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_nativethread_lock_unlock </td>
          <td>(</td>
          <td class="paramtype">rb_nativethread_lock_t *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00341">341</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    native_mutex_unlock(lock);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae85a523a4fd1c5ab592aae9c624ae0f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_obj_is_mutex </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04178">4178</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;{</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="error_8c.html#a2a5803d0e60feb0ed8f37e7a38e8df47">rb_typeddata_is_kind_of</a>(obj, &amp;<a class="code" href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a>)) {</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    }</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    }</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ad08b53e774f300c71f14cbabedbd39ba"><div class="ttname"><a href="thread_8c.html#ad08b53e774f300c71f14cbabedbd39ba">mutex_data_type</a></div><div class="ttdeci">static const rb_data_type_t mutex_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04171">thread.c:4171</a></div></div>
<div class="ttc" id="error_8c_html_a2a5803d0e60feb0ed8f37e7a38e8df47"><div class="ttname"><a href="error_8c.html#a2a5803d0e60feb0ed8f37e7a38e8df47">rb_typeddata_is_kind_of</a></div><div class="ttdeci">int rb_typeddata_is_kind_of(VALUE obj, const rb_data_type_t *data_type)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00584">error.c:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af718cfec22a7d5e6978ffa532b793005"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_reset_coverages </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05244">5244</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;{</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    <a class="code" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;coverages = Qfalse;</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;    <a class="code" href="vm__trace_8c.html#a5dac47f6a21488ab8b0349c44e59f077">rb_remove_event_hook</a>(<a class="code" href="thread_8c.html#a86004613fac2f76e403937e14e60f15a">update_coverage</a>);</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a86004613fac2f76e403937e14e60f15a"><div class="ttname"><a href="thread_8c.html#a86004613fac2f76e403937e14e60f15a">update_coverage</a></div><div class="ttdeci">static void update_coverage(rb_event_flag_t event, VALUE proc, VALUE self, ID id, VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05214">thread.c:5214</a></div></div>
<div class="ttc" id="vm__trace_8c_html_a5dac47f6a21488ab8b0349c44e59f077"><div class="ttname"><a href="vm__trace_8c.html#a5dac47f6a21488ab8b0349c44e59f077">rb_remove_event_hook</a></div><div class="ttdeci">int rb_remove_event_hook(rb_event_hook_func_t func)</div><div class="ttdef"><b>Definition:</b> <a href="vm__trace_8c_source.html#l00202">vm_trace.c:202</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6cfcd3997994924c8cd13c3b5c099ec6"><div class="ttname"><a href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a></div><div class="ttdeci">#define GET_VM()</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01068">vm_core.h:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acda533d07af42453c8ba4ebe64bcb434"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_set_coverages </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>coverages</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05237">5237</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;{</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;    <a class="code" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;coverages = coverages;</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;    <a class="code" href="vm__trace_8c.html#a0f3a87f7fe46934bc85e4cd076f754ce">rb_add_event_hook</a>(<a class="code" href="thread_8c.html#a86004613fac2f76e403937e14e60f15a">update_coverage</a>, RUBY_EVENT_COVERAGE, Qnil);</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a86004613fac2f76e403937e14e60f15a"><div class="ttname"><a href="thread_8c.html#a86004613fac2f76e403937e14e60f15a">update_coverage</a></div><div class="ttdeci">static void update_coverage(rb_event_flag_t event, VALUE proc, VALUE self, ID id, VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05214">thread.c:5214</a></div></div>
<div class="ttc" id="vm__trace_8c_html_a0f3a87f7fe46934bc85e4cd076f754ce"><div class="ttname"><a href="vm__trace_8c.html#a0f3a87f7fe46934bc85e4cd076f754ce">rb_add_event_hook</a></div><div class="ttdeci">void rb_add_event_hook(rb_event_hook_func_t func, rb_event_flag_t events, VALUE data)</div><div class="ttdef"><b>Definition:</b> <a href="vm__trace_8c_source.html#l00143">vm_trace.c:143</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6cfcd3997994924c8cd13c3b5c099ec6"><div class="ttname"><a href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a></div><div class="ttdeci">#define GET_VM()</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01068">vm_core.h:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a098ea3519979c810fbd81bb030bd1f03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_abort_exc </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02513">2513</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;{</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="keywordflow">return</span> th-&gt;<a class="code" href="structrb__thread__struct.html#a3688f0942a79e35b29bbbd289aad4976">abort_on_exception</a> ? Qtrue : Qfalse;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3688f0942a79e35b29bbbd289aad4976"><div class="ttname"><a href="structrb__thread__struct.html#a3688f0942a79e35b29bbbd289aad4976">rb_thread_struct::abort_on_exception</a></div><div class="ttdeci">int abort_on_exception</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00761">vm_core.h:761</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6b979d548ecf0557e4efa54079ac81a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_abort_exc_set </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02537">2537</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;{</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a3688f0942a79e35b29bbbd289aad4976">abort_on_exception</a> = RTEST(<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>);</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="structrb__thread__struct_html_a3688f0942a79e35b29bbbd289aad4976"><div class="ttname"><a href="structrb__thread__struct.html#a3688f0942a79e35b29bbbd289aad4976">rb_thread_struct::abort_on_exception</a></div><div class="ttdeci">int abort_on_exception</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00761">vm_core.h:761</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b8ec82e1846eadcb0e0e97803ff7520"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_alive_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02660">2660</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;{</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a>(th))</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a2878eaa26a014c90d668edd41960b78d"><div class="ttname"><a href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a></div><div class="ttdeci">static int rb_threadptr_dead(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02591">thread.c:2591</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac86131edba4a5a668958ce58b661d7ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_thread_alone </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03047">3047</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;{</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <span class="keywordtype">int</span> num = 1;</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;    <span class="keywordflow">if</span> (!list_empty(&amp;<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;vm-&gt;living_threads)) {</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    num = <a class="code" href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;vm);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_alone: %d\n&quot;</span>, num);</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    }</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keywordflow">return</span> num == 1;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a4d040754759ae4b01f4047f57af0eabf"><div class="ttname"><a href="thread_8c.html#a4d040754759ae4b01f4047f57af0eabf">vm_living_thread_num</a></div><div class="ttdeci">static int vm_living_thread_num(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03041">thread.c:3041</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a220ac519bf6c78ff8c72e47b3c700fdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_aref </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02884">2884</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;{</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    ID <span class="keywordtype">id</span> = <a class="code" href="symbol_8c.html#a7f07f939a6b20e1d8e20abda0dbdc96f">rb_check_id</a>(&amp;<a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>);</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>) <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a2f5e5fba5fc0c4e1b5289eff6685bcee">rb_thread_local_aref</a>(thread, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;}</div>
<div class="ttc" id="symbol_8c_html_a7f07f939a6b20e1d8e20abda0dbdc96f"><div class="ttname"><a href="symbol_8c.html#a7f07f939a6b20e1d8e20abda0dbdc96f">rb_check_id</a></div><div class="ttdeci">ID rb_check_id(volatile VALUE *namep)</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8c_source.html#l00946">symbol.c:946</a></div></div>
<div class="ttc" id="thread_8c_html_a2f5e5fba5fc0c4e1b5289eff6685bcee"><div class="ttname"><a href="thread_8c.html#a2f5e5fba5fc0c4e1b5289eff6685bcee">rb_thread_local_aref</a></div><div class="ttdeci">VALUE rb_thread_local_aref(VALUE thread, ID id)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02816">thread.c:2816</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9d711e0bf44f31184eee0f2639f80c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_aset </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02939">2939</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;{</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ae884caa41374501706b4bbd5ad1b744c">rb_thread_local_aset</a>(<span class="keyword">self</span>, <a class="code" href="string_8c.html#acd831a0e29a5dbc3655c2a63b9f68ecb">rb_to_id</a>(<span class="keywordtype">id</span>), <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>);</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;}</div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="thread_8c_html_ae884caa41374501706b4bbd5ad1b744c"><div class="ttname"><a href="thread_8c.html#ae884caa41374501706b4bbd5ad1b744c">rb_thread_local_aset</a></div><div class="ttdeci">VALUE rb_thread_local_aset(VALUE thread, ID id, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02913">thread.c:2913</a></div></div>
<div class="ttc" id="string_8c_html_acd831a0e29a5dbc3655c2a63b9f68ecb"><div class="ttname"><a href="string_8c.html#acd831a0e29a5dbc3655c2a63b9f68ecb">rb_to_id</a></div><div class="ttdeci">ID rb_to_id(VALUE name)</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l09060">string.c:9060</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd6f8148f90fefcd84afa732cefc2965"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_atfork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03915">3915</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;{</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;    <a class="code" href="thread_8c.html#a77071f6df5904870e6de0deacccd8857">rb_thread_atfork_internal</a>(<a class="code" href="thread_8c.html#ace1418d1110df354bbbfea757be94b41">terminate_atfork_i</a>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;    <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">join_list</a> = <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    <span class="comment">/* We don&#39;t want reproduce CVE-2003-0900. */</span></div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;    <a class="code" href="random_8c.html#a499d0c58a22fa280308db827c418bf90">rb_reset_random_seed</a>();</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a45c0e5bcba9d684be932ae89428fb218"><div class="ttname"><a href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">rb_thread_struct::join_list</a></div><div class="ttdeci">rb_thread_list_t * join_list</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00725">vm_core.h:725</a></div></div>
<div class="ttc" id="thread_8c_html_a77071f6df5904870e6de0deacccd8857"><div class="ttname"><a href="thread_8c.html#a77071f6df5904870e6de0deacccd8857">rb_thread_atfork_internal</a></div><div class="ttdeci">static void rb_thread_atfork_internal(void(*atfork)(rb_thread_t *, const rb_thread_t *))</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03886">thread.c:3886</a></div></div>
<div class="ttc" id="random_8c_html_a499d0c58a22fa280308db827c418bf90"><div class="ttname"><a href="random_8c.html#a499d0c58a22fa280308db827c418bf90">rb_reset_random_seed</a></div><div class="ttdeci">void rb_reset_random_seed(void)</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01471">random.c:1471</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
<div class="ttc" id="thread_8c_html_ace1418d1110df354bbbfea757be94b41"><div class="ttname"><a href="thread_8c.html#ace1418d1110df354bbbfea757be94b41">terminate_atfork_i</a></div><div class="ttdeci">static void terminate_atfork_i(rb_thread_t *th, const rb_thread_t *current_th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03905">thread.c:3905</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9582c89e8f607363640a487f183431ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_atfork_before_exec </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03933">3933</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;{</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <a class="code" href="thread_8c.html#a77071f6df5904870e6de0deacccd8857">rb_thread_atfork_internal</a>(<a class="code" href="thread_8c.html#aec3a0a4448c212ec7162dccdc3e1d426">terminate_atfork_before_exec_i</a>);</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a77071f6df5904870e6de0deacccd8857"><div class="ttname"><a href="thread_8c.html#a77071f6df5904870e6de0deacccd8857">rb_thread_atfork_internal</a></div><div class="ttdeci">static void rb_thread_atfork_internal(void(*atfork)(rb_thread_t *, const rb_thread_t *))</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03886">thread.c:3886</a></div></div>
<div class="ttc" id="thread_8c_html_aec3a0a4448c212ec7162dccdc3e1d426"><div class="ttname"><a href="thread_8c.html#aec3a0a4448c212ec7162dccdc3e1d426">terminate_atfork_before_exec_i</a></div><div class="ttdeci">static void terminate_atfork_before_exec_i(rb_thread_t *th, const rb_thread_t *current_th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03925">thread.c:3925</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77071f6df5904870e6de0deacccd8857"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_thread_atfork_internal </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *, <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *)&#160;</td>
          <td class="paramname"><em>atfork</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03886">3886</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;{</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *i = 0;</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <a class="code" href="structrb__vm__struct.html">rb_vm_t</a> *vm = th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    vm-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a> = th;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    gvl_atfork(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, i, vmlt_node) {</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    atfork(i, th);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;    }</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;    <a class="code" href="vm__core_8h.html#a448f1f4959ebcbe551671a5d2fba9d86">rb_vm_living_threads_init</a>(vm);</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;    <a class="code" href="vm__core_8h.html#a6bf6f55f60170a6c9d48f8002a49b0b2">rb_vm_living_threads_insert</a>(vm, th);</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    vm-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a> = 0;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    <a class="code" href="thread_8c.html#a2e1f46285594f6e800dd7fa24edc8bc4">clear_coverage</a>();</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6bf6f55f60170a6c9d48f8002a49b0b2"><div class="ttname"><a href="vm__core_8h.html#a6bf6f55f60170a6c9d48f8002a49b0b2">rb_vm_living_threads_insert</a></div><div class="ttdeci">static void rb_vm_living_threads_insert(rb_vm_t *vm, rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01013">vm_core.h:1013</a></div></div>
<div class="ttc" id="thread_8c_html_a2e1f46285594f6e800dd7fa24edc8bc4"><div class="ttname"><a href="thread_8c.html#a2e1f46285594f6e800dd7fa24edc8bc4">clear_coverage</a></div><div class="ttdeci">static void clear_coverage(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03877">thread.c:3877</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a749d1248a707da96582537f890c10287"><div class="ttname"><a href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">rb_vm_struct::sleeper</a></div><div class="ttdeci">volatile int sleeper</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00431">vm_core.h:431</a></div></div>
<div class="ttc" id="vm__core_8h_html_a448f1f4959ebcbe551671a5d2fba9d86"><div class="ttname"><a href="vm__core_8h.html#a448f1f4959ebcbe551671a5d2fba9d86">rb_vm_living_threads_init</a></div><div class="ttdeci">static void rb_vm_living_threads_init(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01006">vm_core.h:1006</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__vm__struct_html"><div class="ttname"><a href="structrb__vm__struct.html">rb_vm_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00415">vm_core.h:415</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41f5de4a9624b524856d997f06a132fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_backtrace_locations_m </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05003">5003</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;{</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="internal_8h.html#ad7eeface6d46ebc0adaca9eda70b8f55">rb_vm_thread_backtrace_locations</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, thval);</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;}</div>
<div class="ttc" id="internal_8h_html_ad7eeface6d46ebc0adaca9eda70b8f55"><div class="ttname"><a href="internal_8h.html#ad7eeface6d46ebc0adaca9eda70b8f55">rb_vm_thread_backtrace_locations</a></div><div class="ttdeci">VALUE rb_vm_thread_backtrace_locations(int argc, const VALUE *argv, VALUE thval)</div><div class="ttdef"><b>Definition:</b> <a href="vm__backtrace_8c_source.html#l00907">vm_backtrace.c:907</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec8890446182a1d12bec449b361a4347"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_backtrace_m </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04986">4986</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;{</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="internal_8h.html#a8f9b9b4036d64c6ac22434e46dfcd45e">rb_vm_thread_backtrace</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, thval);</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;}</div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="internal_8h_html_a8f9b9b4036d64c6ac22434e46dfcd45e"><div class="ttname"><a href="internal_8h.html#a8f9b9b4036d64c6ac22434e46dfcd45e">rb_vm_thread_backtrace</a></div><div class="ttdeci">VALUE rb_vm_thread_backtrace(int argc, const VALUE *argv, VALUE thval)</div><div class="ttdef"><b>Definition:</b> <a href="vm__backtrace_8c_source.html#l00901">vm_backtrace.c:901</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a750cc265be9b084ee41c51157948f756"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rb_thread_call_with_gvl </td>
          <td>(</td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01453">1453</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;{</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = ruby_thread_from_native();</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> *brb;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrb__unblock__callback.html">rb_unblock_callback</a> prev_unblock;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordtype">void</span> *r;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (th == 0) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="comment">/* Error has occurred, but we can&#39;t use rb_bug()</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">     * because this thread is not Ruby&#39;s thread.</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">         * What should we do?</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;[BUG] rb_thread_call_with_gvl() is called by non-ruby thread\n&quot;</span>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    exit(<a class="code" href="eval__intern_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a>);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    brb = (<span class="keyword">struct </span><a class="code" href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a> *)th-&gt;<a class="code" href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">blocking_region_buffer</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    prev_unblock = th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    if (brb == 0) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;rb_thread_call_with_gvl: called by a thread which has GVL.&quot;</span>);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <a class="code" href="thread_8c.html#a9271a3efc55d59d1eee23cbf8719ffec">blocking_region_end</a>(th, brb);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">/* enter to Ruby world: You can access Ruby values, methods and so on. */</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    r = (*func)(data1);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="comment">/* leave from Ruby world: You can not access Ruby values, etc. */</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="thread_8c.html#aa886ec586144cf69ac6f2c44cd3a8a9f">blocking_region_begin</a>(th, brb, prev_unblock.func, prev_unblock.arg, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="thread_8c_html_a9271a3efc55d59d1eee23cbf8719ffec"><div class="ttname"><a href="thread_8c.html#a9271a3efc55d59d1eee23cbf8719ffec">blocking_region_end</a></div><div class="ttdeci">static void blocking_region_end(rb_thread_t *th, struct rb_blocking_region_buffer *region)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01250">thread.c:1250</a></div></div>
<div class="ttc" id="thread_8c_html_aa886ec586144cf69ac6f2c44cd3a8a9f"><div class="ttname"><a href="thread_8c.html#aa886ec586144cf69ac6f2c44cd3a8a9f">blocking_region_begin</a></div><div class="ttdeci">static int blocking_region_begin(rb_thread_t *th, struct rb_blocking_region_buffer *region, rb_unblock_function_t *ubf, void *arg, int fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01232">thread.c:1232</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aaf8cb1dd54464d5c8e277a66f2c1a063"><div class="ttname"><a href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">rb_thread_struct::blocking_region_buffer</a></div><div class="ttdeci">void * blocking_region_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00677">vm_core.h:677</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a73efe787c131b385070f25d18b7c9aa4"><div class="ttname"><a href="eval__intern_8h.html#a73efe787c131b385070f25d18b7c9aa4">EXIT_FAILURE</a></div><div class="ttdeci">#define EXIT_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00024">eval_intern.h:24</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html"><div class="ttname"><a href="structrb__blocking__region__buffer.html">rb_blocking_region_buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00110">thread.c:110</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a1e8ee4d75d7d514449cf70ce7beca57e"><div class="ttname"><a href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">rb_thread_struct::unblock</a></div><div class="ttdeci">struct rb_unblock_callback unblock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00699">vm_core.h:699</a></div></div>
<div class="ttc" id="structrb__unblock__callback_html"><div class="ttname"><a href="structrb__unblock__callback.html">rb_unblock_callback</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00601">vm_core.h:601</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6382e0ae0c5ac5851051ca7f9b0065b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rb_thread_call_without_gvl </td>
          <td>(</td>
          <td class="paramtype">void *(*)(void *data)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_unblock_function_t *&#160;</td>
          <td class="paramname"><em>ubf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01385">1385</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;{</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a3b4b81e89bcd2c08610969b34255be38">call_without_gvl</a>(func, data1, ubf, data2, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;}</div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="thread_8c_html_a3b4b81e89bcd2c08610969b34255be38"><div class="ttname"><a href="thread_8c.html#a3b4b81e89bcd2c08610969b34255be38">call_without_gvl</a></div><div class="ttdeci">static void * call_without_gvl(void *(*func)(void *), void *data1, rb_unblock_function_t *ubf, void *data2, int fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01264">thread.c:1264</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a082defc84db5e00f2a7ae83d093a46d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rb_thread_call_without_gvl2 </td>
          <td>(</td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_unblock_function_t *&#160;</td>
          <td class="paramname"><em>ubf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01378">1378</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;{</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a3b4b81e89bcd2c08610969b34255be38">call_without_gvl</a>(func, data1, ubf, data2, <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a3b4b81e89bcd2c08610969b34255be38"><div class="ttname"><a href="thread_8c.html#a3b4b81e89bcd2c08610969b34255be38">call_without_gvl</a></div><div class="ttdeci">static void * call_without_gvl(void *(*func)(void *), void *data1, rb_unblock_function_t *ubf, void *data2, int fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01264">thread.c:1264</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c9bfa5b17b2be949b3ca843e6a0ee9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_check_ints </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01173">1173</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>());</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a024fc07d1560d6a94da3bcc268c9bbd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_thread_check_trap_pending </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01183">1183</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;{</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="signal_8c.html#ae736d06fff1f8b7b00cf0d25dfff369a">rb_signal_buff_size</a>() != 0;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;}</div>
<div class="ttc" id="signal_8c_html_ae736d06fff1f8b7b00cf0d25dfff369a"><div class="ttname"><a href="signal_8c.html#ae736d06fff1f8b7b00cf0d25dfff369a">rb_signal_buff_size</a></div><div class="ttdeci">int rb_signal_buff_size(void)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00707">signal.c:707</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9316404d9cbe24ea7f25738191c5bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_create </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(ANYARGS)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00788">788</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a>(<a class="code" href="vm_8c.html#a914b7151a013f7fc163b7024cb00ac87">rb_thread_alloc</a>(<a class="code" href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a>), (VALUE)arg, fn);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="ttc" id="vm_8c_html_a914b7151a013f7fc163b7024cb00ac87"><div class="ttname"><a href="vm_8c.html#a914b7151a013f7fc163b7024cb00ac87">rb_thread_alloc</a></div><div class="ttdeci">VALUE rb_thread_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l02298">vm.c:2298</a></div></div>
<div class="ttc" id="thread_8c_html_a450e32771d75af4d10525228379223dc"><div class="ttname"><a href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a></div><div class="ttdeci">static VALUE thread_create_core(VALUE thval, VALUE args, VALUE(*fn)(ANYARGS))</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00668">thread.c:668</a></div></div>
<div class="ttc" id="vm_8c_html_aade475ee7a5ceb8e727ec38287af0e95"><div class="ttname"><a href="vm_8c.html#aade475ee7a5ceb8e727ec38287af0e95">rb_cThread</a></div><div class="ttdeci">VALUE rb_cThread</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l00158">vm.c:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac41dd89ae3df1fc1d9968c8239659ce3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_current </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02393">2393</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;{</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aebfe3d635f71a21d8f47a9a79e6d3ab1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_execute_interrupts </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02029">2029</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;{</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thval, th);</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <a class="code" href="thread_8c.html#a2e10a6b9b984e686cc8727a3fa942b10">rb_threadptr_execute_interrupts</a>(th, 1);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a2e10a6b9b984e686cc8727a3fa942b10"><div class="ttname"><a href="thread_8c.html#a2e10a6b9b984e686cc8727a3fa942b10">rb_threadptr_execute_interrupts</a></div><div class="ttdeci">void rb_threadptr_execute_interrupts(rb_thread_t *th, int blocking_timing)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01956">thread.c:1956</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14413506613b516843bde54b5a6578ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02246">2246</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;{</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a3b589c6cbb1ea96a3b1a25ea76f40a77"><div class="ttname"><a href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a></div><div class="ttdeci">VALUE rb_thread_kill(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02185">thread.c:2185</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5f7b7ba5cff56d7e2975d89696c8de17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_fd_close </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02120">2120</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;{</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <a class="code" href="structrb__vm__struct.html">rb_vm_t</a> *vm = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = 0;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, th, vmlt_node) {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">waiting_fd</a> == fd) {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        VALUE err = th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#ab4845381ba51f0d494e3e8412280103b">special_exceptions</a>[<a class="code" href="vm__core_8h.html#a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b">ruby_error_closed_stream</a>];</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <a class="code" href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a>(th, err);</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(th);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    }</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a8ddade0070cf5af8034e1549e30839fb"><div class="ttname"><a href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">rb_thread_struct::waiting_fd</a></div><div class="ttdeci">int waiting_fd</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00646">vm_core.h:646</a></div></div>
<div class="ttc" id="thread_8c_html_a63cbd624cfbda37f74c28998bf26c2eb"><div class="ttname"><a href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a></div><div class="ttdeci">void rb_threadptr_pending_interrupt_enque(rb_thread_t *th, VALUE v)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01547">thread.c:1547</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_ab4845381ba51f0d494e3e8412280103b"><div class="ttname"><a href="structrb__vm__struct.html#ab4845381ba51f0d494e3e8412280103b">rb_vm_struct::special_exceptions</a></div><div class="ttdeci">const VALUE special_exceptions[ruby_special_error_count]</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00435">vm_core.h:435</a></div></div>
<div class="ttc" id="vm__core_8h_html_a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b"><div class="ttname"><a href="vm__core_8h.html#a58590982dd240cfd7473cc798636c05aad3e1c23772c07f2dc0823055f25bdc1b">ruby_error_closed_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00370">vm_core.h:370</a></div></div>
<div class="ttc" id="structrb__vm__struct_html"><div class="ttname"><a href="structrb__vm__struct.html">rb_vm_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00415">vm_core.h:415</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="thread_8c_html_ac46256e91e4796220065f97cd0842a10"><div class="ttname"><a href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a></div><div class="ttdeci">void rb_threadptr_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00402">thread.c:402</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57f9a9f04bf3e8f6f9597bed235e1685"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_thread_fd_select </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_fdset_t *&#160;</td>
          <td class="paramname"><em>except</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03562">3562</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;{</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="keywordflow">if</span> (!read &amp;&amp; !write &amp;&amp; !except) {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="keywordflow">if</span> (!timeout) {</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        <a class="code" href="thread_8c.html#a57a3a6b1a7a0c9dc8905611023297567">rb_thread_sleep_forever</a>();</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    }</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <a class="code" href="thread_8c.html#a63daa07c9361f6046d412e0989b27b1a">rb_thread_wait_for</a>(*timeout);</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    }</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordflow">if</span> (read) {</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    rb_fd_resize(<a class="code" href="strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a> - 1, read);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    }</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="keywordflow">if</span> (write) {</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    rb_fd_resize(<a class="code" href="strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a> - 1, write);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    }</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <span class="keywordflow">if</span> (except) {</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    rb_fd_resize(<a class="code" href="strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a> - 1, except);</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    }</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ae2924ac71c4bbafe8cdb4e6753b60271">do_select</a>(<a class="code" href="strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a>, read, write, except, timeout);</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;}</div>
<div class="ttc" id="strftime_8c_html_aa5d960354774dc177393b360c0f90aa9"><div class="ttname"><a href="strftime_8c.html#aa5d960354774dc177393b360c0f90aa9">max</a></div><div class="ttdeci">static int max(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="strftime_8c_source.html#l00141">strftime.c:141</a></div></div>
<div class="ttc" id="thread_8c_html_a63daa07c9361f6046d412e0989b27b1a"><div class="ttname"><a href="thread_8c.html#a63daa07c9361f6046d412e0989b27b1a">rb_thread_wait_for</a></div><div class="ttdeci">void rb_thread_wait_for(struct timeval time)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01159">thread.c:1159</a></div></div>
<div class="ttc" id="thread_8c_html_ae2924ac71c4bbafe8cdb4e6753b60271"><div class="ttname"><a href="thread_8c.html#ae2924ac71c4bbafe8cdb4e6753b60271">do_select</a></div><div class="ttdeci">static int do_select(int n, rb_fdset_t *readfds, rb_fdset_t *writefds, rb_fdset_t *exceptfds, struct timeval *timeout)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03451">thread.c:3451</a></div></div>
<div class="ttc" id="thread_8c_html_a57a3a6b1a7a0c9dc8905611023297567"><div class="ttname"><a href="thread_8c.html#a57a3a6b1a7a0c9dc8905611023297567">rb_thread_sleep_forever</a></div><div class="ttdeci">void rb_thread_sleep_forever(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01121">thread.c:1121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a248c539c51b0fd0a68fd8e123ecfbe93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_thread_fd_writable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03555">3555</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;{</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    <a class="code" href="thread_8c.html#a0c1ffb1e8922c3c158ec0b96049735f4">rb_thread_wait_fd_rw</a>(fd, 0);</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a0c1ffb1e8922c3c158ec0b96049735f4"><div class="ttname"><a href="thread_8c.html#a0c1ffb1e8922c3c158ec0b96049735f4">rb_thread_wait_fd_rw</a></div><div class="ttdeci">static void rb_thread_wait_fd_rw(int fd, int read)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03529">thread.c:3529</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9551a0d57549f0b74b16c3e5b4f91ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_getname </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02726">2726</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;{</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="keywordflow">return</span> th-&gt;<a class="code" href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">name</a>;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a8d8c51180396190f882b5a32892e2bff"><div class="ttname"><a href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">rb_thread_struct::name</a></div><div class="ttdeci">VALUE name</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00766">vm_core.h:766</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a265dfbed765a341f8e694c7bdc8e5357"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_group </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02558">2558</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;{</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    VALUE group;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    group = th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a>;</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;    <span class="keywordflow">if</span> (!group) {</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    group = Qnil;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    }</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">return</span> group;</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3fa7c7d516fe265dbbd215eed5da5a20"><div class="ttname"><a href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">rb_thread_struct::thgroup</a></div><div class="ttdeci">VALUE thgroup</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00679">vm_core.h:679</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a3aa8956530e0171285ddd8a797c4f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_inspect </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02767">2767</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;{</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    VALUE cname = <a class="code" href="variable_8c.html#ad0b84ba32b229c50da53873fd68b0199">rb_class_path</a>(<a class="code" href="object_8c.html#a9338e4719b257b9dbe33c829306c317f">rb_obj_class</a>(thread));</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *status;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    VALUE str;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    status = <a class="code" href="thread_8c.html#afe0c73515070184a3c06cb695ac32863">thread_status_name</a>(th);</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    str = <a class="code" href="sprintf_8c.html#a470635519b62bb5476e2c3fd86eb7e33">rb_sprintf</a>(<span class="stringliteral">&quot;#&lt;%&quot;</span>PRIsVALUE<span class="stringliteral">&quot;:%p&quot;</span>, cname, (<span class="keywordtype">void</span> *)thread);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <span class="keywordflow">if</span> (!NIL_P(th-&gt;<a class="code" href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">name</a>)) {</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <a class="code" href="sprintf_8c.html#a59c4c29b8078e29d01c9f5f1989baf57">rb_str_catf</a>(str, <span class="stringliteral">&quot;@%&quot;</span>PRIsVALUE, th-&gt;<a class="code" href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">name</a>);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    }</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">first_func</a> &amp;&amp; th-&gt;<a class="code" href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">first_proc</a>) {</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    VALUE loc = <a class="code" href="internal_8h.html#ac3a12eb7e4f35538dfd8cdd35d7f1155">rb_proc_location</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">first_proc</a>);</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <span class="keywordflow">if</span> (!NIL_P(loc)) {</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        <span class="keyword">const</span> VALUE *ptr = RARRAY_CONST_PTR(loc);</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        <a class="code" href="sprintf_8c.html#a59c4c29b8078e29d01c9f5f1989baf57">rb_str_catf</a>(str, <span class="stringliteral">&quot;@%&quot;</span>PRIsVALUE<span class="stringliteral">&quot;:%&quot;</span>PRIsVALUE, ptr[0], ptr[1]);</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        <a class="code" href="gc_8c.html#a86c2cf857cb1cd641afef6c8161c05c2">rb_gc_force_recycle</a>(loc);</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    }</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    }</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <a class="code" href="sprintf_8c.html#a59c4c29b8078e29d01c9f5f1989baf57">rb_str_catf</a>(str, <span class="stringliteral">&quot; %s&gt;&quot;</span>, status);</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    OBJ_INFECT(str, thread);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordflow">return</span> str;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a8d8c51180396190f882b5a32892e2bff"><div class="ttname"><a href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">rb_thread_struct::name</a></div><div class="ttdeci">VALUE name</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00766">vm_core.h:766</a></div></div>
<div class="ttc" id="gc_8c_html_a86c2cf857cb1cd641afef6c8161c05c2"><div class="ttname"><a href="gc_8c.html#a86c2cf857cb1cd641afef6c8161c05c2">rb_gc_force_recycle</a></div><div class="ttdeci">void rb_gc_force_recycle(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l05847">gc.c:5847</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="object_8c_html_a9338e4719b257b9dbe33c829306c317f"><div class="ttname"><a href="object_8c.html#a9338e4719b257b9dbe33c829306c317f">rb_obj_class</a></div><div class="ttdeci">VALUE rb_obj_class(VALUE obj)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l00227">object.c:227</a></div></div>
<div class="ttc" id="thread_8c_html_afe0c73515070184a3c06cb695ac32863"><div class="ttname"><a href="thread_8c.html#afe0c73515070184a3c06cb695ac32863">thread_status_name</a></div><div class="ttdeci">static const char * thread_status_name(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02572">thread.c:2572</a></div></div>
<div class="ttc" id="variable_8c_html_ad0b84ba32b229c50da53873fd68b0199"><div class="ttname"><a href="variable_8c.html#ad0b84ba32b229c50da53873fd68b0199">rb_class_path</a></div><div class="ttdeci">VALUE rb_class_path(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="variable_8c_source.html#l00292">variable.c:292</a></div></div>
<div class="ttc" id="sprintf_8c_html_a59c4c29b8078e29d01c9f5f1989baf57"><div class="ttname"><a href="sprintf_8c.html#a59c4c29b8078e29d01c9f5f1989baf57">rb_str_catf</a></div><div class="ttdeci">VALUE rb_str_catf(VALUE str, char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="sprintf_8c_source.html#l01454">sprintf.c:1454</a></div></div>
<div class="ttc" id="internal_8h_html_ac3a12eb7e4f35538dfd8cdd35d7f1155"><div class="ttname"><a href="internal_8h.html#ac3a12eb7e4f35538dfd8cdd35d7f1155">rb_proc_location</a></div><div class="ttdeci">VALUE rb_proc_location(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00965">proc.c:965</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aefaadd717ae62c44343b7bc767db6c5b"><div class="ttname"><a href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">rb_thread_struct::first_proc</a></div><div class="ttdeci">VALUE first_proc</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00727">vm_core.h:727</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a02e88e845f2c9727cb5d52bd64134ec9"><div class="ttname"><a href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">rb_thread_struct::first_func</a></div><div class="ttdeci">VALUE(* first_func)(ANYARGS)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00729">vm_core.h:729</a></div></div>
<div class="ttc" id="sprintf_8c_html_a470635519b62bb5476e2c3fd86eb7e33"><div class="ttname"><a href="sprintf_8c.html#a470635519b62bb5476e2c3fd86eb7e33">rb_sprintf</a></div><div class="ttdeci">VALUE rb_sprintf(char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="sprintf_8c_source.html#l01414">sprintf.c:1414</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09fe8c6b6e8ac42cba5f0b5b7e8fe24d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_thread_interrupted </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01190">1190</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;{</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thval, th);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="vm__core_8h.html#a0556a5a4763f36a45f81053a30570f3d">RUBY_VM_INTERRUPTED</a>(th);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="vm__core_8h_html_a0556a5a4763f36a45f81053a30570f3d"><div class="ttname"><a href="vm__core_8h.html#a0556a5a4763f36a45f81053a30570f3d">RUBY_VM_INTERRUPTED</a></div><div class="ttdeci">#define RUBY_VM_INTERRUPTED(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01111">vm_core.h:1111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af541b78962a7376bf184693fc4144441"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_io_blocking_region </td>
          <td>(</td>
          <td class="paramtype">rb_blocking_function_t *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01392">1392</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;{</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keyword">volatile</span> VALUE <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a> = Qundef; <span class="comment">/* shouldn&#39;t be used */</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <span class="keyword">volatile</span> <span class="keywordtype">int</span> saved_errno = 0;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordtype">int</span> state;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">waiting_fd</a> = fd;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a>(th);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">if</span> ((state = <a class="code" href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a>()) == 0) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a>({</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        val = func(data1);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        saved_errno = errno;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    }, ubf_select, th, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <a class="code" href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a>();</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="comment">/* clear waiting_fd anytime */</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">waiting_fd</a> = -1;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">if</span> (state) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <a class="code" href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a>(state);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">/* TODO: check func() */</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    errno = saved_errno;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a8ddade0070cf5af8034e1549e30839fb"><div class="ttname"><a href="structrb__thread__struct.html#a8ddade0070cf5af8034e1549e30839fb">rb_thread_struct::waiting_fd</a></div><div class="ttdeci">int waiting_fd</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00646">vm_core.h:646</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4d06135dea1a72a3ab73b20cc1a9fc55"><div class="ttname"><a href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a></div><div class="ttdeci">#define TH_POP_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00128">eval_intern.h:128</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a3441e3967c633da99c3dcd025494053e"><div class="ttname"><a href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a></div><div class="ttdeci">#define EXEC_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00172">eval_intern.h:172</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a24884166ae699029ade34fd36bedd688"><div class="ttname"><a href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a></div><div class="ttdeci">#define JUMP_TAG(st)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00177">eval_intern.h:177</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="eval__intern_8h_html_a4410e4208d7ae0de8dae7c5b61f9d55c"><div class="ttname"><a href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a></div><div class="ttdeci">#define TH_PUSH_TAG(th)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00122">eval_intern.h:122</a></div></div>
<div class="ttc" id="thread_8c_html_a7859dbb6b77b640c0ca927fc0da55adb"><div class="ttname"><a href="thread_8c.html#a7859dbb6b77b640c0ca927fc0da55adb">BLOCKING_REGION</a></div><div class="ttdeci">#define BLOCKING_REGION(exec, ubf, ubfarg, fail_if_interrupted)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00156">thread.c:156</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3e71f7e67290ebc29029bd1877f98fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_key_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03017">3017</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;{</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    ID <span class="keywordtype">id</span> = <a class="code" href="symbol_8c.html#a7f07f939a6b20e1d8e20abda0dbdc96f">rb_check_id</a>(&amp;<a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(<span class="keyword">self</span>, th);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">id</span> || !th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>) {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#af526fb7d918a9a5ceadadc087e79aa1c">st_lookup</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>, <span class="keywordtype">id</span>, 0)) {</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    }</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;}</div>
<div class="ttc" id="symbol_8c_html_a7f07f939a6b20e1d8e20abda0dbdc96f"><div class="ttname"><a href="symbol_8c.html#a7f07f939a6b20e1d8e20abda0dbdc96f">rb_check_id</a></div><div class="ttdeci">ID rb_check_id(volatile VALUE *namep)</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8c_source.html#l00946">symbol.c:946</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_af1ef1ecd85eec7b4809f81151ade5248"><div class="ttname"><a href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">rb_thread_struct::local_storage</a></div><div class="ttdeci">st_table * local_storage</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00721">vm_core.h:721</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="st_8c_html_af526fb7d918a9a5ceadadc087e79aa1c"><div class="ttname"><a href="st_8c.html#af526fb7d918a9a5ceadadc087e79aa1c">st_lookup</a></div><div class="ttdeci">int st_lookup(st_table *table, register st_data_t key, st_data_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l00383">st.c:383</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3dd4177f86d3e62a87471550f16b8d6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_keys </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03072">3072</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;{</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    VALUE ary = <a class="code" href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a>();</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(<span class="keyword">self</span>, th);</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>) {</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <a class="code" href="st_8c.html#accc02c609f11fe0cad4061ff19f09b9a">st_foreach</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>, <a class="code" href="thread_8c.html#ae5280a8a3bac3235afdeeecb5f667725">thread_keys_i</a>, ary);</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    }</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="keywordflow">return</span> ary;</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_af1ef1ecd85eec7b4809f81151ade5248"><div class="ttname"><a href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">rb_thread_struct::local_storage</a></div><div class="ttdeci">st_table * local_storage</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00721">vm_core.h:721</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="array_8c_html_a9518114fd36cb4ef4656ec1dc63348c9"><div class="ttname"><a href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a></div><div class="ttdeci">VALUE rb_ary_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00498">array.c:498</a></div></div>
<div class="ttc" id="st_8c_html_accc02c609f11fe0cad4061ff19f09b9a"><div class="ttname"><a href="st_8c.html#accc02c609f11fe0cad4061ff19f09b9a">st_foreach</a></div><div class="ttdeci">int st_foreach(st_table *table, int(*func)(ANYARGS), st_data_t arg)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l01010">st.c:1010</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="thread_8c_html_ae5280a8a3bac3235afdeeecb5f667725"><div class="ttname"><a href="thread_8c.html#ae5280a8a3bac3235afdeeecb5f667725">thread_keys_i</a></div><div class="ttdeci">static int thread_keys_i(ID key, VALUE value, VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03034">thread.c:3034</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b589c6cbb1ea96a3b1a25ea76f40a77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_kill </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02185">2185</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;{</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a3004e89225a07c08e78af212b40c0e3c">to_kill</a> || th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>) {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">return</span> thread;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    }</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> (th == th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <a class="code" href="process_8c.html#af2c2f0407075dba1e3067907fb91ddda">rb_exit</a>(<a class="code" href="error_8c.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a>);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    }</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_kill: %p (%&quot;</span><a class="code" href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a><span class="stringliteral">&quot;)\n&quot;</span>, (<span class="keywordtype">void</span> *)th, <a class="code" href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a>(th));</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keywordflow">if</span> (th == <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()) {</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="comment">/* kill myself immediately */</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <a class="code" href="thread_8c.html#a507b90792155ba1f807575b9873820cb">rb_threadptr_to_kill</a>(th);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <a class="code" href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a>(th, <a class="code" href="thread_8c.html#a91ff2a2664cca7f055bc4a87b26e9f67">eKillSignal</a>);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(th);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    }</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <span class="keywordflow">return</span> thread;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a91ff2a2664cca7f055bc4a87b26e9f67"><div class="ttname"><a href="thread_8c.html#a91ff2a2664cca7f055bc4a87b26e9f67">eKillSignal</a></div><div class="ttdeci">#define eKillSignal</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00094">thread.c:94</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="thread_8c_html_a63cbd624cfbda37f74c28998bf26c2eb"><div class="ttname"><a href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a></div><div class="ttdeci">void rb_threadptr_pending_interrupt_enque(rb_thread_t *th, VALUE v)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01547">thread.c:1547</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a8561cf624a81dc63b02734902fc09bd0"><div class="ttname"><a href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a></div><div class="ttdeci">#define thread_id_str(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00248">thread.c:248</a></div></div>
<div class="ttc" id="thread_8c_html_a21570891a952bdfe6b439219b20a7cc7"><div class="ttname"><a href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a></div><div class="ttdeci">#define PRI_THREAD_ID</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00249">thread.c:249</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="process_8c_html_af2c2f0407075dba1e3067907fb91ddda"><div class="ttname"><a href="process_8c.html#af2c2f0407075dba1e3067907fb91ddda">rb_exit</a></div><div class="ttdeci">void rb_exit(int status)</div><div class="ttdef"><b>Definition:</b> <a href="process_8c_source.html#l03737">process.c:3737</a></div></div>
<div class="ttc" id="error_8c_html_a687984f47d8cce148d1b914d2b79612a"><div class="ttname"><a href="error_8c.html#a687984f47d8cce148d1b914d2b79612a">EXIT_SUCCESS</a></div><div class="ttdeci">#define EXIT_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00027">error.c:27</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3004e89225a07c08e78af212b40c0e3c"><div class="ttname"><a href="structrb__thread__struct.html#a3004e89225a07c08e78af212b40c0e3c">rb_thread_struct::to_kill</a></div><div class="ttdeci">int to_kill</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00673">vm_core.h:673</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="thread_8c_html_a507b90792155ba1f807575b9873820cb"><div class="ttname"><a href="thread_8c.html#a507b90792155ba1f807575b9873820cb">rb_threadptr_to_kill</a></div><div class="ttdeci">static void rb_threadptr_to_kill(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01933">thread.c:1933</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="thread_8c_html_ac46256e91e4796220065f97cd0842a10"><div class="ttname"><a href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a></div><div class="ttdeci">void rb_threadptr_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00402">thread.c:402</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd2bc54fc62e02229c7cded86a6a93ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_list </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02373">2373</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;{</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    VALUE ary = <a class="code" href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a>();</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <a class="code" href="structrb__vm__struct.html">rb_vm_t</a> *vm = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = 0;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, th, vmlt_node) {</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="keywordflow">switch</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>) {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>:</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>:</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>:</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(ary, th-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    }</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    }</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="keywordflow">return</span> ary;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="array_8c_html_a9518114fd36cb4ef4656ec1dc63348c9"><div class="ttname"><a href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a></div><div class="ttdeci">VALUE rb_ary_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00498">array.c:498</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__vm__struct_html"><div class="ttname"><a href="structrb__vm__struct.html">rb_vm_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00415">vm_core.h:415</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00573">vm_core.h:573</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f5e5fba5fc0c4e1b5289eff6685bcee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_local_aref </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02816">2816</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;{</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a757f5968dc4937bbaaec53e29f24fca5">threadptr_local_aref</a>(th, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a757f5968dc4937bbaaec53e29f24fca5"><div class="ttname"><a href="thread_8c.html#a757f5968dc4937bbaaec53e29f24fca5">threadptr_local_aref</a></div><div class="ttdeci">static VALUE threadptr_local_aref(rb_thread_t *th, ID id)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02798">thread.c:2798</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae884caa41374501706b4bbd5ad1b744c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_local_aset </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02913">2913</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;{</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <span class="keywordflow">if</span> (OBJ_FROZEN(thread)) {</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <a class="code" href="error_8c.html#a43f95a8ece1ff4fb9aaf61a26fb4f345">rb_error_frozen</a>(<span class="stringliteral">&quot;thread locals&quot;</span>);</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    }</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a01267d71c3a0ad92afcbedc00fa31413">threadptr_local_aset</a>(th, <span class="keywordtype">id</span>, <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a43f95a8ece1ff4fb9aaf61a26fb4f345"><div class="ttname"><a href="error_8c.html#a43f95a8ece1ff4fb9aaf61a26fb4f345">rb_error_frozen</a></div><div class="ttdeci">void rb_error_frozen(const char *what)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l02172">error.c:2172</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="thread_8c_html_a01267d71c3a0ad92afcbedc00fa31413"><div class="ttname"><a href="thread_8c.html#a01267d71c3a0ad92afcbedc00fa31413">threadptr_local_aset</a></div><div class="ttdeci">static VALUE threadptr_local_aset(rb_thread_t *th, ID id, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02892">thread.c:2892</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51cfac21ec8b848c95a397c50660f2fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02414">2414</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;{</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98660b14ebe5541413764ba6666c465f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_pending_interrupt_p </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>target_thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01842">1842</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;{</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *target_th;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(target_thread, target_th);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a>(target_th)) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    }</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> == 1) {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        VALUE err;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <a class="code" href="group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="stringliteral">&quot;01&quot;</span>, &amp;err);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="object_8c.html#acf554ed5c1aab2060cff44fad406c5fc">rb_obj_is_kind_of</a>(err, <a class="code" href="object_8c.html#aae7c5c46eca7cd0df49381b691953b0c">rb_cModule</a>)) {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a>, <span class="stringliteral">&quot;class or module required for rescue clause&quot;</span>);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a32c1f16a4c5fa0c2b2bdf5ca7912db3a">rb_threadptr_pending_interrupt_include_p</a>(target_th, err)) {</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    }</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a565ed9d70f4089e1b4a36e9b3381b8c6"><div class="ttname"><a href="error_8c.html#a565ed9d70f4089e1b4a36e9b3381b8c6">rb_eTypeError</a></div><div class="ttdeci">VALUE rb_eTypeError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00622">error.c:622</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="object_8c_html_aae7c5c46eca7cd0df49381b691953b0c"><div class="ttname"><a href="object_8c.html#aae7c5c46eca7cd0df49381b691953b0c">rb_cModule</a></div><div class="ttdeci">VALUE rb_cModule</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l00029">object.c:29</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a32c1f16a4c5fa0c2b2bdf5ca7912db3a"><div class="ttname"><a href="thread_8c.html#a32c1f16a4c5fa0c2b2bdf5ca7912db3a">rb_threadptr_pending_interrupt_include_p</a></div><div class="ttdeci">static int rb_threadptr_pending_interrupt_include_p(rb_thread_t *th, VALUE err)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01606">thread.c:1606</a></div></div>
<div class="ttc" id="thread_8c_html_ae16cd5b995f9c31f2063ad3d82f1e365"><div class="ttname"><a href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a></div><div class="ttdeci">static int rb_threadptr_pending_interrupt_empty_p(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01600">thread.c:1600</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="group__defmethod_html_gaa7bed88640f01bee619f85fda09d28d7"><div class="ttname"><a href="group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a></div><div class="ttdeci">int rb_scan_args(int argc, const VALUE *argv, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l01731">class.c:1731</a></div></div>
<div class="ttc" id="object_8c_html_acf554ed5c1aab2060cff44fad406c5fc"><div class="ttname"><a href="object_8c.html#acf554ed5c1aab2060cff44fad406c5fc">rb_obj_is_kind_of</a></div><div class="ttdeci">VALUE rb_obj_is_kind_of(VALUE obj, VALUE c)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l00643">object.c:643</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73b6b621aeddfb655a3e84b8ec9ab6a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_priority </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03173">3173</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;{</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="keywordflow">return</span> INT2NUM(th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a>);</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aec8d3fa76bacce31680b55dd03eac0e9"><div class="ttname"><a href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">rb_thread_struct::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00674">vm_core.h:674</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab9f7ba0777b3019a8b7365dc59cf0c68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_priority_set </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>prio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03208">3208</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;{</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <span class="keywordtype">int</span> priority;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;<span class="preprocessor">#if USE_NATIVE_THREAD_PRIORITY</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a> = NUM2INT(prio);</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    native_thread_apply_priority(th);</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    priority = NUM2INT(prio);</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="keywordflow">if</span> (priority &gt; <a class="code" href="thread_8c.html#a58c7d1c9521948791d2e3fa395cb0a88">RUBY_THREAD_PRIORITY_MAX</a>) {</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    priority = <a class="code" href="thread_8c.html#a58c7d1c9521948791d2e3fa395cb0a88">RUBY_THREAD_PRIORITY_MAX</a>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    }</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (priority &lt; <a class="code" href="thread_8c.html#ad87654a9a2482222dcd14448c02eeabc">RUBY_THREAD_PRIORITY_MIN</a>) {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    priority = <a class="code" href="thread_8c.html#ad87654a9a2482222dcd14448c02eeabc">RUBY_THREAD_PRIORITY_MIN</a>;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    }</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a> = priority;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    <span class="keywordflow">return</span> INT2NUM(th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a>);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a58c7d1c9521948791d2e3fa395cb0a88"><div class="ttname"><a href="thread_8c.html#a58c7d1c9521948791d2e3fa395cb0a88">RUBY_THREAD_PRIORITY_MAX</a></div><div class="ttdeci">#define RUBY_THREAD_PRIORITY_MAX</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00070">thread.c:70</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aec8d3fa76bacce31680b55dd03eac0e9"><div class="ttname"><a href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">rb_thread_struct::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00674">vm_core.h:674</a></div></div>
<div class="ttc" id="thread_8c_html_ad87654a9a2482222dcd14448c02eeabc"><div class="ttname"><a href="thread_8c.html#ad87654a9a2482222dcd14448c02eeabc">RUBY_THREAD_PRIORITY_MIN</a></div><div class="ttdeci">#define RUBY_THREAD_PRIORITY_MIN</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00071">thread.c:71</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ea0032f29e8cf2be79a7d4ac6383d0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_reset_timer_thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03850">3850</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;{</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;    native_reset_timer_thread();</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa0f6e88800576706aca78d4f8c96a82e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_run </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02316">2316</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;{</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <a class="code" href="thread_8c.html#aa1e05608c1815e8b03e5147325a14bab">rb_thread_wakeup</a>(thread);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <a class="code" href="thread_8c.html#ad1fe299d3b5a492259ab4e733832868c">rb_thread_schedule</a>();</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">return</span> thread;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa1e05608c1815e8b03e5147325a14bab"><div class="ttname"><a href="thread_8c.html#aa1e05608c1815e8b03e5147325a14bab">rb_thread_wakeup</a></div><div class="ttdeci">VALUE rb_thread_wakeup(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02270">thread.c:2270</a></div></div>
<div class="ttc" id="thread_8c_html_ad1fe299d3b5a492259ab4e733832868c"><div class="ttname"><a href="thread_8c.html#ad1fe299d3b5a492259ab4e733832868c">rb_thread_schedule</a></div><div class="ttdeci">void rb_thread_schedule(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01221">thread.c:1221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abfa2c372ccfc42b59b23f4b3cbe3c45f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_s_abort_exc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02454">2454</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;{</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a1038a7dea8b630eeb4ee58295576fc97">thread_abort_on_exception</a> ? Qtrue : Qfalse;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a1038a7dea8b630eeb4ee58295576fc97"><div class="ttname"><a href="structrb__vm__struct.html#a1038a7dea8b630eeb4ee58295576fc97">rb_vm_struct::thread_abort_on_exception</a></div><div class="ttdeci">int thread_abort_on_exception</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00429">vm_core.h:429</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c1410ed32492fe869727957f7e6a950"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_s_abort_exc_set </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02490">2490</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;{</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a1038a7dea8b630eeb4ee58295576fc97">thread_abort_on_exception</a> = RTEST(<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a1038a7dea8b630eeb4ee58295576fc97"><div class="ttname"><a href="structrb__vm__struct.html#a1038a7dea8b630eeb4ee58295576fc97">rb_vm_struct::thread_abort_on_exception</a></div><div class="ttdeci">int thread_abort_on_exception</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00429">vm_core.h:429</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7926cb2abb5777f7a6cb958fb861f6fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_s_handle_interrupt </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>mask_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01791">1791</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;{</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    VALUE mask;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keyword">volatile</span> VALUE r = Qnil;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordtype">int</span> state;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a>()) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a>, <span class="stringliteral">&quot;block is needed.&quot;</span>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    mask = <a class="code" href="object_8c.html#a14d863eac29ed278457e4304ae9c1ed6">rb_convert_type</a>(mask_arg, T_HASH, <span class="stringliteral">&quot;Hash&quot;</span>, <span class="stringliteral">&quot;to_hash&quot;</span>);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <a class="code" href="hash_8c.html#acc47d862ca823ed29cfd7e64300e38f9">rb_hash_foreach</a>(mask, <a class="code" href="thread_8c.html#a3695026c347ba77d8fef887cf766c681">handle_interrupt_arg_check_i</a>, 0);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>, mask);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a>(th)) {</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 0;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <a class="code" href="vm__core_8h.html#ab555b1a4987c4b9085e703c3d7ac6470">RUBY_VM_SET_INTERRUPT</a>(th);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a>(th);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">if</span> ((state = <a class="code" href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a>()) == 0) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    r = <a class="code" href="vm__eval_8c.html#a9dddbeb844bd6703c27d889ff9ecf162">rb_yield</a>(Qnil);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a>();</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <a class="code" href="array_8c.html#aacb1ec2239256ca2e537588fc534e7b8">rb_ary_pop</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a>(th)) {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 0;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="vm__core_8h.html#ab555b1a4987c4b9085e703c3d7ac6470">RUBY_VM_SET_INTERRUPT</a>(th);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <a class="code" href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a>(th);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">if</span> (state) {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <a class="code" href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a>(state);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_aa901d11cf0deaed13a18e08e3d03d1d9"><div class="ttname"><a href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01137">vm_core.h:1137</a></div></div>
<div class="ttc" id="array_8c_html_aacb1ec2239256ca2e537588fc534e7b8"><div class="ttname"><a href="array_8c.html#aacb1ec2239256ca2e537588fc534e7b8">rb_ary_pop</a></div><div class="ttdeci">VALUE rb_ary_pop(VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00954">array.c:954</a></div></div>
<div class="ttc" id="vm__core_8h_html_ab555b1a4987c4b9085e703c3d7ac6470"><div class="ttname"><a href="vm__core_8h.html#ab555b1a4987c4b9085e703c3d7ac6470">RUBY_VM_SET_INTERRUPT</a></div><div class="ttdeci">#define RUBY_VM_SET_INTERRUPT(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01108">vm_core.h:1108</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a33cad2d14cf2e5e9e96385eafc14d2fe"><div class="ttname"><a href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">rb_thread_struct::pending_interrupt_queue_checked</a></div><div class="ttdeci">int pending_interrupt_queue_checked</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00693">vm_core.h:693</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a979a16137dbb149acf7a8fd194946a24"><div class="ttname"><a href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">rb_thread_struct::pending_interrupt_mask_stack</a></div><div class="ttdeci">VALUE pending_interrupt_mask_stack</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00692">vm_core.h:692</a></div></div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="object_8c_html_a14d863eac29ed278457e4304ae9c1ed6"><div class="ttname"><a href="object_8c.html#a14d863eac29ed278457e4304ae9c1ed6">rb_convert_type</a></div><div class="ttdeci">VALUE rb_convert_type(VALUE val, int type, const char *tname, const char *method)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l02645">object.c:2645</a></div></div>
<div class="ttc" id="thread_8c_html_a3695026c347ba77d8fef887cf766c681"><div class="ttname"><a href="thread_8c.html#a3695026c347ba77d8fef887cf766c681">handle_interrupt_arg_check_i</a></div><div class="ttdeci">static int handle_interrupt_arg_check_i(VALUE key, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01675">thread.c:1675</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="hash_8c_html_acc47d862ca823ed29cfd7e64300e38f9"><div class="ttname"><a href="hash_8c.html#acc47d862ca823ed29cfd7e64300e38f9">rb_hash_foreach</a></div><div class="ttdeci">void rb_hash_foreach(VALUE hash, int(*func)(ANYARGS), VALUE farg)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00317">hash.c:317</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4d06135dea1a72a3ab73b20cc1a9fc55"><div class="ttname"><a href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a></div><div class="ttdeci">#define TH_POP_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00128">eval_intern.h:128</a></div></div>
<div class="ttc" id="eval_8c_html_aea346c4eb8bc06df88422e956bb05fec"><div class="ttname"><a href="eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a></div><div class="ttdeci">int rb_block_given_p(void)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00772">eval.c:772</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a3441e3967c633da99c3dcd025494053e"><div class="ttname"><a href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a></div><div class="ttdeci">#define EXEC_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00172">eval_intern.h:172</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a24884166ae699029ade34fd36bedd688"><div class="ttname"><a href="eval__intern_8h.html#a24884166ae699029ade34fd36bedd688">JUMP_TAG</a></div><div class="ttdeci">#define JUMP_TAG(st)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00177">eval_intern.h:177</a></div></div>
<div class="ttc" id="thread_8c_html_ae16cd5b995f9c31f2063ad3d82f1e365"><div class="ttname"><a href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a></div><div class="ttdeci">static int rb_threadptr_pending_interrupt_empty_p(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01600">thread.c:1600</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4410e4208d7ae0de8dae7c5b61f9d55c"><div class="ttname"><a href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a></div><div class="ttdeci">#define TH_PUSH_TAG(th)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00122">eval_intern.h:122</a></div></div>
<div class="ttc" id="vm__eval_8c_html_a9dddbeb844bd6703c27d889ff9ecf162"><div class="ttname"><a href="vm__eval_8c.html#a9dddbeb844bd6703c27d889ff9ecf162">rb_yield</a></div><div class="ttdeci">VALUE rb_yield(VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="vm__eval_8c_source.html#l00998">vm_eval.c:998</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="error_8c_html_ab5e2a9fec766c75176fbb262bfe6a596"><div class="ttname"><a href="error_8c.html#ab5e2a9fec766c75176fbb262bfe6a596">rb_eArgError</a></div><div class="ttdeci">VALUE rb_eArgError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00623">error.c:623</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abea0c0d50a07f163c286d370ae2e9974"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_s_kill </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>th</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02227">2227</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;{</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a>(th);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a3b589c6cbb1ea96a3b1a25ea76f40a77"><div class="ttname"><a href="thread_8c.html#a3b589c6cbb1ea96a3b1a25ea76f40a77">rb_thread_kill</a></div><div class="ttdeci">VALUE rb_thread_kill(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02185">thread.c:2185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83d7c781f19dd50dc347bfae5ffdad54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_s_main </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02427">2427</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;{</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a51cfac21ec8b848c95a397c50660f2fe">rb_thread_main</a>();</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a51cfac21ec8b848c95a397c50660f2fe"><div class="ttname"><a href="thread_8c.html#a51cfac21ec8b848c95a397c50660f2fe">rb_thread_main</a></div><div class="ttdeci">VALUE rb_thread_main(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02414">thread.c:2414</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7635d7702ab68d430153a5483aec98a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_s_pending_interrupt_p </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01927">1927</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;{</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a98660b14ebe5541413764ba6666c465f">rb_thread_pending_interrupt_p</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<span class="keyword">self</span>);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;}</div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="thread_8c_html_a98660b14ebe5541413764ba6666c465f"><div class="ttname"><a href="thread_8c.html#a98660b14ebe5541413764ba6666c465f">rb_thread_pending_interrupt_p</a></div><div class="ttdeci">static VALUE rb_thread_pending_interrupt_p(int argc, VALUE *argv, VALUE target_thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01842">thread.c:1842</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a236240d46cf6162b2d6d85f97f2a2989"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_safe_level </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02710">2710</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;{</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="keywordflow">return</span> INT2NUM(th-&gt;<a class="code" href="structrb__thread__struct.html#adc5048ddde96e3ea2e6b22c3e58ce696">safe_level</a>);</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_adc5048ddde96e3ea2e6b22c3e58ce696"><div class="ttname"><a href="structrb__thread__struct.html#adc5048ddde96e3ea2e6b22c3e58ce696">rb_thread_struct::safe_level</a></div><div class="ttdeci">int safe_level</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00639">vm_core.h:639</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1fe299d3b5a492259ab4e733832868c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_schedule </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01221">1221</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;{</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *cur_th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="thread_8c.html#aee380488cdc9cbd83605d3bcf316b98f">rb_thread_schedule_limits</a>(0);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <a class="code" href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a>(cur_th);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_aa901d11cf0deaed13a18e08e3d03d1d9"><div class="ttname"><a href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01137">vm_core.h:1137</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_aee380488cdc9cbd83605d3bcf316b98f"><div class="ttname"><a href="thread_8c.html#aee380488cdc9cbd83605d3bcf316b98f">rb_thread_schedule_limits</a></div><div class="ttdeci">static void rb_thread_schedule_limits(unsigned long limits_us)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01204">thread.c:1204</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee380488cdc9cbd83605d3bcf316b98f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_thread_schedule_limits </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>limits_us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01204">1204</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;{</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_schedule\n&quot;</span>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a>()) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#ada7923750df23f56b0d7164d715af3fb">running_time_us</a> &gt;= limits_us) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_schedule/switch start\n&quot;</span>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <a class="code" href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">RB_GC_SAVE_MACHINE_CONTEXT</a>(th);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        gvl_yield(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>, th);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <a class="code" href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a>(th);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_schedule/switch done\n&quot;</span>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_ada7923750df23f56b0d7164d715af3fb"><div class="ttname"><a href="structrb__thread__struct.html#ada7923750df23f56b0d7164d715af3fb">rb_thread_struct::running_time_us</a></div><div class="ttdeci">unsigned long running_time_us</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00765">vm_core.h:765</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="thread_8c_html_ac86131edba4a5a668958ce58b661d7ee"><div class="ttname"><a href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a></div><div class="ttdeci">int rb_thread_alone(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03047">thread.c:3047</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="vm__core_8h_html_addad24839d7483095151e91b3b83aed6"><div class="ttname"><a href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a></div><div class="ttdeci">#define rb_thread_set_current(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01088">vm_core.h:1088</a></div></div>
<div class="ttc" id="thread_8c_html_a87724f4fa8d14c9bf1504f528b858fa6"><div class="ttname"><a href="thread_8c.html#a87724f4fa8d14c9bf1504f528b858fa6">RB_GC_SAVE_MACHINE_CONTEXT</a></div><div class="ttdeci">#define RB_GC_SAVE_MACHINE_CONTEXT(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00129">thread.c:129</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad01481866fa1c711b7b2a65532dc63b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_setname </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02742">2742</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;{</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">name</a> = <a class="code" href="string_8c.html#a1f8d56af3502435d684d511db3cb7516">rb_str_new_frozen</a>(<a class="code" href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a>);</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;<span class="preprocessor">#if defined(HAVE_PTHREAD_SETNAME_NP)</span></div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="preprocessor"># if defined(__linux__)</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    pthread_setname_np(th-&gt;<a class="code" href="structrb__thread__struct.html#a744f5bac11851191900b971764eb5430">thread_id</a>, RSTRING_PTR(<a class="code" href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a>));</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="preprocessor"># elif defined(__NetBSD__)</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    pthread_setname_np(th-&gt;<a class="code" href="structrb__thread__struct.html#a744f5bac11851191900b971764eb5430">thread_id</a>, RSTRING_PTR(<a class="code" href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a>), <span class="stringliteral">&quot;%s&quot;</span>);</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;<span class="preprocessor">#elif defined(HAVE_PTHREAD_SET_NAME_NP) </span><span class="comment">/* FreeBSD */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    pthread_set_name_np(th-&gt;<a class="code" href="structrb__thread__struct.html#a744f5bac11851191900b971764eb5430">thread_id</a>, RSTRING_PTR(<a class="code" href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a>));</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a>;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;}</div>
<div class="ttc" id="string_8c_html_a1f8d56af3502435d684d511db3cb7516"><div class="ttname"><a href="string_8c.html#a1f8d56af3502435d684d511db3cb7516">rb_str_new_frozen</a></div><div class="ttdeci">VALUE rb_str_new_frozen(VALUE orig)</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l00948">string.c:948</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a8d8c51180396190f882b5a32892e2bff"><div class="ttname"><a href="structrb__thread__struct.html#a8d8c51180396190f882b5a32892e2bff">rb_thread_struct::name</a></div><div class="ttdeci">VALUE name</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00766">vm_core.h:766</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a744f5bac11851191900b971764eb5430"><div class="ttname"><a href="structrb__thread__struct.html#a744f5bac11851191900b971764eb5430">rb_thread_struct::thread_id</a></div><div class="ttdeci">rb_nativethread_id_t thread_id</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00668">vm_core.h:668</a></div></div>
<div class="ttc" id="symbol_8c_html_a392c96a032ae411c09950e557dc4097e"><div class="ttname"><a href="symbol_8c.html#a392c96a032ae411c09950e557dc4097e">name</a></div><div class="ttdeci">const char name[3]</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8c_source.html#l00056">symbol.c:56</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6971ca6396b47e383db6a35ace5cfbcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_shield_destroy </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04706">4706</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;{</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    VALUE mutex = <a class="code" href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    DATA_PTR(<span class="keyword">self</span>) = 0;</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    <a class="code" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a>(mutex);</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a>(<span class="keyword">self</span>) &gt; 0 ? Qtrue : Qfalse;</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ab09a399c6570cd6696043c9c2abefc6b"><div class="ttname"><a href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a></div><div class="ttdeci">#define rb_thread_shield_waiting(b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04635">thread.c:4635</a></div></div>
<div class="ttc" id="thread_8c_html_a438ef98147d61d06f695678766b44e15"><div class="ttname"><a href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a></div><div class="ttdeci">#define GetThreadShieldPtr(obj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04632">thread.c:4632</a></div></div>
<div class="ttc" id="thread_8c_html_a758673d0badb20d17196d42a4476404f"><div class="ttname"><a href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a></div><div class="ttdeci">VALUE rb_mutex_unlock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04465">thread.c:4465</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62cdcc3941e89d47e52f924947250bf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_shield_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04659">4659</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;{</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    VALUE thread_shield = <a class="code" href="thread_8c.html#aac998e2a6e145d1d0e8d8c0646540da1">thread_shield_alloc</a>(<a class="code" href="thread_8c.html#ae7e1adeec33182f017949cc89ff20d0f">rb_cThreadShield</a>);</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    <a class="code" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a>((VALUE)DATA_PTR(thread_shield));</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    <span class="keywordflow">return</span> thread_shield;</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ae7e1adeec33182f017949cc89ff20d0f"><div class="ttname"><a href="thread_8c.html#ae7e1adeec33182f017949cc89ff20d0f">rb_cThreadShield</a></div><div class="ttdeci">VALUE rb_cThreadShield</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00079">thread.c:79</a></div></div>
<div class="ttc" id="thread_8c_html_aac998e2a6e145d1d0e8d8c0646540da1"><div class="ttname"><a href="thread_8c.html#aac998e2a6e145d1d0e8d8c0646540da1">thread_shield_alloc</a></div><div class="ttdeci">static VALUE thread_shield_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04627">thread.c:4627</a></div></div>
<div class="ttc" id="thread_8c_html_aa9a0d55ad652665002fc75d1668228f2"><div class="ttname"><a href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a></div><div class="ttdeci">VALUE rb_mutex_lock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04335">thread.c:4335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6878b3ff4154f464d71220cf91d8ee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_shield_release </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04695">4695</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;{</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    VALUE mutex = <a class="code" href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <a class="code" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a>(mutex);</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a>(<span class="keyword">self</span>) &gt; 0 ? Qtrue : Qfalse;</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ab09a399c6570cd6696043c9c2abefc6b"><div class="ttname"><a href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a></div><div class="ttdeci">#define rb_thread_shield_waiting(b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04635">thread.c:4635</a></div></div>
<div class="ttc" id="thread_8c_html_a438ef98147d61d06f695678766b44e15"><div class="ttname"><a href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a></div><div class="ttdeci">#define GetThreadShieldPtr(obj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04632">thread.c:4632</a></div></div>
<div class="ttc" id="thread_8c_html_a758673d0badb20d17196d42a4476404f"><div class="ttname"><a href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a></div><div class="ttdeci">VALUE rb_mutex_unlock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04465">thread.c:4465</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a525b8c10270f154409df1de59a2d39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_shield_wait </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04675">4675</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;{</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;    VALUE mutex = <a class="code" href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *m;</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;    <span class="keywordflow">if</span> (!mutex) <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;    <a class="code" href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a>(mutex, m);</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">th</a> == <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()) <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    <a class="code" href="thread_8c.html#a0b676a07b82076e552da1b668bfff731">rb_thread_shield_waiting_inc</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    <a class="code" href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a>(mutex);</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;    <a class="code" href="thread_8c.html#a822fefd42b8bc6fe3bbc619375461671">rb_thread_shield_waiting_dec</a>(<span class="keyword">self</span>);</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;    <span class="keywordflow">if</span> (DATA_PTR(<span class="keyword">self</span>)) <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;    <a class="code" href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a>(mutex);</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a>(<span class="keyword">self</span>) &gt; 0 ? Qnil : Qfalse;</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html_a323c570122a8a181664c64ab3621977e"><div class="ttname"><a href="structrb__mutex__struct.html#a323c570122a8a181664c64ab3621977e">rb_mutex_struct::th</a></div><div class="ttdeci">struct rb_thread_struct volatile * th</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00434">thread.c:434</a></div></div>
<div class="ttc" id="thread_8c_html_ae7600d013b8e1da0c365153e5c5ae008"><div class="ttname"><a href="thread_8c.html#ae7600d013b8e1da0c365153e5c5ae008">GetMutexPtr</a></div><div class="ttdeci">#define GetMutexPtr(obj, tobj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04144">thread.c:4144</a></div></div>
<div class="ttc" id="thread_8c_html_a822fefd42b8bc6fe3bbc619375461671"><div class="ttname"><a href="thread_8c.html#a822fefd42b8bc6fe3bbc619375461671">rb_thread_shield_waiting_dec</a></div><div class="ttdeci">static void rb_thread_shield_waiting_dec(VALUE b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04649">thread.c:4649</a></div></div>
<div class="ttc" id="thread_8c_html_a0b676a07b82076e552da1b668bfff731"><div class="ttname"><a href="thread_8c.html#a0b676a07b82076e552da1b668bfff731">rb_thread_shield_waiting_inc</a></div><div class="ttdeci">static void rb_thread_shield_waiting_inc(VALUE b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04638">thread.c:4638</a></div></div>
<div class="ttc" id="thread_8c_html_ab09a399c6570cd6696043c9c2abefc6b"><div class="ttname"><a href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a></div><div class="ttdeci">#define rb_thread_shield_waiting(b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04635">thread.c:4635</a></div></div>
<div class="ttc" id="thread_8c_html_a438ef98147d61d06f695678766b44e15"><div class="ttname"><a href="thread_8c.html#a438ef98147d61d06f695678766b44e15">GetThreadShieldPtr</a></div><div class="ttdeci">#define GetThreadShieldPtr(obj)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04632">thread.c:4632</a></div></div>
<div class="ttc" id="thread_8c_html_a758673d0badb20d17196d42a4476404f"><div class="ttname"><a href="thread_8c.html#a758673d0badb20d17196d42a4476404f">rb_mutex_unlock</a></div><div class="ttdeci">VALUE rb_mutex_unlock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04465">thread.c:4465</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="thread_8c_html_aa9a0d55ad652665002fc75d1668228f2"><div class="ttname"><a href="thread_8c.html#aa9a0d55ad652665002fc75d1668228f2">rb_mutex_lock</a></div><div class="ttdeci">VALUE rb_mutex_lock(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04335">thread.c:4335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a822fefd42b8bc6fe3bbc619375461671"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_thread_shield_waiting_dec </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04649">4649</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;{</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w = <a class="code" href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a>(b);</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    <span class="keywordflow">if</span> (!w) <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="error_8c.html#a95ad3953d535707e2cf2b1d837f5e253">rb_eRuntimeError</a>, <span class="stringliteral">&quot;waiting count underflow&quot;</span>);</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    w--;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    RBASIC(b)-&gt;flags &amp;= ~<a class="code" href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a>;</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;    RBASIC(b)-&gt;flags |= ((VALUE)w &lt;&lt; <a class="code" href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a>);</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="error_8c_html_a95ad3953d535707e2cf2b1d837f5e253"><div class="ttname"><a href="error_8c.html#a95ad3953d535707e2cf2b1d837f5e253">rb_eRuntimeError</a></div><div class="ttdeci">VALUE rb_eRuntimeError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00621">error.c:621</a></div></div>
<div class="ttc" id="thread_8c_html_a5d87b02ebe75489bb01a100610bdf6bb"><div class="ttname"><a href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a></div><div class="ttdeci">#define THREAD_SHIELD_WAITING_MASK</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04633">thread.c:4633</a></div></div>
<div class="ttc" id="thread_8c_html_ad83526d54633180cc5aec43f4380ffa6"><div class="ttname"><a href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a></div><div class="ttdeci">#define THREAD_SHIELD_WAITING_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04634">thread.c:4634</a></div></div>
<div class="ttc" id="thread_8c_html_ab09a399c6570cd6696043c9c2abefc6b"><div class="ttname"><a href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a></div><div class="ttdeci">#define rb_thread_shield_waiting(b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04635">thread.c:4635</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0b676a07b82076e552da1b668bfff731"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_thread_shield_waiting_inc </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04638">4638</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;{</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w = <a class="code" href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a>(b);</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;    w++;</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <span class="keywordflow">if</span> (w &gt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<a class="code" href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a>&gt;&gt;<a class="code" href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a>))</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="error_8c.html#a95ad3953d535707e2cf2b1d837f5e253">rb_eRuntimeError</a>, <span class="stringliteral">&quot;waiting count overflow&quot;</span>);</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    RBASIC(b)-&gt;flags &amp;= ~<a class="code" href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a>;</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    RBASIC(b)-&gt;flags |= ((VALUE)w &lt;&lt; <a class="code" href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a>);</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="error_8c_html_a95ad3953d535707e2cf2b1d837f5e253"><div class="ttname"><a href="error_8c.html#a95ad3953d535707e2cf2b1d837f5e253">rb_eRuntimeError</a></div><div class="ttdeci">VALUE rb_eRuntimeError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00621">error.c:621</a></div></div>
<div class="ttc" id="thread_8c_html_a5d87b02ebe75489bb01a100610bdf6bb"><div class="ttname"><a href="thread_8c.html#a5d87b02ebe75489bb01a100610bdf6bb">THREAD_SHIELD_WAITING_MASK</a></div><div class="ttdeci">#define THREAD_SHIELD_WAITING_MASK</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04633">thread.c:4633</a></div></div>
<div class="ttc" id="thread_8c_html_ad83526d54633180cc5aec43f4380ffa6"><div class="ttname"><a href="thread_8c.html#ad83526d54633180cc5aec43f4380ffa6">THREAD_SHIELD_WAITING_SHIFT</a></div><div class="ttdeci">#define THREAD_SHIELD_WAITING_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04634">thread.c:4634</a></div></div>
<div class="ttc" id="thread_8c_html_ab09a399c6570cd6696043c9c2abefc6b"><div class="ttname"><a href="thread_8c.html#ab09a399c6570cd6696043c9c2abefc6b">rb_thread_shield_waiting</a></div><div class="ttdeci">#define rb_thread_shield_waiting(b)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04635">thread.c:4635</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af88d170ac830f0f9ab0ddca35a157dfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_sleep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01198">1198</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;{</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="thread_8c.html#a63daa07c9361f6046d412e0989b27b1a">rb_thread_wait_for</a>(<a class="code" href="internal_8h.html#a79dce2bd716eb178ce22c4a5d754099d">rb_time_timeval</a>(INT2FIX(sec)));</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a63daa07c9361f6046d412e0989b27b1a"><div class="ttname"><a href="thread_8c.html#a63daa07c9361f6046d412e0989b27b1a">rb_thread_wait_for</a></div><div class="ttdeci">void rb_thread_wait_for(struct timeval time)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01159">thread.c:1159</a></div></div>
<div class="ttc" id="internal_8h_html_a79dce2bd716eb178ce22c4a5d754099d"><div class="ttname"><a href="internal_8h.html#a79dce2bd716eb178ce22c4a5d754099d">rb_time_timeval</a></div><div class="ttdeci">struct timeval rb_time_timeval(VALUE)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l02413">time.c:2413</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab181b3acc35b399709700c4e99814ba7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_sleep_deadly </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01128">1128</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;{</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_sleep_deadly\n&quot;</span>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(), 1, 1);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa735666902e716ce922f814e42f44f4f"><div class="ttname"><a href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a></div><div class="ttdeci">static void sleep_forever(rb_thread_t *th, int nodeadlock, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01038">thread.c:1038</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57a3a6b1a7a0c9dc8905611023297567"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_sleep_forever </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01121">1121</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;{</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_sleep_forever\n&quot;</span>);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a>(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(), 0, 1);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa735666902e716ce922f814e42f44f4f"><div class="ttname"><a href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a></div><div class="ttdeci">static void sleep_forever(rb_thread_t *th, int nodeadlock, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01038">thread.c:1038</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc63c8472d896681275d164a6504ef65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_start_timer_thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03856">3856</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;{</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <a class="code" href="thread_8c.html#aa871bbcb89aaa173181b8afa98846042">system_working</a> = 1;</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    rb_thread_create_timer_thread();</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa871bbcb89aaa173181b8afa98846042"><div class="ttname"><a href="thread_8c.html#aa871bbcb89aaa173181b8afa98846042">system_working</a></div><div class="ttdeci">static volatile int system_working</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00096">thread.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7238b21b202f3d054b4fe6d306329ef6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE <a class="el" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a> </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02629">2629</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;{</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a>(th)) {</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">if</span> (!NIL_P(th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a>) &amp;&amp; !FIXNUM_P(th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a>)</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        <span class="comment">/* TODO */</span> ) {</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    }</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    }</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordflow">return</span> rb_str_new2(<a class="code" href="thread_8c.html#afe0c73515070184a3c06cb695ac32863">thread_status_name</a>(th));</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a2878eaa26a014c90d668edd41960b78d"><div class="ttname"><a href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a></div><div class="ttdeci">static int rb_threadptr_dead(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02591">thread.c:2591</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_afe0c73515070184a3c06cb695ac32863"><div class="ttname"><a href="thread_8c.html#afe0c73515070184a3c06cb695ac32863">thread_status_name</a></div><div class="ttdeci">static const char * thread_status_name(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02572">thread.c:2572</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a173e2da61fa57c7044fd7874a8c7a924"><div class="ttname"><a href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">rb_thread_struct::errinfo</a></div><div class="ttdeci">VALUE errinfo</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00683">vm_core.h:683</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f6e14ae14061684bce66a2e886bcb03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02340">2340</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;{</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a>()) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>,</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;         <span class="stringliteral">&quot;stopping only thread\n\tnote: use sleep to stop forever&quot;</span>);</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    }</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <a class="code" href="thread_8c.html#ab181b3acc35b399709700c4e99814ba7">rb_thread_sleep_deadly</a>();</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_ac86131edba4a5a668958ce58b661d7ee"><div class="ttname"><a href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a></div><div class="ttdeci">int rb_thread_alone(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03047">thread.c:3047</a></div></div>
<div class="ttc" id="thread_8c_html_ab181b3acc35b399709700c4e99814ba7"><div class="ttname"><a href="thread_8c.html#ab181b3acc35b399709700c4e99814ba7">rb_thread_sleep_deadly</a></div><div class="ttdeci">void rb_thread_sleep_deadly(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01128">thread.c:1128</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96d91467b7e140be460c69c100825afa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_stop_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02685">2685</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;{</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a>(th))</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a> || th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>)</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a2878eaa26a014c90d668edd41960b78d"><div class="ttname"><a href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a></div><div class="ttdeci">static int rb_threadptr_dead(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02591">thread.c:2591</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee3187a245b600621afed826f8338f36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_stop_timer_thread </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>close_anyway</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03842">3842</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;{</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keywordflow">if</span> (TIMER_THREAD_CREATED_P() &amp;&amp; native_stop_timer_thread(close_anyway)) {</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    native_reset_timer_thread();</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    }</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e4269ed2cb019b35ffc45e1e69a335b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_terminate_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00463">463</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>(); <span class="comment">/* main thread */</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="structrb__vm__struct.html">rb_vm_t</a> *vm = th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (vm-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a> != th) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;rb_thread_terminate_all: called by child thread (%p, %p)&quot;</span>,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;           (<span class="keywordtype">void</span> *)vm-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">/* unlock all locking mutexes */</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="thread_8c.html#aa411c64669553c03fd84487a7b700d1c">rb_threadptr_unlock_all_locking_mutexes</a>(th);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  retry:</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_terminate_all (main thread: %p)\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="thread_8c.html#a075aa6a0ff9a0a725a95bd42b3988f64">terminate_all</a>(vm, th);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a>()) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordtype">int</span> state;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a>(th);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> ((state = <a class="code" href="eval__intern_8h.html#a1e3c38c4237a5fed7f2f3c67b31346f8">TH_EXEC_TAG</a>()) == 0) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">         * Thread exiting routine in thread_start_func_2 notify</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">         * me when the last sub-thread exit.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        native_sleep(th, 0);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a>();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">     * When caught an exception (e.g. Ctrl+C), let&#39;s broadcast</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">     * kill request again to ensure killing all threads even</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">     * if they are blocked on sleep, mutex, etc.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (state) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">goto</span> retry;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa411c64669553c03fd84487a7b700d1c"><div class="ttname"><a href="thread_8c.html#aa411c64669553c03fd84487a7b700d1c">rb_threadptr_unlock_all_locking_mutexes</a></div><div class="ttdeci">void rb_threadptr_unlock_all_locking_mutexes(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00446">thread.c:446</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="thread_8c_html_ac86131edba4a5a668958ce58b661d7ee"><div class="ttname"><a href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a></div><div class="ttdeci">int rb_thread_alone(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03047">thread.c:3047</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a1e3c38c4237a5fed7f2f3c67b31346f8"><div class="ttname"><a href="eval__intern_8h.html#a1e3c38c4237a5fed7f2f3c67b31346f8">TH_EXEC_TAG</a></div><div class="ttdeci">#define TH_EXEC_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00169">eval_intern.h:169</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4d06135dea1a72a3ab73b20cc1a9fc55"><div class="ttname"><a href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a></div><div class="ttdeci">#define TH_POP_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00128">eval_intern.h:128</a></div></div>
<div class="ttc" id="thread_8c_html_a075aa6a0ff9a0a725a95bd42b3988f64"><div class="ttname"><a href="thread_8c.html#a075aa6a0ff9a0a725a95bd42b3988f64">terminate_all</a></div><div class="ttdeci">static void terminate_all(rb_vm_t *vm, const rb_thread_t *main_thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00414">thread.c:414</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4410e4208d7ae0de8dae7c5b61f9d55c"><div class="ttname"><a href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a></div><div class="ttdeci">#define TH_PUSH_TAG(th)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00122">eval_intern.h:122</a></div></div>
<div class="ttc" id="structrb__vm__struct_html"><div class="ttname"><a href="structrb__vm__struct.html">rb_vm_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00415">vm_core.h:415</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a33d3fadd815f4d7930df7cc07ca1c0f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_variable_get </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02973">2973</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;{</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    VALUE locals;</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    locals = <a class="code" href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a>(thread, <a class="code" href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a>);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a>(locals, <a class="code" href="string_8c.html#ac855c3ad0cccca8a3abe0d63b3b0ae7a">rb_to_symbol</a>(<a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>));</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;}</div>
<div class="ttc" id="variable_8c_html_a99bcdfbbe14f393cc81763712ddfba10"><div class="ttname"><a href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a></div><div class="ttdeci">VALUE rb_ivar_get(VALUE obj, ID id)</div><div class="ttdef"><b>Definition:</b> <a href="variable_8c_source.html#l01261">variable.c:1261</a></div></div>
<div class="ttc" id="thread_8c_html_a8bf6f73d9127baf62c1da6b3a2b1070c"><div class="ttname"><a href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a></div><div class="ttdeci">static ID id_locals</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00084">thread.c:84</a></div></div>
<div class="ttc" id="hash_8c_html_ab7063832c7ed02351e87922a78e35c32"><div class="ttname"><a href="hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a></div><div class="ttdeci">VALUE rb_hash_aref(VALUE hash, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00751">hash.c:751</a></div></div>
<div class="ttc" id="string_8c_html_ac855c3ad0cccca8a3abe0d63b3b0ae7a"><div class="ttname"><a href="string_8c.html#ac855c3ad0cccca8a3abe0d63b3b0ae7a">rb_to_symbol</a></div><div class="ttdeci">VALUE rb_to_symbol(VALUE name)</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l09070">string.c:9070</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abb54c9af9269cdc1c8a29978e7926b27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_variable_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03138">3138</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;{</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    VALUE locals;</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    ID <span class="keywordtype">id</span> = <a class="code" href="symbol_8c.html#a7f07f939a6b20e1d8e20abda0dbdc96f">rb_check_id</a>(&amp;<a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>);</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>) <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    locals = <a class="code" href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a>(thread, <a class="code" href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a>);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="internal_8h.html#ac519648e8a9b1f40f4ae6d6e3ee2c467">RHASH</a>(locals)-&gt;ntbl)</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;        <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="st_8c.html#af526fb7d918a9a5ceadadc087e79aa1c">st_lookup</a>(<a class="code" href="internal_8h.html#ac519648e8a9b1f40f4ae6d6e3ee2c467">RHASH</a>(locals)-&gt;ntbl, ID2SYM(<span class="keywordtype">id</span>), 0)) {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    }</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;}</div>
<div class="ttc" id="symbol_8c_html_a7f07f939a6b20e1d8e20abda0dbdc96f"><div class="ttname"><a href="symbol_8c.html#a7f07f939a6b20e1d8e20abda0dbdc96f">rb_check_id</a></div><div class="ttdeci">ID rb_check_id(volatile VALUE *namep)</div><div class="ttdef"><b>Definition:</b> <a href="symbol_8c_source.html#l00946">symbol.c:946</a></div></div>
<div class="ttc" id="variable_8c_html_a99bcdfbbe14f393cc81763712ddfba10"><div class="ttname"><a href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a></div><div class="ttdeci">VALUE rb_ivar_get(VALUE obj, ID id)</div><div class="ttdef"><b>Definition:</b> <a href="variable_8c_source.html#l01261">variable.c:1261</a></div></div>
<div class="ttc" id="internal_8h_html_ac519648e8a9b1f40f4ae6d6e3ee2c467"><div class="ttname"><a href="internal_8h.html#ac519648e8a9b1f40f4ae6d6e3ee2c467">RHASH</a></div><div class="ttdeci">#define RHASH(obj)</div><div class="ttdef"><b>Definition:</b> <a href="internal_8h_source.html#l00414">internal.h:414</a></div></div>
<div class="ttc" id="thread_8c_html_a8bf6f73d9127baf62c1da6b3a2b1070c"><div class="ttname"><a href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a></div><div class="ttdeci">static ID id_locals</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00084">thread.c:84</a></div></div>
<div class="ttc" id="st_8c_html_af526fb7d918a9a5ceadadc087e79aa1c"><div class="ttname"><a href="st_8c.html#af526fb7d918a9a5ceadadc087e79aa1c">st_lookup</a></div><div class="ttdeci">int st_lookup(st_table *table, register st_data_t key, st_data_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l00383">st.c:383</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4b1c4ab106bf855946d6aaf2e3c51b3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_variable_set </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02991">2991</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;{</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    VALUE locals;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    <span class="keywordflow">if</span> (OBJ_FROZEN(thread)) {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <a class="code" href="error_8c.html#a43f95a8ece1ff4fb9aaf61a26fb4f345">rb_error_frozen</a>(<span class="stringliteral">&quot;thread locals&quot;</span>);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    }</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    locals = <a class="code" href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a>(thread, <a class="code" href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a>);</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(locals, <a class="code" href="string_8c.html#ac855c3ad0cccca8a3abe0d63b3b0ae7a">rb_to_symbol</a>(<span class="keywordtype">id</span>), <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>);</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a43f95a8ece1ff4fb9aaf61a26fb4f345"><div class="ttname"><a href="error_8c.html#a43f95a8ece1ff4fb9aaf61a26fb4f345">rb_error_frozen</a></div><div class="ttdeci">void rb_error_frozen(const char *what)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l02172">error.c:2172</a></div></div>
<div class="ttc" id="variable_8c_html_a99bcdfbbe14f393cc81763712ddfba10"><div class="ttname"><a href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a></div><div class="ttdeci">VALUE rb_ivar_get(VALUE obj, ID id)</div><div class="ttdef"><b>Definition:</b> <a href="variable_8c_source.html#l01261">variable.c:1261</a></div></div>
<div class="ttc" id="hash_8c_html_ac477edf136d86a33bc06d1fbea67bb9a"><div class="ttname"><a href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a></div><div class="ttdeci">VALUE rb_hash_aset(VALUE hash, VALUE key, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l01485">hash.c:1485</a></div></div>
<div class="ttc" id="thread_8c_html_a8bf6f73d9127baf62c1da6b3a2b1070c"><div class="ttname"><a href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a></div><div class="ttdeci">static ID id_locals</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00084">thread.c:84</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="string_8c_html_ac855c3ad0cccca8a3abe0d63b3b0ae7a"><div class="ttname"><a href="string_8c.html#ac855c3ad0cccca8a3abe0d63b3b0ae7a">rb_to_symbol</a></div><div class="ttdeci">VALUE rb_to_symbol(VALUE name)</div><div class="ttdef"><b>Definition:</b> <a href="string_8c_source.html#l09070">string.c:9070</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc1b69af35ae664d0b59f052a9e96797"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_thread_variables </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03109">3109</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;{</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    VALUE locals;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    VALUE ary;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    locals = <a class="code" href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a>(thread, <a class="code" href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a>);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    ary = <a class="code" href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a>();</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <a class="code" href="hash_8c.html#acc47d862ca823ed29cfd7e64300e38f9">rb_hash_foreach</a>(locals, <a class="code" href="thread_8c.html#a8bcfb798b72f66917ed1a1d43f9778eb">keys_i</a>, ary);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordflow">return</span> ary;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;}</div>
<div class="ttc" id="variable_8c_html_a99bcdfbbe14f393cc81763712ddfba10"><div class="ttname"><a href="variable_8c.html#a99bcdfbbe14f393cc81763712ddfba10">rb_ivar_get</a></div><div class="ttdeci">VALUE rb_ivar_get(VALUE obj, ID id)</div><div class="ttdef"><b>Definition:</b> <a href="variable_8c_source.html#l01261">variable.c:1261</a></div></div>
<div class="ttc" id="hash_8c_html_acc47d862ca823ed29cfd7e64300e38f9"><div class="ttname"><a href="hash_8c.html#acc47d862ca823ed29cfd7e64300e38f9">rb_hash_foreach</a></div><div class="ttdeci">void rb_hash_foreach(VALUE hash, int(*func)(ANYARGS), VALUE farg)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00317">hash.c:317</a></div></div>
<div class="ttc" id="thread_8c_html_a8bf6f73d9127baf62c1da6b3a2b1070c"><div class="ttname"><a href="thread_8c.html#a8bf6f73d9127baf62c1da6b3a2b1070c">id_locals</a></div><div class="ttdeci">static ID id_locals</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00084">thread.c:84</a></div></div>
<div class="ttc" id="array_8c_html_a9518114fd36cb4ef4656ec1dc63348c9"><div class="ttname"><a href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a></div><div class="ttdeci">VALUE rb_ary_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00498">array.c:498</a></div></div>
<div class="ttc" id="thread_8c_html_a8bcfb798b72f66917ed1a1d43f9778eb"><div class="ttname"><a href="thread_8c.html#a8bcfb798b72f66917ed1a1d43f9778eb">keys_i</a></div><div class="ttdeci">static int keys_i(VALUE key, VALUE value, VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03085">thread.c:3085</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71711b7cfb6eb7bb5d1ed4e1e387d333"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_wait_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03549">3549</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;{</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <a class="code" href="thread_8c.html#a0c1ffb1e8922c3c158ec0b96049735f4">rb_thread_wait_fd_rw</a>(fd, 1);</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a0c1ffb1e8922c3c158ec0b96049735f4"><div class="ttname"><a href="thread_8c.html#a0c1ffb1e8922c3c158ec0b96049735f4">rb_thread_wait_fd_rw</a></div><div class="ttdeci">static void rb_thread_wait_fd_rw(int fd, int read)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03529">thread.c:3529</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c1ffb1e8922c3c158ec0b96049735f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_thread_wait_fd_rw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03529">3529</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;{</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="keywordtype">int</span> result = 0;</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="keywordtype">int</span> events = read ? RB_WAITFD_IN : RB_WAITFD_OUT;</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_wait_fd_rw(%d, %s)\n&quot;</span>, fd, read ? <span class="stringliteral">&quot;read&quot;</span> : <span class="stringliteral">&quot;write&quot;</span>);</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="keywordflow">if</span> (fd &lt; 0) {</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="io_8c.html#a3a88df7a1fc75148ff72cfa4742e9b01">rb_eIOError</a>, <span class="stringliteral">&quot;closed stream&quot;</span>);</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    }</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    result = <a class="code" href="thread_8c.html#a5d928dd718bfee4b74deb87c1e82efd6">rb_wait_for_single_fd</a>(fd, events, <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <a class="code" href="error_8c.html#aec0502b6d84cff19bb2071d1386ff177">rb_sys_fail</a>(0);</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    }</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_wait_fd_rw(%d, %s): done\n&quot;</span>, fd, read ? <span class="stringliteral">&quot;read&quot;</span> : <span class="stringliteral">&quot;write&quot;</span>);</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="thread_8c_html_a5d928dd718bfee4b74deb87c1e82efd6"><div class="ttname"><a href="thread_8c.html#a5d928dd718bfee4b74deb87c1e82efd6">rb_wait_for_single_fd</a></div><div class="ttdeci">int rb_wait_for_single_fd(int fd, int events, struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03761">thread.c:3761</a></div></div>
<div class="ttc" id="error_8c_html_aec0502b6d84cff19bb2071d1386ff177"><div class="ttname"><a href="error_8c.html#aec0502b6d84cff19bb2071d1386ff177">rb_sys_fail</a></div><div class="ttdeci">void rb_sys_fail(const char *mesg)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l02051">error.c:2051</a></div></div>
<div class="ttc" id="io_8c_html_a3a88df7a1fc75148ff72cfa4742e9b01"><div class="ttname"><a href="io_8c.html#a3a88df7a1fc75148ff72cfa4742e9b01">rb_eIOError</a></div><div class="ttdeci">VALUE rb_eIOError</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00152">io.c:152</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63daa07c9361f6046d412e0989b27b1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_thread_wait_for </td>
          <td>(</td>
          <td class="paramtype">struct timeval&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01159">1159</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;{</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a>(th, time, 1);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_ace81f760b6dab58be3f86cefd6e0f5fd"><div class="ttname"><a href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a></div><div class="ttdeci">static void sleep_timeval(rb_thread_t *th, struct timeval time, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01079">thread.c:1079</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1e05608c1815e8b03e5147325a14bab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_wakeup </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02270">2270</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;{</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="keywordflow">if</span> (!RTEST(<a class="code" href="thread_8c.html#af55418bce2e12c024aadbd80abe5329d">rb_thread_wakeup_alive</a>(thread))) {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;killed thread&quot;</span>);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    }</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordflow">return</span> thread;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_af55418bce2e12c024aadbd80abe5329d"><div class="ttname"><a href="thread_8c.html#af55418bce2e12c024aadbd80abe5329d">rb_thread_wakeup_alive</a></div><div class="ttdeci">VALUE rb_thread_wakeup_alive(VALUE thread)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02279">thread.c:2279</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af55418bce2e12c024aadbd80abe5329d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_thread_wakeup_alive </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02279">2279</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;{</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>) {</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    }</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <a class="code" href="thread_8c.html#a952c3555401953d926b55121ec0d3174">rb_threadptr_ready</a>(th);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a> || th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>)</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <span class="keywordflow">return</span> thread;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="thread_8c_html_a952c3555401953d926b55121ec0d3174"><div class="ttname"><a href="thread_8c.html#a952c3555401953d926b55121ec0d3174">rb_threadptr_ready</a></div><div class="ttdeci">static void rb_threadptr_ready(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02037">thread.c:2037</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00573">vm_core.h:573</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ef1042de9adc6b17f182fe1d0466342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_check_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>mth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03801">3801</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;{</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    <span class="comment">/* mth must be main_thread */</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="signal_8c.html#ae736d06fff1f8b7b00cf0d25dfff369a">rb_signal_buff_size</a>() &gt; 0) {</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    <span class="comment">/* wakeup main thread */</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <a class="code" href="thread_8c.html#a9f32028242ef7ed0f4b3a8f5c9c40d0d">rb_threadptr_trap_interrupt</a>(mth);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    }</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;}</div>
<div class="ttc" id="signal_8c_html_ae736d06fff1f8b7b00cf0d25dfff369a"><div class="ttname"><a href="signal_8c.html#ae736d06fff1f8b7b00cf0d25dfff369a">rb_signal_buff_size</a></div><div class="ttdeci">int rb_signal_buff_size(void)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00707">signal.c:707</a></div></div>
<div class="ttc" id="thread_8c_html_a9f32028242ef7ed0f4b3a8f5c9c40d0d"><div class="ttname"><a href="thread_8c.html#a9f32028242ef7ed0f4b3a8f5c9c40d0d">rb_threadptr_trap_interrupt</a></div><div class="ttdeci">void rb_threadptr_trap_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00408">thread.c:408</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2878eaa26a014c90d668edd41960b78d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rb_threadptr_dead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02591">2591</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;{</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <span class="keywordflow">return</span> th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e10a6b9b984e686cc8727a3fa942b10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_execute_interrupts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocking_timing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01956">1956</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;{</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <a class="code" href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a> interrupt;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordtype">int</span> postponed_job_interrupt = 0;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">raised_flag</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">while</span> ((interrupt = <a class="code" href="thread_8c.html#abe35d4aeb75e5be28bc0981b69831cd4">threadptr_get_interrupts</a>(th)) != 0) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <span class="keywordtype">int</span> sig;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordtype">int</span> timer_interrupt;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordtype">int</span> pending_interrupt;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordtype">int</span> trap_interrupt;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    timer_interrupt = interrupt &amp; <a class="code" href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a5032664ed2c473f7b08178328f6ebe89">TIMER_INTERRUPT_MASK</a>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    pending_interrupt = interrupt &amp; <a class="code" href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62ab6e9539f8398b8499ea9e52b3ed0348f">PENDING_INTERRUPT_MASK</a>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    postponed_job_interrupt = interrupt &amp; <a class="code" href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a054aa3a18d19470ed475a21aa783769e">POSTPONED_JOB_INTERRUPT_MASK</a>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    trap_interrupt = interrupt &amp; <a class="code" href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a39ce4910a6eef28b3426480d5d00af9a">TRAP_INTERRUPT_MASK</a>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (postponed_job_interrupt) {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <a class="code" href="vm__core_8h.html#af6d033e895c65614713e0868bf1201de">rb_postponed_job_flush</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="comment">/* signal handling */</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">if</span> (trap_interrupt &amp;&amp; (th == th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>)) {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="keyword">enum</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a> <a class="code" href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">prev_status</a> = th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <span class="keywordflow">while</span> ((sig = <a class="code" href="internal_8h.html#abf774abea7f17ac1251bc28064649274">rb_get_next_signal</a>()) != 0) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        <a class="code" href="signal_8c.html#a2f947d2a4f2b5d4f721e408c533310c9">rb_signal_exec</a>(th, sig);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">prev_status</a>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    }</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="comment">/* exception from another thread */</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span> (pending_interrupt &amp;&amp; <a class="code" href="thread_8c.html#af5a2d7e0fd751c74ff0f250c83b58f47">rb_threadptr_pending_interrupt_active_p</a>(th)) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        VALUE err = <a class="code" href="thread_8c.html#ac25c780d9fdb6dab0dd8dda84c7e85e1">rb_threadptr_pending_interrupt_deque</a>(th, blocking_timing ? <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a> : <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a>);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;rb_thread_execute_interrupts: %&quot;</span>PRIdVALUE<span class="stringliteral">&quot;\n&quot;</span>, err);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="keywordflow">if</span> (err == Qundef) {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="comment">/* no error */</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        }</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="thread_8c.html#a91ff2a2664cca7f055bc4a87b26e9f67">eKillSignal</a>        <span class="comment">/* Thread#kill received */</span>   ||</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;             err == <a class="code" href="thread_8c.html#aa421d36639c3bd7cd695aad0452e66d5">eTerminateSignal</a>   <span class="comment">/* Terminate thread */</span>       ||</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;             err == INT2FIX(<a class="code" href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a>) <span class="comment">/* Thread.exit etc. */</span>         ) {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <a class="code" href="thread_8c.html#a507b90792155ba1f807575b9873820cb">rb_threadptr_to_kill</a>(th);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        }</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="comment">/* set runnable if th was slept. */</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a> ||</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>)</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <a class="code" href="eval_8c.html#a237939d28c83950b84fb6a45ccca53a0">rb_exc_raise</a>(err);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        }</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <span class="keywordflow">if</span> (timer_interrupt) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> limits_us = TIME_QUANTUM_USEC;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a> &gt; 0)</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        limits_us &lt;&lt;= th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        limits_us &gt;&gt;= -th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>)</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#ada7923750df23f56b0d7164d715af3fb">running_time_us</a> += TIME_QUANTUM_USEC;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <a class="code" href="vm__core_8h.html#aaf6f79a9848eb27bfb82ac0d3ea8e0d9">EXEC_EVENT_HOOK</a>(th, RUBY_INTERNAL_EVENT_SWITCH, th-&gt;<a class="code" href="structrb__thread__struct.html#a2ed7f694d58d876aa6f0fae6986bc921">cfp</a>-&gt;<a class="code" href="structrb__control__frame__struct.html#aba6bb1166e207f96d81c4fcac16b3119">self</a>, 0, 0, Qundef);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        <a class="code" href="thread_8c.html#aee380488cdc9cbd83605d3bcf316b98f">rb_thread_schedule_limits</a>(limits_us);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a2ed7f694d58d876aa6f0fae6986bc921"><div class="ttname"><a href="structrb__thread__struct.html#a2ed7f694d58d876aa6f0fae6986bc921">rb_thread_struct::cfp</a></div><div class="ttdeci">rb_control_frame_t * cfp</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00638">vm_core.h:638</a></div></div>
<div class="ttc" id="thread_8c_html_a91ff2a2664cca7f055bc4a87b26e9f67"><div class="ttname"><a href="thread_8c.html#a91ff2a2664cca7f055bc4a87b26e9f67">eKillSignal</a></div><div class="ttdeci">#define eKillSignal</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00094">thread.c:94</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ada7923750df23f56b0d7164d715af3fb"><div class="ttname"><a href="structrb__thread__struct.html#ada7923750df23f56b0d7164d715af3fb">rb_thread_struct::running_time_us</a></div><div class="ttdeci">unsigned long running_time_us</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00765">vm_core.h:765</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="vm__core_8h_html_af6d033e895c65614713e0868bf1201de"><div class="ttname"><a href="vm__core_8h.html#af6d033e895c65614713e0868bf1201de">rb_postponed_job_flush</a></div><div class="ttdeci">void rb_postponed_job_flush(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="vm__trace_8c_source.html#l01588">vm_trace.c:1588</a></div></div>
<div class="ttc" id="signal_8c_html_a2f947d2a4f2b5d4f721e408c533310c9"><div class="ttname"><a href="signal_8c.html#a2f947d2a4f2b5d4f721e408c533310c9">rb_signal_exec</a></div><div class="ttdeci">void rb_signal_exec(rb_thread_t *th, int sig)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00984">signal.c:984</a></div></div>
<div class="ttc" id="vm__core_8h_html_a8628933cde20921c453a6d2607bdad62ab6e9539f8398b8499ea9e52b3ed0348f"><div class="ttname"><a href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62ab6e9539f8398b8499ea9e52b3ed0348f">PENDING_INTERRUPT_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01102">vm_core.h:1102</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a7490e601d6a9d97a79d4d895ad73c93a"><div class="ttname"><a href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a></div><div class="ttdeci">#define TAG_FATAL</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00199">eval_intern.h:199</a></div></div>
<div class="ttc" id="thread_8c_html_abe35d4aeb75e5be28bc0981b69831cd4"><div class="ttname"><a href="thread_8c.html#abe35d4aeb75e5be28bc0981b69831cd4">threadptr_get_interrupts</a></div><div class="ttdeci">static rb_atomic_t threadptr_get_interrupts(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01943">thread.c:1943</a></div></div>
<div class="ttc" id="eval_8c_html_a237939d28c83950b84fb6a45ccca53a0"><div class="ttname"><a href="eval_8c.html#a237939d28c83950b84fb6a45ccca53a0">rb_exc_raise</a></div><div class="ttdeci">void rb_exc_raise(VALUE mesg)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00598">eval.c:598</a></div></div>
<div class="ttc" id="thread_8c_html_aee380488cdc9cbd83605d3bcf316b98f"><div class="ttname"><a href="thread_8c.html#aee380488cdc9cbd83605d3bcf316b98f">rb_thread_schedule_limits</a></div><div class="ttdeci">static void rb_thread_schedule_limits(unsigned long limits_us)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01204">thread.c:1204</a></div></div>
<div class="ttc" id="structrb__control__frame__struct_html_aba6bb1166e207f96d81c4fcac16b3119"><div class="ttname"><a href="structrb__control__frame__struct.html#aba6bb1166e207f96d81c4fcac16b3119">rb_control_frame_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00543">vm_core.h:543</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01554">thread.c:1554</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a></div><div class="ttdeci">rb_thread_status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00572">vm_core.h:572</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01556">thread.c:1556</a></div></div>
<div class="ttc" id="internal_8h_html_abf774abea7f17ac1251bc28064649274"><div class="ttname"><a href="internal_8h.html#abf774abea7f17ac1251bc28064649274">rb_get_next_signal</a></div><div class="ttdeci">int rb_get_next_signal(void)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00737">signal.c:737</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="vm__core_8h_html_a8628933cde20921c453a6d2607bdad62a39ce4910a6eef28b3426480d5d00af9a"><div class="ttname"><a href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a39ce4910a6eef28b3426480d5d00af9a">TRAP_INTERRUPT_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01104">vm_core.h:1104</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aec8d3fa76bacce31680b55dd03eac0e9"><div class="ttname"><a href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">rb_thread_struct::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00674">vm_core.h:674</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a0783e8b1c2dcd0b9b7a82d68e975eff3"><div class="ttname"><a href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">rb_thread_struct::raised_flag</a></div><div class="ttdeci">int raised_flag</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00640">vm_core.h:640</a></div></div>
<div class="ttc" id="vm__core_8h_html_a8628933cde20921c453a6d2607bdad62a054aa3a18d19470ed475a21aa783769e"><div class="ttname"><a href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a054aa3a18d19470ed475a21aa783769e">POSTPONED_JOB_INTERRUPT_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01103">vm_core.h:1103</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__blocking__region__buffer_html_a7369d7c89e8156f9a8044c42b803e440"><div class="ttname"><a href="structrb__blocking__region__buffer.html#a7369d7c89e8156f9a8044c42b803e440">rb_blocking_region_buffer::prev_status</a></div><div class="ttdeci">enum rb_thread_status prev_status</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00111">thread.c:111</a></div></div>
<div class="ttc" id="thread_8c_html_a507b90792155ba1f807575b9873820cb"><div class="ttname"><a href="thread_8c.html#a507b90792155ba1f807575b9873820cb">rb_threadptr_to_kill</a></div><div class="ttdeci">static void rb_threadptr_to_kill(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01933">thread.c:1933</a></div></div>
<div class="ttc" id="thread_8c_html_ac25c780d9fdb6dab0dd8dda84c7e85e1"><div class="ttname"><a href="thread_8c.html#ac25c780d9fdb6dab0dd8dda84c7e85e1">rb_threadptr_pending_interrupt_deque</a></div><div class="ttdeci">static VALUE rb_threadptr_pending_interrupt_deque(rb_thread_t *th, enum handle_interrupt_timing timing)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01619">thread.c:1619</a></div></div>
<div class="ttc" id="ruby__atomic_8h_html_a872a86eed7f070b0ea35b7494fbd9b73"><div class="ttname"><a href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a></div><div class="ttdeci">int rb_atomic_t</div><div class="ttdef"><b>Definition:</b> <a href="ruby__atomic_8h_source.html#l00120">ruby_atomic.h:120</a></div></div>
<div class="ttc" id="vm__core_8h_html_aaf6f79a9848eb27bfb82ac0d3ea8e0d9"><div class="ttname"><a href="vm__core_8h.html#aaf6f79a9848eb27bfb82ac0d3ea8e0d9">EXEC_EVENT_HOOK</a></div><div class="ttdeci">#define EXEC_EVENT_HOOK(th_, flag_, self_, id_, klass_, data_)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01182">vm_core.h:1182</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00573">vm_core.h:573</a></div></div>
<div class="ttc" id="thread_8c_html_af5a2d7e0fd751c74ff0f250c83b58f47"><div class="ttname"><a href="thread_8c.html#af5a2d7e0fd751c74ff0f250c83b58f47">rb_threadptr_pending_interrupt_active_p</a></div><div class="ttdeci">int rb_threadptr_pending_interrupt_active_p(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01656">thread.c:1656</a></div></div>
<div class="ttc" id="vm__core_8h_html_a8628933cde20921c453a6d2607bdad62a5032664ed2c473f7b08178328f6ebe89"><div class="ttname"><a href="vm__core_8h.html#a8628933cde20921c453a6d2607bdad62a5032664ed2c473f7b08178328f6ebe89">TIMER_INTERRUPT_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01101">vm_core.h:1101</a></div></div>
<div class="ttc" id="thread_8c_html_aa421d36639c3bd7cd695aad0452e66d5"><div class="ttname"><a href="thread_8c.html#aa421d36639c3bd7cd695aad0452e66d5">eTerminateSignal</a></div><div class="ttdeci">#define eTerminateSignal</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00095">thread.c:95</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac46256e91e4796220065f97cd0842a10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00402">402</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="thread_8c.html#a5047a65dabfb9dafbbd03fbd8d97ef05">rb_threadptr_interrupt_common</a>(th, 0);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a5047a65dabfb9dafbbd03fbd8d97ef05"><div class="ttname"><a href="thread_8c.html#a5047a65dabfb9dafbbd03fbd8d97ef05">rb_threadptr_interrupt_common</a></div><div class="ttdeci">static void rb_threadptr_interrupt_common(rb_thread_t *th, int trap)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00384">thread.c:384</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5047a65dabfb9dafbbd03fbd8d97ef05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_threadptr_interrupt_common </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00384">384</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    native_mutex_lock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="signal_8c.html#a13521baf18d8e67cc3e0b7b7a1beacdb">trap</a>)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="vm__core_8h.html#a9fb7475bee85e7c0d63ebb3ccca483ab">RUBY_VM_SET_TRAP_INTERRUPT</a>(th);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="vm__core_8h.html#ab555b1a4987c4b9085e703c3d7ac6470">RUBY_VM_SET_INTERRUPT</a>(th);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>.<a class="code" href="structrb__unblock__callback.html#af641aca3c5c45670cdad373846a79dd2">func</a>) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    (th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>.<a class="code" href="structrb__unblock__callback.html#af641aca3c5c45670cdad373846a79dd2">func</a>)(th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>.<a class="code" href="structrb__unblock__callback.html#a11d7995ba5947f27f071cfda0f48c593">arg</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">/* none */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    native_cond_signal(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">interrupt_cond</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    native_mutex_unlock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_ab555b1a4987c4b9085e703c3d7ac6470"><div class="ttname"><a href="vm__core_8h.html#ab555b1a4987c4b9085e703c3d7ac6470">RUBY_VM_SET_INTERRUPT</a></div><div class="ttdeci">#define RUBY_VM_SET_INTERRUPT(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01108">vm_core.h:1108</a></div></div>
<div class="ttc" id="structrb__unblock__callback_html_af641aca3c5c45670cdad373846a79dd2"><div class="ttname"><a href="structrb__unblock__callback.html#af641aca3c5c45670cdad373846a79dd2">rb_unblock_callback::func</a></div><div class="ttdeci">rb_unblock_function_t * func</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00602">vm_core.h:602</a></div></div>
<div class="ttc" id="vm__core_8h_html_a9fb7475bee85e7c0d63ebb3ccca483ab"><div class="ttname"><a href="vm__core_8h.html#a9fb7475bee85e7c0d63ebb3ccca483ab">RUBY_VM_SET_TRAP_INTERRUPT</a></div><div class="ttdeci">#define RUBY_VM_SET_TRAP_INTERRUPT(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01110">vm_core.h:1110</a></div></div>
<div class="ttc" id="signal_8c_html_a13521baf18d8e67cc3e0b7b7a1beacdb"><div class="ttname"><a href="signal_8c.html#a13521baf18d8e67cc3e0b7b7a1beacdb">trap</a></div><div class="ttdeci">static VALUE trap(int sig, ruby_sighandler_t func, VALUE command)</div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l01175">signal.c:1175</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ad04e9258ee723608388a8aa2009b2f65"><div class="ttname"><a href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">rb_thread_struct::interrupt_cond</a></div><div class="ttdeci">rb_nativethread_cond_t interrupt_cond</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00698">vm_core.h:698</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a1e8ee4d75d7d514449cf70ce7beca57e"><div class="ttname"><a href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">rb_thread_struct::unblock</a></div><div class="ttdeci">struct rb_unblock_callback unblock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00699">vm_core.h:699</a></div></div>
<div class="ttc" id="structrb__unblock__callback_html_a11d7995ba5947f27f071cfda0f48c593"><div class="ttname"><a href="structrb__unblock__callback.html#a11d7995ba5947f27f071cfda0f48c593">rb_unblock_callback::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00603">vm_core.h:603</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5a2d7e0fd751c74ff0f250c83b58f47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_threadptr_pending_interrupt_active_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01656">1656</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;{</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">     * For optimization, we don&#39;t check async errinfo queue</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">     * if the queue and the thread interrupt mask were not changed</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">     * since last check.</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a>) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a>(th)) {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a33cad2d14cf2e5e9e96385eafc14d2fe"><div class="ttname"><a href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">rb_thread_struct::pending_interrupt_queue_checked</a></div><div class="ttdeci">int pending_interrupt_queue_checked</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00693">vm_core.h:693</a></div></div>
<div class="ttc" id="thread_8c_html_ae16cd5b995f9c31f2063ad3d82f1e365"><div class="ttname"><a href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a></div><div class="ttdeci">static int rb_threadptr_pending_interrupt_empty_p(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01600">thread.c:1600</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70442253ce8052fd660bf11abbb51e8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a> rb_threadptr_pending_interrupt_check_mask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01561">1561</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;{</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    VALUE mask;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordtype">long</span> mask_stack_len = RARRAY_LEN(th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keyword">const</span> VALUE *mask_stack = RARRAY_CONST_PTR(th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    VALUE ancestors = <a class="code" href="group__class.html#gaae912ecff5a981a9052f2d001a22cc00">rb_mod_ancestors</a>(err); <span class="comment">/* TODO: GC guard */</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordtype">long</span> ancestors_len = RARRAY_LEN(ancestors);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keyword">const</span> VALUE *ancestors_ptr = RARRAY_CONST_PTR(ancestors);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;mask_stack_len; i++) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    mask = mask_stack[mask_stack_len-(i+1)];</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">for</span> (j=0; j&lt;ancestors_len; j++) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        VALUE klass = ancestors_ptr[j];</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        VALUE sym;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="comment">/* TODO: remove rb_intern() */</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="keywordflow">if</span> ((sym = <a class="code" href="hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a>(mask, klass)) != Qnil) {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="keywordflow">if</span> (sym == <a class="code" href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a>) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a>;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sym == <a class="code" href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a>) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a>;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sym == <a class="code" href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a>) {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a>;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;unknown mask signature&quot;</span>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">/* try to next mask */</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a15a374436fd3291ea7843f31fe0effcb"><div class="ttname"><a href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a></div><div class="ttdeci">static VALUE sym_never</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00083">thread.c:83</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a979a16137dbb149acf7a8fd194946a24"><div class="ttname"><a href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">rb_thread_struct::pending_interrupt_mask_stack</a></div><div class="ttdeci">VALUE pending_interrupt_mask_stack</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00692">vm_core.h:692</a></div></div>
<div class="ttc" id="group__class_html_gaae912ecff5a981a9052f2d001a22cc00"><div class="ttname"><a href="group__class.html#gaae912ecff5a981a9052f2d001a22cc00">rb_mod_ancestors</a></div><div class="ttdeci">VALUE rb_mod_ancestors(VALUE mod)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l01052">class.c:1052</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_a974db2b683aa5dcc790fa7d247d8a880"><div class="ttname"><a href="thread_8c.html#a974db2b683aa5dcc790fa7d247d8a880">sym_immediate</a></div><div class="ttdeci">static VALUE sym_immediate</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00081">thread.c:81</a></div></div>
<div class="ttc" id="thread_8c_html_a7dd1a7585d2672c679f6d25fdf279a84"><div class="ttname"><a href="thread_8c.html#a7dd1a7585d2672c679f6d25fdf279a84">sym_on_blocking</a></div><div class="ttdeci">static VALUE sym_on_blocking</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00082">thread.c:82</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01554">thread.c:1554</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01556">thread.c:1556</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01557">thread.c:1557</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01555">thread.c:1555</a></div></div>
<div class="ttc" id="hash_8c_html_ab7063832c7ed02351e87922a78e35c32"><div class="ttname"><a href="hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a></div><div class="ttdeci">VALUE rb_hash_aref(VALUE hash, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00751">hash.c:751</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6720e15931dccf9492320a7798aeba8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_pending_interrupt_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01541">1541</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;{</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <a class="code" href="array_8c.html#aaf8c74d0eef61073fadf2c631fa9540f">rb_ary_clear</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;}</div>
<div class="ttc" id="array_8c_html_aaf8c74d0eef61073fadf2c631fa9540f"><div class="ttname"><a href="array_8c.html#aaf8c74d0eef61073fadf2c631fa9540f">rb_ary_clear</a></div><div class="ttdeci">VALUE rb_ary_clear(VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l03489">array.c:3489</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac25c780d9fdb6dab0dd8dda84c7e85e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_threadptr_pending_interrupt_deque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a>&#160;</td>
          <td class="paramname"><em>timing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01619">1619</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;{</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="preprocessor">#if 1 </span><span class="comment">/* 1 to enable Thread#handle_interrupt, 0 to ignore it */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;RARRAY_LEN(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>); i++) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    VALUE err = RARRAY_AREF(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>, i);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keyword">enum</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a> mask_timing = <a class="code" href="thread_8c.html#a70442253ce8052fd660bf11abbb51e8a">rb_threadptr_pending_interrupt_check_mask</a>(th, CLASS_OF(err));</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">switch</span> (mask_timing) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a>:</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">if</span> (timing != <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a>) {</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="comment">/* fall through */</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a>: <span class="comment">/* default: IMMEDIATE */</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a>:</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <a class="code" href="array_8c.html#a6927d315ff356d40af4f430201dcdbf5">rb_ary_delete_at</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>, i);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a>:</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    }</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 1;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">return</span> Qundef;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    VALUE err = <a class="code" href="array_8c.html#a2c4138c37c30471d4724bd8eee255a9d">rb_ary_shift</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a>(th)) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 1;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a33cad2d14cf2e5e9e96385eafc14d2fe"><div class="ttname"><a href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">rb_thread_struct::pending_interrupt_queue_checked</a></div><div class="ttdeci">int pending_interrupt_queue_checked</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00693">vm_core.h:693</a></div></div>
<div class="ttc" id="array_8c_html_a6927d315ff356d40af4f430201dcdbf5"><div class="ttname"><a href="array_8c.html#a6927d315ff356d40af4f430201dcdbf5">rb_ary_delete_at</a></div><div class="ttdeci">VALUE rb_ary_delete_at(VALUE ary, long pos)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l03047">array.c:3047</a></div></div>
<div class="ttc" id="array_8c_html_a2c4138c37c30471d4724bd8eee255a9d"><div class="ttname"><a href="array_8c.html#a2c4138c37c30471d4724bd8eee255a9d">rb_ary_shift</a></div><div class="ttdeci">VALUE rb_ary_shift(VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l01005">array.c:1005</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a39847f0f1985dd3d23df71cdc290ceb7">INTERRUPT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01554">thread.c:1554</a></div></div>
<div class="ttc" id="thread_8c_html_ae16cd5b995f9c31f2063ad3d82f1e365"><div class="ttname"><a href="thread_8c.html#ae16cd5b995f9c31f2063ad3d82f1e365">rb_threadptr_pending_interrupt_empty_p</a></div><div class="ttdeci">static int rb_threadptr_pending_interrupt_empty_p(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01600">thread.c:1600</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1a41c92887baee76278c2dae9282d77306">INTERRUPT_ON_BLOCKING</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01556">thread.c:1556</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1ac344ca114a740e131a5380cbb82c34e5">INTERRUPT_NEVER</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01557">thread.c:1557</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1">handle_interrupt_timing</a></div><div class="ttdeci">handle_interrupt_timing</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01553">thread.c:1553</a></div></div>
<div class="ttc" id="thread_8c_html_ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9"><div class="ttname"><a href="thread_8c.html#ae8147c0c3bcd161c8b19333a034d77f1aee04001ddc9ae829170b2ab19ea22dd9">INTERRUPT_IMMEDIATE</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01555">thread.c:1555</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
<div class="ttc" id="thread_8c_html_a70442253ce8052fd660bf11abbb51e8a"><div class="ttname"><a href="thread_8c.html#a70442253ce8052fd660bf11abbb51e8a">rb_threadptr_pending_interrupt_check_mask</a></div><div class="ttdeci">static enum handle_interrupt_timing rb_threadptr_pending_interrupt_check_mask(rb_thread_t *th, VALUE err)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01561">thread.c:1561</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae16cd5b995f9c31f2063ad3d82f1e365"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rb_threadptr_pending_interrupt_empty_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01600">1600</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;{</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">return</span> RARRAY_LEN(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>) == 0;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63cbd624cfbda37f74c28998bf26c2eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_pending_interrupt_enque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01547">1547</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;{</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>, v);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 0;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a33cad2d14cf2e5e9e96385eafc14d2fe"><div class="ttname"><a href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">rb_thread_struct::pending_interrupt_queue_checked</a></div><div class="ttdeci">int pending_interrupt_queue_checked</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00693">vm_core.h:693</a></div></div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32c1f16a4c5fa0c2b2bdf5ca7912db3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rb_threadptr_pending_interrupt_include_p </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01606">1606</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;{</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;RARRAY_LEN(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>); i++) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    VALUE e = RARRAY_AREF(th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a>, i);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="object_8c.html#ab145033c50f9ed2eff8bd470ad37eed7">rb_class_inherited_p</a>(e, err)) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;}</div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
<div class="ttc" id="object_8c_html_ab145033c50f9ed2eff8bd470ad37eed7"><div class="ttname"><a href="object_8c.html#ab145033c50f9ed2eff8bd470ad37eed7">rb_class_inherited_p</a></div><div class="ttdeci">VALUE rb_class_inherited_p(VALUE mod, VALUE arg)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l01550">object.c:1550</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75ac42869e2371ef3d57c096533e10c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE rb_threadptr_raise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02043">2043</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;{</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    VALUE exc;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a>(th)) {</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a> == 0) {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    exc = <a class="code" href="error_8c.html#aab1a41e4022b414d0334959ae7dd3b21">rb_exc_new</a>(<a class="code" href="error_8c.html#a95ad3953d535707e2cf2b1d837f5e253">rb_eRuntimeError</a>, 0, 0);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    exc = <a class="code" href="eval_8c.html#a898fb4bf68e7e5cc64a762587de700ca">rb_make_exception</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    }</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a>(th, exc);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(th);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;}</div>
<div class="ttc" id="error_8c_html_aab1a41e4022b414d0334959ae7dd3b21"><div class="ttname"><a href="error_8c.html#aab1a41e4022b414d0334959ae7dd3b21">rb_exc_new</a></div><div class="ttdeci">VALUE rb_exc_new(VALUE etype, const char *ptr, long len)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00655">error.c:655</a></div></div>
<div class="ttc" id="eval_8c_html_a898fb4bf68e7e5cc64a762587de700ca"><div class="ttname"><a href="eval_8c.html#a898fb4bf68e7e5cc64a762587de700ca">rb_make_exception</a></div><div class="ttdeci">VALUE rb_make_exception(int argc, const VALUE *argv)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00741">eval.c:741</a></div></div>
<div class="ttc" id="thread_8c_html_a63cbd624cfbda37f74c28998bf26c2eb"><div class="ttname"><a href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a></div><div class="ttdeci">void rb_threadptr_pending_interrupt_enque(rb_thread_t *th, VALUE v)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01547">thread.c:1547</a></div></div>
<div class="ttc" id="thread_8c_html_a2878eaa26a014c90d668edd41960b78d"><div class="ttname"><a href="thread_8c.html#a2878eaa26a014c90d668edd41960b78d">rb_threadptr_dead</a></div><div class="ttdeci">static int rb_threadptr_dead(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02591">thread.c:2591</a></div></div>
<div class="ttc" id="error_8c_html_a95ad3953d535707e2cf2b1d837f5e253"><div class="ttname"><a href="error_8c.html#a95ad3953d535707e2cf2b1d837f5e253">rb_eRuntimeError</a></div><div class="ttdeci">VALUE rb_eRuntimeError</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00621">error.c:621</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="thread_8c_html_ac46256e91e4796220065f97cd0842a10"><div class="ttname"><a href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a></div><div class="ttdeci">void rb_threadptr_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00402">thread.c:402</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a952c3555401953d926b55121ec0d3174"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_threadptr_ready </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02037">2037</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;{</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(th);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ac46256e91e4796220065f97cd0842a10"><div class="ttname"><a href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a></div><div class="ttdeci">void rb_threadptr_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00402">thread.c:402</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6512318e5e31b15826e44b778e45b6d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_threadptr_reset_raised </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02110">2110</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;{</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keywordflow">if</span> (!(th-&gt;<a class="code" href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">raised_flag</a> &amp; <a class="code" href="eval__intern_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd">RAISED_EXCEPTION</a>)) {</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">raised_flag</a> &amp;= ~<a class="code" href="eval__intern_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd">RAISED_EXCEPTION</a>;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;}</div>
<div class="ttc" id="eval__intern_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd"><div class="ttname"><a href="eval__intern_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd">RAISED_EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00293">eval_intern.h:293</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a0783e8b1c2dcd0b9b7a82d68e975eff3"><div class="ttname"><a href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">rb_thread_struct::raised_flag</a></div><div class="ttdeci">int raised_flag</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00640">vm_core.h:640</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3514e2b9aa4169e9b24f1d2bdf586b00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_threadptr_set_raised </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02100">2100</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;{</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">raised_flag</a> &amp; <a class="code" href="eval__intern_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd">RAISED_EXCEPTION</a>) {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">raised_flag</a> |= <a class="code" href="eval__intern_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd">RAISED_EXCEPTION</a>;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;}</div>
<div class="ttc" id="eval__intern_8h_html_a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd"><div class="ttname"><a href="eval__intern_8h.html#a0411cd49bb5b71852cecd93bcbf0ca2daeb01a96ce6d463ac6ef7e562768436bd">RAISED_EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00293">eval_intern.h:293</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a0783e8b1c2dcd0b9b7a82d68e975eff3"><div class="ttname"><a href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">rb_thread_struct::raised_flag</a></div><div class="ttdeci">int raised_flag</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00640">vm_core.h:640</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab74abfa9f067678a7a78d54a3904530b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_signal_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02073">2073</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;{</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    VALUE <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[2];</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    argv[0] = <a class="code" href="error_8c.html#a34c7841e8f21712bc79d7bd6f64483b3">rb_eSystemExit</a>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    argv[1] = rb_str_new2(<span class="stringliteral">&quot;exit&quot;</span>);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <a class="code" href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>, 2, argv);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="thread_8c_html_a75ac42869e2371ef3d57c096533e10c6"><div class="ttname"><a href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a></div><div class="ttdeci">static VALUE rb_threadptr_raise(rb_thread_t *, int, VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02043">thread.c:2043</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="error_8c_html_a34c7841e8f21712bc79d7bd6f64483b3"><div class="ttname"><a href="error_8c.html#a34c7841e8f21712bc79d7bd6f64483b3">rb_eSystemExit</a></div><div class="ttdeci">VALUE rb_eSystemExit</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00616">error.c:616</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a2a75d8700562c9f8e17b40b017440d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_signal_raise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02063">2063</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;{</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    VALUE <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[2];</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    argv[0] = <a class="code" href="error_8c.html#afe50bdef992922d9d0a0b1110bacb016">rb_eSignal</a>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    argv[1] = INT2FIX(sig);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <a class="code" href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>, 2, argv);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="error_8c_html_afe50bdef992922d9d0a0b1110bacb016"><div class="ttname"><a href="error_8c.html#afe50bdef992922d9d0a0b1110bacb016">rb_eSignal</a></div><div class="ttdeci">VALUE rb_eSignal</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00618">error.c:618</a></div></div>
<div class="ttc" id="thread_8c_html_a75ac42869e2371ef3d57c096533e10c6"><div class="ttname"><a href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a></div><div class="ttdeci">static VALUE rb_threadptr_raise(rb_thread_t *, int, VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02043">thread.c:2043</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a507b90792155ba1f807575b9873820cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rb_threadptr_to_kill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01933">1933</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;{</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="thread_8c.html#a6720e15931dccf9492320a7798aeba8a">rb_threadptr_pending_interrupt_clear</a>(th);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a3004e89225a07c08e78af212b40c0e3c">to_kill</a> = 1;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a> = INT2FIX(<a class="code" href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a>);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <a class="code" href="eval__intern_8h.html#a94d7b62a0538b4dc8a1d0c7c1308bfe7">TH_JUMP_TAG</a>(th, <a class="code" href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a>);</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;}</div>
<div class="ttc" id="eval__intern_8h_html_a94d7b62a0538b4dc8a1d0c7c1308bfe7"><div class="ttname"><a href="eval__intern_8h.html#a94d7b62a0538b4dc8a1d0c7c1308bfe7">TH_JUMP_TAG</a></div><div class="ttdeci">#define TH_JUMP_TAG(th, st)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00175">eval_intern.h:175</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a7490e601d6a9d97a79d4d895ad73c93a"><div class="ttname"><a href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a></div><div class="ttdeci">#define TAG_FATAL</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00199">eval_intern.h:199</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3004e89225a07c08e78af212b40c0e3c"><div class="ttname"><a href="structrb__thread__struct.html#a3004e89225a07c08e78af212b40c0e3c">rb_thread_struct::to_kill</a></div><div class="ttdeci">int to_kill</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00673">vm_core.h:673</a></div></div>
<div class="ttc" id="thread_8c_html_a6720e15931dccf9492320a7798aeba8a"><div class="ttname"><a href="thread_8c.html#a6720e15931dccf9492320a7798aeba8a">rb_threadptr_pending_interrupt_clear</a></div><div class="ttdeci">void rb_threadptr_pending_interrupt_clear(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01541">thread.c:1541</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00573">vm_core.h:573</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a173e2da61fa57c7044fd7874a8c7a924"><div class="ttname"><a href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">rb_thread_struct::errinfo</a></div><div class="ttdeci">VALUE errinfo</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00683">vm_core.h:683</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f32028242ef7ed0f4b3a8f5c9c40d0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_trap_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00408">408</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="thread_8c.html#a5047a65dabfb9dafbbd03fbd8d97ef05">rb_threadptr_interrupt_common</a>(th, 1);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a5047a65dabfb9dafbbd03fbd8d97ef05"><div class="ttname"><a href="thread_8c.html#a5047a65dabfb9dafbbd03fbd8d97ef05">rb_threadptr_interrupt_common</a></div><div class="ttdeci">static void rb_threadptr_interrupt_common(rb_thread_t *th, int trap)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00384">thread.c:384</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa411c64669553c03fd84487a7b700d1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_threadptr_unlock_all_locking_mutexes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00446">446</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *err;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutex;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="structrb__mutex__struct.html">rb_mutex_t</a> *mutexes = th-&gt;<a class="code" href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">keeping_mutexes</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">while</span> (mutexes) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    mutex = mutexes;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">/* rb_warn(&quot;mutex #&lt;%p&gt; remains to be locked by terminated thread&quot;,</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">        mutexes); */</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    mutexes = mutex-&gt;<a class="code" href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">next_mutex</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    err = <a class="code" href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a>(mutex, th);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (err) <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;invalid keeping_mutexes: %s&quot;</span>, err);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="ttc" id="structrb__mutex__struct_html_ac770bb075d8e3f0e82a1fd8808f1bcdb"><div class="ttname"><a href="structrb__mutex__struct.html#ac770bb075d8e3f0e82a1fd8808f1bcdb">rb_mutex_struct::next_mutex</a></div><div class="ttdeci">struct rb_mutex_struct * next_mutex</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00435">thread.c:435</a></div></div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="thread_8c_html_aa2e588283845294f0d0b6aa70e7f9d1c"><div class="ttname"><a href="thread_8c.html#aa2e588283845294f0d0b6aa70e7f9d1c">rb_mutex_unlock_th</a></div><div class="ttdeci">static const char * rb_mutex_unlock_th(rb_mutex_t *mutex, rb_thread_t volatile *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04425">thread.c:4425</a></div></div>
<div class="ttc" id="structrb__mutex__struct_html"><div class="ttname"><a href="structrb__mutex__struct.html">rb_mutex_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00430">thread.c:430</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_adb11d95769dc97f821331399fd45a586"><div class="ttname"><a href="structrb__thread__struct.html#adb11d95769dc97f821331399fd45a586">rb_thread_struct::keeping_mutexes</a></div><div class="ttdeci">struct rb_mutex_struct * keeping_mutexes</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00701">vm_core.h:701</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03e7c19aa83784eabf9379fdefc4fc5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_uninterruptible </td>
          <td>(</td>
          <td class="paramtype">VALUE(*)(ANYARGS)&#160;</td>
          <td class="paramname"><em>b_proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05251">5251</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;{</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    VALUE interrupt_mask = <a class="code" href="hash_8c.html#af1da586524a3a1739fd5b91272037815">rb_hash_new</a>();</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *cur_th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(interrupt_mask, <a class="code" href="object_8c.html#a3089f205b1a3c3b15fa0282cbb55fcb7">rb_cObject</a>, <a class="code" href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a>);</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(cur_th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>, interrupt_mask);</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a>(b_proc, data, <a class="code" href="array_8c.html#aacb1ec2239256ca2e537588fc534e7b8">rb_ary_pop</a>, cur_th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>);</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a15a374436fd3291ea7843f31fe0effcb"><div class="ttname"><a href="thread_8c.html#a15a374436fd3291ea7843f31fe0effcb">sym_never</a></div><div class="ttdeci">static VALUE sym_never</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00083">thread.c:83</a></div></div>
<div class="ttc" id="array_8c_html_aacb1ec2239256ca2e537588fc534e7b8"><div class="ttname"><a href="array_8c.html#aacb1ec2239256ca2e537588fc534e7b8">rb_ary_pop</a></div><div class="ttdeci">VALUE rb_ary_pop(VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00954">array.c:954</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a979a16137dbb149acf7a8fd194946a24"><div class="ttname"><a href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">rb_thread_struct::pending_interrupt_mask_stack</a></div><div class="ttdeci">VALUE pending_interrupt_mask_stack</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00692">vm_core.h:692</a></div></div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="hash_8c_html_ac477edf136d86a33bc06d1fbea67bb9a"><div class="ttname"><a href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a></div><div class="ttdeci">VALUE rb_hash_aset(VALUE hash, VALUE key, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l01485">hash.c:1485</a></div></div>
<div class="ttc" id="hash_8c_html_af1da586524a3a1739fd5b91272037815"><div class="ttname"><a href="hash_8c.html#af1da586524a3a1739fd5b91272037815">rb_hash_new</a></div><div class="ttdeci">VALUE rb_hash_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00351">hash.c:351</a></div></div>
<div class="ttc" id="eval_8c_html_a8061198378fb16adeb931f90540b2839"><div class="ttname"><a href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a></div><div class="ttdeci">VALUE rb_ensure(VALUE(*b_proc)(ANYARGS), VALUE data1, VALUE(*e_proc)(ANYARGS), VALUE data2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00899">eval.c:899</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="object_8c_html_a3089f205b1a3c3b15fa0282cbb55fcb7"><div class="ttname"><a href="object_8c.html#a3089f205b1a3c3b15fa0282cbb55fcb7">rb_cObject</a></div><div class="ttdeci">VALUE rb_cObject</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l00028">object.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a152e345de139a53b412409fe441067a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rb_vm_gvl_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00315">315</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    gvl_release(vm);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    gvl_destroy(vm);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    native_mutex_destroy(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">thread_destruct_lock</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="ttc" id="structrb__vm__struct_html_ad8f271ee054c0d65587bb1976b0f802d"><div class="ttname"><a href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">rb_vm_struct::thread_destruct_lock</a></div><div class="ttdeci">rb_nativethread_lock_t thread_destruct_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00419">vm_core.h:419</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d928dd718bfee4b74deb87c1e82efd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rb_wait_for_single_fd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03761">3761</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;{</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    rb_fdset_t rfds, wfds, efds;</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    <span class="keyword">struct </span><a class="code" href="structselect__args.html">select_args</a> args;</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    VALUE ptr = (VALUE)&amp;args;</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;    args.<a class="code" href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">as</a>.<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a> = <a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    args.read = (events &amp; RB_WAITFD_IN) ? <a class="code" href="thread_8c.html#a28c38dd56b2be2e7609cea8da5569fff">init_set_fd</a>(<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>, &amp;rfds) : <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    args.write = (events &amp; RB_WAITFD_OUT) ? <a class="code" href="thread_8c.html#a28c38dd56b2be2e7609cea8da5569fff">init_set_fd</a>(<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>, &amp;wfds) : <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;    args.except = (events &amp; RB_WAITFD_PRI) ? <a class="code" href="thread_8c.html#a28c38dd56b2be2e7609cea8da5569fff">init_set_fd</a>(<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>, &amp;efds) : <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    args.tv = <a class="code" href="structselect__args.html#afb5ac4ea7f7bf2f53cf494185aa32525">tv</a>;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    r = (int)<a class="code" href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a>(<a class="code" href="thread_8c.html#a84178a005366c7c8c535ff992d429ceb">select_single</a>, ptr, <a class="code" href="thread_8c.html#a25904d139dc6ef16dde15c9b6c877d72">select_single_cleanup</a>, ptr);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    <span class="keywordflow">if</span> (r == -1)</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    errno = args.as.error;</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;}</div>
<div class="ttc" id="structselect__args_html_a9299717d47fb0ce4a24ca514cd65c464"><div class="ttname"><a href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">select_args::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03717">thread.c:3717</a></div></div>
<div class="ttc" id="structselect__args_html_afb5ac4ea7f7bf2f53cf494185aa32525"><div class="ttname"><a href="structselect__args.html#afb5ac4ea7f7bf2f53cf494185aa32525">select_args::tv</a></div><div class="ttdeci">struct timeval * tv</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03723">thread.c:3723</a></div></div>
<div class="ttc" id="thread_8c_html_a28c38dd56b2be2e7609cea8da5569fff"><div class="ttname"><a href="thread_8c.html#a28c38dd56b2be2e7609cea8da5569fff">init_set_fd</a></div><div class="ttdeci">static rb_fdset_t * init_set_fd(int fd, rb_fdset_t *fds)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03707">thread.c:3707</a></div></div>
<div class="ttc" id="structselect__args_html"><div class="ttname"><a href="structselect__args.html">select_args</a></div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08485">io.c:8485</a></div></div>
<div class="ttc" id="structselect__args_html_a380326475a440e6a87e8f5c47e9e9d8e"><div class="ttname"><a href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">select_args::as</a></div><div class="ttdeci">union select_args::@55 as</div></div>
<div class="ttc" id="eval_8c_html_a8061198378fb16adeb931f90540b2839"><div class="ttname"><a href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a></div><div class="ttdeci">VALUE rb_ensure(VALUE(*b_proc)(ANYARGS), VALUE data1, VALUE(*e_proc)(ANYARGS), VALUE data2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00899">eval.c:899</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
<div class="ttc" id="thread_8c_html_a25904d139dc6ef16dde15c9b6c877d72"><div class="ttname"><a href="thread_8c.html#a25904d139dc6ef16dde15c9b6c877d72">select_single_cleanup</a></div><div class="ttdeci">static VALUE select_single_cleanup(VALUE ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03749">thread.c:3749</a></div></div>
<div class="ttc" id="thread_8c_html_a84178a005366c7c8c535ff992d429ceb"><div class="ttname"><a href="thread_8c.html#a84178a005366c7c8c535ff992d429ceb">select_single</a></div><div class="ttdeci">static VALUE select_single(VALUE ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03727">thread.c:3727</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a801367b38d3252a49bc58ebf35fc8805"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE recursive_check </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>paired_obj_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04762">4762</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;{</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;<span class="preprocessor">#if SIZEOF_LONG == SIZEOF_VOIDP</span></div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;<span class="preprocessor">  #define OBJ_ID_EQL(obj_id, other) ((obj_id) == (other))</span></div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;<span class="preprocessor">#elif SIZEOF_LONG_LONG == SIZEOF_VOIDP</span></div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;<span class="preprocessor">  #define OBJ_ID_EQL(obj_id, other) (RB_TYPE_P((obj_id), T_BIGNUM) ? \</span></div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;<span class="preprocessor">    rb_big_eql((obj_id), (other)) : ((obj_id) == (other)))</span></div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    VALUE pair_list = <a class="code" href="hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj_id, Qundef);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    <span class="keywordflow">if</span> (pair_list == Qundef)</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    <span class="keywordflow">if</span> (paired_obj_id) {</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;    <span class="keywordflow">if</span> (!RB_TYPE_P(pair_list, T_HASH)) {</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="thread_8c.html#a9fa7113fc5ddbcc70f72780d4d1c1dae">OBJ_ID_EQL</a>(paired_obj_id, pair_list))</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;        <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;    }</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;        <span class="keywordflow">if</span> (NIL_P(<a class="code" href="hash_8c.html#ad958ed295d43f2accdebbabde6ba6933">rb_hash_lookup</a>(pair_list, paired_obj_id)))</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;    }</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    }</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a9fa7113fc5ddbcc70f72780d4d1c1dae"><div class="ttname"><a href="thread_8c.html#a9fa7113fc5ddbcc70f72780d4d1c1dae">OBJ_ID_EQL</a></div><div class="ttdeci">#define OBJ_ID_EQL(obj_id, other)</div></div>
<div class="ttc" id="hash_8c_html_ad958ed295d43f2accdebbabde6ba6933"><div class="ttname"><a href="hash_8c.html#ad958ed295d43f2accdebbabde6ba6933">rb_hash_lookup</a></div><div class="ttdeci">VALUE rb_hash_lookup(VALUE hash, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00773">hash.c:773</a></div></div>
<div class="ttc" id="hash_8c_html_a2c487a168f8d6238fb47a4e5f20ef4d2"><div class="ttname"><a href="hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a></div><div class="ttdeci">VALUE rb_hash_lookup2(VALUE hash, VALUE key, VALUE def)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00762">hash.c:762</a></div></div>
<div class="ttc" id="encoding_8c_html_a05f70dacbe595d27364e1e014efb0c8e"><div class="ttname"><a href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a></div><div class="ttdeci">struct rb_encoding_entry * list</div><div class="ttdef"><b>Definition:</b> <a href="encoding_8c_source.html#l00047">encoding.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8ea70e0ece79c3d983b6c8cb38e47ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE recursive_list_access </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>sym</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04735">4735</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;{</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    VALUE <a class="code" href="lex_8c.html#a5541f85ce416df233cce93949f0eeeca">hash</a> = <a class="code" href="thread_8c.html#afbe54a87ef432758af8ac67571b4b55a">threadptr_recursive_hash</a>(th);</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    VALUE <a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>;</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    <span class="keywordflow">if</span> (NIL_P(hash) || !RB_TYPE_P(hash, T_HASH)) {</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;    hash = <a class="code" href="hash_8c.html#a4619688603ce098f04d716ca486766aa">rb_ident_hash_new</a>();</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <a class="code" href="thread_8c.html#a34c32d1e592a0fd559a7bc7bcdf4006a">threadptr_recursive_hash_set</a>(th, hash);</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    list = Qnil;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    }</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    list = <a class="code" href="hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a>(hash, sym);</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    }</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    <span class="keywordflow">if</span> (NIL_P(list) || !RB_TYPE_P(list, T_HASH)) {</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    list = <a class="code" href="hash_8c.html#a4619688603ce098f04d716ca486766aa">rb_ident_hash_new</a>();</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(hash, sym, list);</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    }</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>;</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="hash_8c_html_ac477edf136d86a33bc06d1fbea67bb9a"><div class="ttname"><a href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a></div><div class="ttdeci">VALUE rb_hash_aset(VALUE hash, VALUE key, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l01485">hash.c:1485</a></div></div>
<div class="ttc" id="thread_8c_html_a34c32d1e592a0fd559a7bc7bcdf4006a"><div class="ttname"><a href="thread_8c.html#a34c32d1e592a0fd559a7bc7bcdf4006a">threadptr_recursive_hash_set</a></div><div class="ttdeci">static void threadptr_recursive_hash_set(rb_thread_t *th, VALUE hash)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04721">thread.c:4721</a></div></div>
<div class="ttc" id="thread_8c_html_afbe54a87ef432758af8ac67571b4b55a"><div class="ttname"><a href="thread_8c.html#afbe54a87ef432758af8ac67571b4b55a">threadptr_recursive_hash</a></div><div class="ttdeci">static VALUE threadptr_recursive_hash(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04715">thread.c:4715</a></div></div>
<div class="ttc" id="hash_8c_html_a4619688603ce098f04d716ca486766aa"><div class="ttname"><a href="hash_8c.html#a4619688603ce098f04d716ca486766aa">rb_ident_hash_new</a></div><div class="ttdeci">VALUE rb_ident_hash_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l02582">hash.c:2582</a></div></div>
<div class="ttc" id="hash_8c_html_ab7063832c7ed02351e87922a78e35c32"><div class="ttname"><a href="hash_8c.html#ab7063832c7ed02351e87922a78e35c32">rb_hash_aref</a></div><div class="ttdeci">VALUE rb_hash_aref(VALUE hash, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00751">hash.c:751</a></div></div>
<div class="ttc" id="encoding_8c_html_a05f70dacbe595d27364e1e014efb0c8e"><div class="ttname"><a href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a></div><div class="ttdeci">struct rb_encoding_entry * list</div><div class="ttdef"><b>Definition:</b> <a href="encoding_8c_source.html#l00047">encoding.c:47</a></div></div>
<div class="ttc" id="lex_8c_html_a5541f85ce416df233cce93949f0eeeca"><div class="ttname"><a href="lex_8c.html#a5541f85ce416df233cce93949f0eeeca">hash</a></div><div class="ttdeci">static unsigned int hash(const char *str, unsigned int len)</div><div class="ttdef"><b>Definition:</b> <a href="lex_8c_source.html#l00056">lex.c:56</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0f6434fced2a5b31616054bf4b349bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recursive_pop </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>paired_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04827">4827</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;{</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    <span class="keywordflow">if</span> (paired_obj) {</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;    VALUE pair_list = <a class="code" href="hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj, Qundef);</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;    <span class="keywordflow">if</span> (pair_list == Qundef) {</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    }</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <span class="keywordflow">if</span> (RB_TYPE_P(pair_list, T_HASH)) {</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;        <a class="code" href="hash_8c.html#ab615e8bb39262e5ec2bc86fe1c54bc8c">rb_hash_delete_entry</a>(pair_list, paired_obj);</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;        <span class="keywordflow">if</span> (!RHASH_EMPTY_P(pair_list)) {</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;        <span class="keywordflow">return</span> 1; <span class="comment">/* keep hash until is empty */</span></div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;        }</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;    }</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    }</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <a class="code" href="hash_8c.html#ab615e8bb39262e5ec2bc86fe1c54bc8c">rb_hash_delete_entry</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj);</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;}</div>
<div class="ttc" id="hash_8c_html_ab615e8bb39262e5ec2bc86fe1c54bc8c"><div class="ttname"><a href="hash_8c.html#ab615e8bb39262e5ec2bc86fe1c54bc8c">rb_hash_delete_entry</a></div><div class="ttdeci">VALUE rb_hash_delete_entry(VALUE hash, VALUE key)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l01021">hash.c:1021</a></div></div>
<div class="ttc" id="hash_8c_html_a2c487a168f8d6238fb47a4e5f20ef4d2"><div class="ttname"><a href="hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a></div><div class="ttdeci">VALUE rb_hash_lookup2(VALUE hash, VALUE key, VALUE def)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00762">hash.c:762</a></div></div>
<div class="ttc" id="encoding_8c_html_a05f70dacbe595d27364e1e014efb0c8e"><div class="ttname"><a href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a></div><div class="ttdeci">struct rb_encoding_entry * list</div><div class="ttdef"><b>Definition:</b> <a href="encoding_8c_source.html#l00047">encoding.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a191fdc21db21f64ff9f87f5cbfdb7503"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recursive_push </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>paired_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04797">4797</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;{</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    VALUE pair_list;</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;    <span class="keywordflow">if</span> (!paired_obj) {</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj, Qtrue);</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    }</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pair_list = <a class="code" href="hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj, Qundef)) == Qundef) {</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj, paired_obj);</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    }</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;    <span class="keywordflow">if</span> (!RB_TYPE_P(pair_list, T_HASH)){</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;        VALUE other_paired_obj = pair_list;</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;        pair_list = <a class="code" href="hash_8c.html#af1da586524a3a1739fd5b91272037815">rb_hash_new</a>();</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;        <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(pair_list, other_paired_obj, Qtrue);</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;        <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>, obj, pair_list);</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    }</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    <a class="code" href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a>(pair_list, paired_obj, Qtrue);</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    }</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;}</div>
<div class="ttc" id="hash_8c_html_ac477edf136d86a33bc06d1fbea67bb9a"><div class="ttname"><a href="hash_8c.html#ac477edf136d86a33bc06d1fbea67bb9a">rb_hash_aset</a></div><div class="ttdeci">VALUE rb_hash_aset(VALUE hash, VALUE key, VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l01485">hash.c:1485</a></div></div>
<div class="ttc" id="hash_8c_html_af1da586524a3a1739fd5b91272037815"><div class="ttname"><a href="hash_8c.html#af1da586524a3a1739fd5b91272037815">rb_hash_new</a></div><div class="ttdeci">VALUE rb_hash_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00351">hash.c:351</a></div></div>
<div class="ttc" id="hash_8c_html_a2c487a168f8d6238fb47a4e5f20ef4d2"><div class="ttname"><a href="hash_8c.html#a2c487a168f8d6238fb47a4e5f20ef4d2">rb_hash_lookup2</a></div><div class="ttdeci">VALUE rb_hash_lookup2(VALUE hash, VALUE key, VALUE def)</div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00762">hash.c:762</a></div></div>
<div class="ttc" id="encoding_8c_html_a05f70dacbe595d27364e1e014efb0c8e"><div class="ttname"><a href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a></div><div class="ttdeci">struct rb_encoding_entry * list</div><div class="ttdef"><b>Definition:</b> <a href="encoding_8c_source.html#l00047">encoding.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ce68a55ac4d23d55e79a69b4afe2dbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE remove_from_join_list </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00803">803</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">struct </span><a class="code" href="structjoin__arg.html">join_arg</a> *p = (<span class="keyword">struct </span><a class="code" href="structjoin__arg.html">join_arg</a> *)arg;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *target_th = p-&gt;<a class="code" href="structjoin__arg.html#a4d6f7aa34760cb966c63da5681a561ad">target</a>, *th = p-&gt;<a class="code" href="structjoin__arg.html#ac4b4856755e905a4552e4130f9afb8aa">waiting</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (target_th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> != <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="structrb__thread__list__struct.html">rb_thread_list_t</a> **p = &amp;target_th-&gt;<a class="code" href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">join_list</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">while</span> (*p) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span> ((*p)-&gt;th == th) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        *p = (*p)-&gt;<a class="code" href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">next</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        p = &amp;(*p)-&gt;<a class="code" href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">next</a>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a45c0e5bcba9d684be932ae89428fb218"><div class="ttname"><a href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">rb_thread_struct::join_list</a></div><div class="ttdeci">rb_thread_list_t * join_list</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00725">vm_core.h:725</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structjoin__arg_html"><div class="ttname"><a href="structjoin__arg.html">join_arg</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00797">thread.c:797</a></div></div>
<div class="ttc" id="structjoin__arg_html_a4d6f7aa34760cb966c63da5681a561ad"><div class="ttname"><a href="structjoin__arg.html#a4d6f7aa34760cb966c63da5681a561ad">join_arg::target</a></div><div class="ttdeci">rb_thread_t * target</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00798">thread.c:798</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html"><div class="ttname"><a href="structrb__thread__list__struct.html">rb_thread_list_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00609">vm_core.h:609</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structjoin__arg_html_ac4b4856755e905a4552e4130f9afb8aa"><div class="ttname"><a href="structjoin__arg.html#ac4b4856755e905a4552e4130f9afb8aa">join_arg::waiting</a></div><div class="ttdeci">rb_thread_t * waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00798">thread.c:798</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html_a339b9797854dd0bf3278290d7b2d8de3"><div class="ttname"><a href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">rb_thread_list_struct::next</a></div><div class="ttdeci">struct rb_thread_list_struct * next</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00610">vm_core.h:610</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a526470994d5b6261d41d4d6d0378e228"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reset_unblock_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="structrb__unblock__callback.html">rb_unblock_callback</a> *&#160;</td>
          <td class="paramname"><em>old</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00376">376</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    native_mutex_lock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a> = *old;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    native_mutex_unlock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a1e8ee4d75d7d514449cf70ce7beca57e"><div class="ttname"><a href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">rb_thread_struct::unblock</a></div><div class="ttdeci">struct rb_unblock_callback unblock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00699">vm_core.h:699</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc11705e9f4268c2cdc1120000e3c8d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_kill </td>
          <td>(</td>
          <td class="paramtype">rb_pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05263">5263</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;{</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;<span class="comment">     * When target pid is self, many caller assume signal will be</span></div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;<span class="comment">     * delivered immediately and synchronously.</span></div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    {</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;    <a class="code" href="thread_8c.html#ac4a353316c0c2cce85b75c7f0aada8ab">GVL_UNLOCK_BEGIN</a>();</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    native_mutex_lock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    err = kill(pid, sig);</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    native_cond_wait(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">interrupt_cond</a>, &amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    native_mutex_unlock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    <a class="code" href="thread_8c.html#a7731fc2a60a727d5bbd8cf78fd5375a6">GVL_UNLOCK_END</a>();</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    }</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;    <a class="code" href="error_8c.html#aec0502b6d84cff19bb2071d1386ff177">rb_sys_fail</a>(0);</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;    }</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_ac4a353316c0c2cce85b75c7f0aada8ab"><div class="ttname"><a href="thread_8c.html#ac4a353316c0c2cce85b75c7f0aada8ab">GVL_UNLOCK_BEGIN</a></div><div class="ttdeci">#define GVL_UNLOCK_BEGIN()</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00137">thread.c:137</a></div></div>
<div class="ttc" id="thread_8c_html_a7731fc2a60a727d5bbd8cf78fd5375a6"><div class="ttname"><a href="thread_8c.html#a7731fc2a60a727d5bbd8cf78fd5375a6">GVL_UNLOCK_END</a></div><div class="ttdeci">#define GVL_UNLOCK_END()</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00142">thread.c:142</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ad04e9258ee723608388a8aa2009b2f65"><div class="ttname"><a href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">rb_thread_struct::interrupt_cond</a></div><div class="ttdeci">rb_nativethread_cond_t interrupt_cond</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00698">vm_core.h:698</a></div></div>
<div class="ttc" id="error_8c_html_aec0502b6d84cff19bb2071d1386ff177"><div class="ttname"><a href="error_8c.html#aec0502b6d84cff19bb2071d1386ff177">rb_sys_fail</a></div><div class="ttdeci">void rb_sys_fail(const char *mesg)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l02051">error.c:2051</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aedc2bf3cc439b13dc26db5b77ab961e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ruby_native_thread_p </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05145">5145</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;{</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = ruby_thread_from_native();</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;    <span class="keywordflow">return</span> th != 0;</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2293d6040c352991d160113a62fe5be3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ruby_thread_has_gvl_p </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01495">1495</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;{</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = ruby_thread_from_native();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">if</span> (th &amp;&amp; th-&gt;<a class="code" href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">blocking_region_buffer</a> == 0) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aaf8cb1dd54464d5c8e277a66f2c1a063"><div class="ttname"><a href="structrb__thread__struct.html#aaf8cb1dd54464d5c8e277a66f2c1a063">rb_thread_struct::blocking_region_buffer</a></div><div class="ttdeci">void * blocking_region_buffer</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00677">vm_core.h:677</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20d8df830e19c1e62520540c66aaf3bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_thread_init_stack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00539">539</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    native_thread_init_stack(th);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac86a19af4004e24723908aa062e98113"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ruby_thread_stack_overflow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02087">2087</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;{</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">raised_flag</a> = 0;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="preprocessor">#ifdef USE_SIGALTSTACK</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc_8c.html#a481b1446700e95e49f9531c653543c85">rb_during_gc</a>()) {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <a class="code" href="eval_8c.html#a237939d28c83950b84fb6a45ccca53a0">rb_exc_raise</a>(<a class="code" href="vm__core_8h.html#a7acad2ca9baf84e4d6cb6e68cd3da73f">sysstack_error</a>);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a> = <a class="code" href="vm__core_8h.html#a7acad2ca9baf84e4d6cb6e68cd3da73f">sysstack_error</a>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <a class="code" href="eval__intern_8h.html#a94d7b62a0538b4dc8a1d0c7c1308bfe7">TH_JUMP_TAG</a>(th, <a class="code" href="eval__intern_8h.html#a0b034bce069147e233776bc1dcc74c01">TAG_RAISE</a>);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_a7acad2ca9baf84e4d6cb6e68cd3da73f"><div class="ttname"><a href="vm__core_8h.html#a7acad2ca9baf84e4d6cb6e68cd3da73f">sysstack_error</a></div><div class="ttdeci">#define sysstack_error</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01047">vm_core.h:1047</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a94d7b62a0538b4dc8a1d0c7c1308bfe7"><div class="ttname"><a href="eval__intern_8h.html#a94d7b62a0538b4dc8a1d0c7c1308bfe7">TH_JUMP_TAG</a></div><div class="ttdeci">#define TH_JUMP_TAG(th, st)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00175">eval_intern.h:175</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a0b034bce069147e233776bc1dcc74c01"><div class="ttname"><a href="eval__intern_8h.html#a0b034bce069147e233776bc1dcc74c01">TAG_RAISE</a></div><div class="ttdeci">#define TAG_RAISE</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00197">eval_intern.h:197</a></div></div>
<div class="ttc" id="eval_8c_html_a237939d28c83950b84fb6a45ccca53a0"><div class="ttname"><a href="eval_8c.html#a237939d28c83950b84fb6a45ccca53a0">rb_exc_raise</a></div><div class="ttdeci">void rb_exc_raise(VALUE mesg)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00598">eval.c:598</a></div></div>
<div class="ttc" id="gc_8c_html_a481b1446700e95e49f9531c653543c85"><div class="ttname"><a href="gc_8c.html#a481b1446700e95e49f9531c653543c85">rb_during_gc</a></div><div class="ttdeci">int rb_during_gc(void)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l06407">gc.c:6407</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a0783e8b1c2dcd0b9b7a82d68e975eff3"><div class="ttname"><a href="structrb__thread__struct.html#a0783e8b1c2dcd0b9b7a82d68e975eff3">rb_thread_struct::raised_flag</a></div><div class="ttdeci">int raised_flag</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00640">vm_core.h:640</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a173e2da61fa57c7044fd7874a8c7a924"><div class="ttname"><a href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">rb_thread_struct::errinfo</a></div><div class="ttdeci">VALUE errinfo</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00683">vm_core.h:683</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84178a005366c7c8c535ff992d429ceb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE select_single </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03727">3727</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;{</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="keyword">struct </span><a class="code" href="structselect__args.html">select_args</a> *args = (<span class="keyword">struct </span><a class="code" href="structselect__args.html">select_args</a> *)ptr;</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    r = <a class="code" href="thread_8c.html#a57f9a9f04bf3e8f6f9597bed235e1685">rb_thread_fd_select</a>(args-&gt;<a class="code" href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">as</a>.<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a> + 1,</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                            args-&gt;<a class="code" href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">read</a>, args-&gt;<a class="code" href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">write</a>, args-&gt;<a class="code" href="structselect__args.html#af19315c32394fc498874d2a246f2600a">except</a>, args-&gt;<a class="code" href="structselect__args.html#afb5ac4ea7f7bf2f53cf494185aa32525">tv</a>);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    <span class="keywordflow">if</span> (r == -1)</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    args-&gt;<a class="code" href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">as</a>.<a class="code" href="structselect__args.html#aabbb594c1e3ed4dc2a419bee1dfe0bf3">error</a> = errno;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    <span class="keywordflow">if</span> (r &gt; 0) {</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    r = 0;</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    <span class="keywordflow">if</span> (args-&gt;<a class="code" href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">read</a> &amp;&amp; rb_fd_isset(args-&gt;<a class="code" href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">as</a>.<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>, args-&gt;<a class="code" href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">read</a>))</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        r |= RB_WAITFD_IN;</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    <span class="keywordflow">if</span> (args-&gt;<a class="code" href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">write</a> &amp;&amp; rb_fd_isset(args-&gt;<a class="code" href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">as</a>.<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>, args-&gt;<a class="code" href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">write</a>))</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;        r |= RB_WAITFD_OUT;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <span class="keywordflow">if</span> (args-&gt;<a class="code" href="structselect__args.html#af19315c32394fc498874d2a246f2600a">except</a> &amp;&amp; rb_fd_isset(args-&gt;<a class="code" href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">as</a>.<a class="code" href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">fd</a>, args-&gt;<a class="code" href="structselect__args.html#af19315c32394fc498874d2a246f2600a">except</a>))</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;        r |= RB_WAITFD_PRI;</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    }</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordflow">return</span> (VALUE)r;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;}</div>
<div class="ttc" id="structselect__args_html_a9299717d47fb0ce4a24ca514cd65c464"><div class="ttname"><a href="structselect__args.html#a9299717d47fb0ce4a24ca514cd65c464">select_args::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03717">thread.c:3717</a></div></div>
<div class="ttc" id="structselect__args_html_afb5ac4ea7f7bf2f53cf494185aa32525"><div class="ttname"><a href="structselect__args.html#afb5ac4ea7f7bf2f53cf494185aa32525">select_args::tv</a></div><div class="ttdeci">struct timeval * tv</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03723">thread.c:3723</a></div></div>
<div class="ttc" id="structselect__args_html"><div class="ttname"><a href="structselect__args.html">select_args</a></div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08485">io.c:8485</a></div></div>
<div class="ttc" id="structselect__args_html_ab50cab45a8ec9fbbd5e5649176c2f179"><div class="ttname"><a href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">select_args::read</a></div><div class="ttdeci">VALUE read</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08486">io.c:8486</a></div></div>
<div class="ttc" id="thread_8c_html_a57f9a9f04bf3e8f6f9597bed235e1685"><div class="ttname"><a href="thread_8c.html#a57f9a9f04bf3e8f6f9597bed235e1685">rb_thread_fd_select</a></div><div class="ttdeci">int rb_thread_fd_select(int max, rb_fdset_t *read, rb_fdset_t *write, rb_fdset_t *except, struct timeval *timeout)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03562">thread.c:3562</a></div></div>
<div class="ttc" id="structselect__args_html_a380326475a440e6a87e8f5c47e9e9d8e"><div class="ttname"><a href="structselect__args.html#a380326475a440e6a87e8f5c47e9e9d8e">select_args::as</a></div><div class="ttdeci">union select_args::@55 as</div></div>
<div class="ttc" id="structselect__args_html_aabbb594c1e3ed4dc2a419bee1dfe0bf3"><div class="ttname"><a href="structselect__args.html#aabbb594c1e3ed4dc2a419bee1dfe0bf3">select_args::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03718">thread.c:3718</a></div></div>
<div class="ttc" id="structselect__args_html_a8eb87b49d6bafb9368cad5dc27718c11"><div class="ttname"><a href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">select_args::write</a></div><div class="ttdeci">VALUE write</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08486">io.c:8486</a></div></div>
<div class="ttc" id="structselect__args_html_af19315c32394fc498874d2a246f2600a"><div class="ttname"><a href="structselect__args.html#af19315c32394fc498874d2a246f2600a">select_args::except</a></div><div class="ttdeci">VALUE except</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08486">io.c:8486</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a25904d139dc6ef16dde15c9b6c877d72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE select_single_cleanup </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03749">3749</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;{</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="keyword">struct </span><a class="code" href="structselect__args.html">select_args</a> *args = (<span class="keyword">struct </span><a class="code" href="structselect__args.html">select_args</a> *)ptr;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <span class="keywordflow">if</span> (args-&gt;<a class="code" href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">read</a>) rb_fd_term(args-&gt;<a class="code" href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">read</a>);</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    <span class="keywordflow">if</span> (args-&gt;<a class="code" href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">write</a>) rb_fd_term(args-&gt;<a class="code" href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">write</a>);</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="keywordflow">if</span> (args-&gt;<a class="code" href="structselect__args.html#af19315c32394fc498874d2a246f2600a">except</a>) rb_fd_term(args-&gt;<a class="code" href="structselect__args.html#af19315c32394fc498874d2a246f2600a">except</a>);</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <span class="keywordflow">return</span> (VALUE)-1;</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;}</div>
<div class="ttc" id="structselect__args_html"><div class="ttname"><a href="structselect__args.html">select_args</a></div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08485">io.c:8485</a></div></div>
<div class="ttc" id="structselect__args_html_ab50cab45a8ec9fbbd5e5649176c2f179"><div class="ttname"><a href="structselect__args.html#ab50cab45a8ec9fbbd5e5649176c2f179">select_args::read</a></div><div class="ttdeci">VALUE read</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08486">io.c:8486</a></div></div>
<div class="ttc" id="structselect__args_html_a8eb87b49d6bafb9368cad5dc27718c11"><div class="ttname"><a href="structselect__args.html#a8eb87b49d6bafb9368cad5dc27718c11">select_args::write</a></div><div class="ttdeci">VALUE write</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08486">io.c:8486</a></div></div>
<div class="ttc" id="structselect__args_html_af19315c32394fc498874d2a246f2600a"><div class="ttname"><a href="structselect__args.html#af19315c32394fc498874d2a246f2600a">select_args::except</a></div><div class="ttdeci">VALUE except</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l08486">io.c:8486</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1eff8db4b0fbb9e4c65cc52dc6fec10e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_unblock_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rb_unblock_function_t *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrb__unblock__callback.html">rb_unblock_callback</a> *&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fail_if_interrupted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00347">347</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  check_ints:</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (fail_if_interrupted) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vm__core_8h.html#aeef41fb1faaed079b8be51e66331750c">RUBY_VM_INTERRUPTED_ANY</a>(th)) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a>(th);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    native_mutex_lock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vm__core_8h.html#aeef41fb1faaed079b8be51e66331750c">RUBY_VM_INTERRUPTED_ANY</a>(th)) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    native_mutex_unlock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">goto</span> check_ints;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (old) *old = th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>.<a class="code" href="structrb__unblock__callback.html#af641aca3c5c45670cdad373846a79dd2">func</a> = func;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">unblock</a>.<a class="code" href="structrb__unblock__callback.html#a11d7995ba5947f27f071cfda0f48c593">arg</a> = arg;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    native_mutex_unlock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_aa901d11cf0deaed13a18e08e3d03d1d9"><div class="ttname"><a href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01137">vm_core.h:1137</a></div></div>
<div class="ttc" id="structrb__unblock__callback_html_af641aca3c5c45670cdad373846a79dd2"><div class="ttname"><a href="structrb__unblock__callback.html#af641aca3c5c45670cdad373846a79dd2">rb_unblock_callback::func</a></div><div class="ttdeci">rb_unblock_function_t * func</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00602">vm_core.h:602</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="vm__core_8h_html_aeef41fb1faaed079b8be51e66331750c"><div class="ttname"><a href="vm__core_8h.html#aeef41fb1faaed079b8be51e66331750c">RUBY_VM_INTERRUPTED_ANY</a></div><div class="ttdeci">#define RUBY_VM_INTERRUPTED_ANY(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01112">vm_core.h:1112</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a1e8ee4d75d7d514449cf70ce7beca57e"><div class="ttname"><a href="structrb__thread__struct.html#a1e8ee4d75d7d514449cf70ce7beca57e">rb_thread_struct::unblock</a></div><div class="ttdeci">struct rb_unblock_callback unblock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00699">vm_core.h:699</a></div></div>
<div class="ttc" id="structrb__unblock__callback_html_a11d7995ba5947f27f071cfda0f48c593"><div class="ttname"><a href="structrb__unblock__callback.html#a11d7995ba5947f27f071cfda0f48c593">rb_unblock_callback::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00603">vm_core.h:603</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa735666902e716ce922f814e42f44f4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sleep_forever </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeadlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spurious_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01038">1038</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keyword">enum</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a> prev_status = th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keyword">enum</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a> status = deadlockable ? <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a> : <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = status;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">while</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == status) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (deadlockable) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>++;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    native_sleep(th, 0);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span> (deadlockable) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">sleeper</a>--;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (!spurious_check)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = prev_status;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a></div><div class="ttdeci">rb_thread_status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00572">vm_core.h:572</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a749d1248a707da96582537f890c10287"><div class="ttname"><a href="structrb__vm__struct.html#a749d1248a707da96582537f890c10287">rb_vm_struct::sleeper</a></div><div class="ttdeci">volatile int sleeper</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00431">vm_core.h:431</a></div></div>
<div class="ttc" id="thread_8c_html_a13e19f22a75b72b0b2c284f7997a3295"><div class="ttname"><a href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a></div><div class="ttdeci">static void rb_check_deadlock(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05176">thread.c:5176</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace81f760b6dab58be3f86cefd6e0f5fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sleep_timeval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spurious_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01079">1079</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;{</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keyword">struct </span>timeval to, tvn;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keyword">enum</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a> prev_status = th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="thread_8c.html#adb7df505b05d3a05ae562f2e42f4cb10">getclockofday</a>(&amp;to);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (TIMEVAL_SEC_MAX - tv.tv_sec &lt; to.tv_sec)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        to.tv_sec = TIMEVAL_SEC_MAX;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        to.tv_sec += tv.tv_sec;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> ((to.tv_usec += tv.tv_usec) &gt;= 1000000) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">if</span> (to.tv_sec == TIMEVAL_SEC_MAX)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            to.tv_usec = 999999;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            to.tv_sec++;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            to.tv_usec -= 1000000;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">while</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    native_sleep(th, &amp;tv);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a>(th);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="thread_8c.html#adb7df505b05d3a05ae562f2e42f4cb10">getclockofday</a>(&amp;tvn);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (to.tv_sec &lt; tvn.tv_sec) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span> (to.tv_sec == tvn.tv_sec &amp;&amp; to.tv_usec &lt;= tvn.tv_usec) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;sleep_timeval: %&quot;</span>PRI_TIMET_PREFIX<span class="stringliteral">&quot;d.%.6ld &gt; %&quot;</span>PRI_TIMET_PREFIX<span class="stringliteral">&quot;d.%.6ld\n&quot;</span>,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;             (time_t)to.tv_sec, (<span class="keywordtype">long</span>)to.tv_usec,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;             (time_t)tvn.tv_sec, (<span class="keywordtype">long</span>)tvn.tv_usec);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    tv.tv_sec = to.tv_sec - tvn.tv_sec;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> ((tv.tv_usec = to.tv_usec - tvn.tv_usec) &lt; 0) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        --tv.tv_sec;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        tv.tv_usec += 1000000;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (!spurious_check)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = prev_status;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75">rb_thread_status</a></div><div class="ttdeci">rb_thread_status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00572">vm_core.h:572</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="thread_8c_html_adb7df505b05d3a05ae562f2e42f4cb10"><div class="ttname"><a href="thread_8c.html#adb7df505b05d3a05ae562f2e42f4cb10">getclockofday</a></div><div class="ttdeci">static void getclockofday(struct timeval *tp)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01062">thread.c:1062</a></div></div>
<div class="ttc" id="vm__core_8h_html_afa7e853c53a486b266fd303558782c2d"><div class="ttname"><a href="vm__core_8h.html#afa7e853c53a486b266fd303558782c2d">RUBY_VM_CHECK_INTS_BLOCKING</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS_BLOCKING(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01126">vm_core.h:1126</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04a247f73e28d3c9ed1f98ad9528e0b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sleep_wait_for_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sleepsec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spurious_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01153">1153</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a>(th, <a class="code" href="thread_8c.html#a5dd14be99189cddb590d536bc4e3a566">double2timeval</a>(sleepsec), spurious_check);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a5dd14be99189cddb590d536bc4e3a566"><div class="ttname"><a href="thread_8c.html#a5dd14be99189cddb590d536bc4e3a566">double2timeval</a></div><div class="ttdeci">static struct timeval double2timeval(double d)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01011">thread.c:1011</a></div></div>
<div class="ttc" id="thread_8c_html_ace81f760b6dab58be3f86cefd6e0f5fd"><div class="ttname"><a href="thread_8c.html#ace81f760b6dab58be3f86cefd6e0f5fd">sleep_timeval</a></div><div class="ttdeci">static void sleep_timeval(rb_thread_t *th, struct timeval time, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01079">thread.c:1079</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24921dd43d0a4cdae165758eab29e4b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void st_delete_wrap </td>
          <td>(</td>
          <td class="paramtype">st_table *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">st_data_t&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00101">101</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="st_8c.html#a376a6db1416fd2edb1ce72ad624ff109">st_delete</a>(table, &amp;<a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>, 0);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="st_8c_html_a376a6db1416fd2edb1ce72ad624ff109"><div class="ttname"><a href="st_8c.html#a376a6db1416fd2edb1ce72ad624ff109">st_delete</a></div><div class="ttdeci">int st_delete(register st_table *table, register st_data_t *key, st_data_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l00698">st.c:698</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a075aa6a0ff9a0a725a95bd42b3988f64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void terminate_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>main_thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00414">414</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = 0;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, th, vmlt_node) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (th != main_thread) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;terminate_i: %p\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a>(th, <a class="code" href="thread_8c.html#aa421d36639c3bd7cd695aad0452e66d5">eTerminateSignal</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(th);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;terminate_i: main thread (%p)\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a63cbd624cfbda37f74c28998bf26c2eb"><div class="ttname"><a href="thread_8c.html#a63cbd624cfbda37f74c28998bf26c2eb">rb_threadptr_pending_interrupt_enque</a></div><div class="ttdeci">void rb_threadptr_pending_interrupt_enque(rb_thread_t *th, VALUE v)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01547">thread.c:1547</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="thread_8c_html_aa421d36639c3bd7cd695aad0452e66d5"><div class="ttname"><a href="thread_8c.html#aa421d36639c3bd7cd695aad0452e66d5">eTerminateSignal</a></div><div class="ttdeci">#define eTerminateSignal</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00095">thread.c:95</a></div></div>
<div class="ttc" id="thread_8c_html_ac46256e91e4796220065f97cd0842a10"><div class="ttname"><a href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a></div><div class="ttdeci">void rb_threadptr_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00402">thread.c:402</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec3a0a4448c212ec7162dccdc3e1d426"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void terminate_atfork_before_exec_i </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>current_th</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03925">3925</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;{</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;    <span class="keywordflow">if</span> (th != current_th) {</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;    <a class="code" href="thread_8c.html#a5111fe60b8b672c2f1dc6f7844b6b8ae">thread_cleanup_func_before_exec</a>(th);</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    }</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a5111fe60b8b672c2f1dc6f7844b6b8ae"><div class="ttname"><a href="thread_8c.html#a5111fe60b8b672c2f1dc6f7844b6b8ae">thread_cleanup_func_before_exec</a></div><div class="ttdeci">static void thread_cleanup_func_before_exec(void *th_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00506">thread.c:506</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace1418d1110df354bbbfea757be94b41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void terminate_atfork_i </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>current_th</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03905">3905</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;{</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    <span class="keywordflow">if</span> (th != current_th) {</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    <a class="code" href="thread_8c.html#a56aa2ce656e6af8ab5ba61254f89005f">rb_mutex_abandon_keeping_mutexes</a>(th);</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    <a class="code" href="thread_8c.html#a1b19ec8b7ec57b918e6d22cc02c49362">rb_mutex_abandon_locking_mutex</a>(th);</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    <a class="code" href="thread_8c.html#ad56b10284a01f2eb600a8c1ae94ce6fd">thread_cleanup_func</a>(th, <a class="code" href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    }</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a56aa2ce656e6af8ab5ba61254f89005f"><div class="ttname"><a href="thread_8c.html#a56aa2ce656e6af8ab5ba61254f89005f">rb_mutex_abandon_keeping_mutexes</a></div><div class="ttdeci">static void rb_mutex_abandon_keeping_mutexes(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04478">thread.c:4478</a></div></div>
<div class="ttc" id="thread_8c_html_a1b19ec8b7ec57b918e6d22cc02c49362"><div class="ttname"><a href="thread_8c.html#a1b19ec8b7ec57b918e6d22cc02c49362">rb_mutex_abandon_locking_mutex</a></div><div class="ttdeci">static void rb_mutex_abandon_locking_mutex(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04487">thread.c:4487</a></div></div>
<div class="ttc" id="thread_8c_html_ad56b10284a01f2eb600a8c1ae94ce6fd"><div class="ttname"><a href="thread_8c.html#ad56b10284a01f2eb600a8c1ae94ce6fd">thread_cleanup_func</a></div><div class="ttdeci">static void thread_cleanup_func(void *th_ptr, int atfork)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00517">thread.c:517</a></div></div>
<div class="ttc" id="regenc_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="regenc_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00059">regenc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd252fbee879bc70e8fbc5bef2595512"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thgroup_add </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04086">4086</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;{</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;    <span class="keyword">struct </span><a class="code" href="structthgroup.html">thgroup</a> *data;</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <span class="keywordflow">if</span> (OBJ_FROZEN(<a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>)) {</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;can&#39;t move to the frozen thread group&quot;</span>);</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    }</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    TypedData_Get_Struct(<a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>, <span class="keyword">struct</span> <a class="code" href="structthgroup.html">thgroup</a>, &amp;<a class="code" href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a>, data);</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    <span class="keywordflow">if</span> (data-&gt;<a class="code" href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">enclosed</a>) {</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;can&#39;t move to the enclosed thread group&quot;</span>);</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;    }</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a>) {</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;    }</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;    <span class="keywordflow">if</span> (OBJ_FROZEN(th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a>)) {</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;can&#39;t move from the frozen thread group&quot;</span>);</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;    }</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;    TypedData_Get_Struct(th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a>, <span class="keyword">struct</span> <a class="code" href="structthgroup.html">thgroup</a>, &amp;<a class="code" href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a>, data);</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;    <span class="keywordflow">if</span> (data-&gt;<a class="code" href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">enclosed</a>) {</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>,</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;         <span class="stringliteral">&quot;can&#39;t move from the enclosed thread group&quot;</span>);</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    }</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a> = <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>;</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3fa7c7d516fe265dbbd215eed5da5a20"><div class="ttname"><a href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">rb_thread_struct::thgroup</a></div><div class="ttdeci">VALUE thgroup</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00679">vm_core.h:679</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structthgroup_html"><div class="ttname"><a href="structthgroup.html">thgroup</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03938">thread.c:3938</a></div></div>
<div class="ttc" id="structthgroup_html_a4ffaadea033b535731f527013e334eb1"><div class="ttname"><a href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">thgroup::enclosed</a></div><div class="ttdeci">int enclosed</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03939">thread.c:3939</a></div></div>
<div class="ttc" id="thread_8c_html_a4f32ff5ab7d1882a7f89d5ffef1eeeab"><div class="ttname"><a href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a></div><div class="ttdeci">static const rb_data_type_t thgroup_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03949">thread.c:3949</a></div></div>
<div class="ttc" id="structthgroup_html_aa5b37f649f8c3b1ae5f73092b103f93b"><div class="ttname"><a href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">thgroup::group</a></div><div class="ttdeci">VALUE group</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03940">thread.c:3940</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa536a489522dc26a9dc4ca44b99ffd13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thgroup_enclose </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04029">4029</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;{</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="keyword">struct </span><a class="code" href="structthgroup.html">thgroup</a> *data;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    TypedData_Get_Struct(<a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>, <span class="keyword">struct</span> <a class="code" href="structthgroup.html">thgroup</a>, &amp;<a class="code" href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a>, data);</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    data-&gt;<a class="code" href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">enclosed</a> = 1;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;}</div>
<div class="ttc" id="structthgroup_html"><div class="ttname"><a href="structthgroup.html">thgroup</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03938">thread.c:3938</a></div></div>
<div class="ttc" id="structthgroup_html_a4ffaadea033b535731f527013e334eb1"><div class="ttname"><a href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">thgroup::enclosed</a></div><div class="ttdeci">int enclosed</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03939">thread.c:3939</a></div></div>
<div class="ttc" id="thread_8c_html_a4f32ff5ab7d1882a7f89d5ffef1eeeab"><div class="ttname"><a href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a></div><div class="ttdeci">static const rb_data_type_t thgroup_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03949">thread.c:3949</a></div></div>
<div class="ttc" id="structthgroup_html_aa5b37f649f8c3b1ae5f73092b103f93b"><div class="ttname"><a href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">thgroup::group</a></div><div class="ttdeci">VALUE group</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03940">thread.c:3940</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52da755c3a2112ae2c954d7d0a44a971"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thgroup_enclosed_p </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04048">4048</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;{</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    <span class="keyword">struct </span><a class="code" href="structthgroup.html">thgroup</a> *data;</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    TypedData_Get_Struct(<a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>, <span class="keyword">struct</span> <a class="code" href="structthgroup.html">thgroup</a>, &amp;<a class="code" href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a>, data);</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    <span class="keywordflow">if</span> (data-&gt;<a class="code" href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">enclosed</a>)</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;}</div>
<div class="ttc" id="structthgroup_html"><div class="ttname"><a href="structthgroup.html">thgroup</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03938">thread.c:3938</a></div></div>
<div class="ttc" id="structthgroup_html_a4ffaadea033b535731f527013e334eb1"><div class="ttname"><a href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">thgroup::enclosed</a></div><div class="ttdeci">int enclosed</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03939">thread.c:3939</a></div></div>
<div class="ttc" id="thread_8c_html_a4f32ff5ab7d1882a7f89d5ffef1eeeab"><div class="ttname"><a href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a></div><div class="ttdeci">static const rb_data_type_t thgroup_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03949">thread.c:3949</a></div></div>
<div class="ttc" id="structthgroup_html_aa5b37f649f8c3b1ae5f73092b103f93b"><div class="ttname"><a href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">thgroup::group</a></div><div class="ttdeci">VALUE group</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03940">thread.c:3940</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b79b62809307da300051a1fadf58b3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thgroup_list </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03997">3997</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;{</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    VALUE ary = <a class="code" href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a>();</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <a class="code" href="structrb__vm__struct.html">rb_vm_t</a> *vm = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = 0;</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    list_for_each(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">living_threads</a>, th, vmlt_node) {</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a> == <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>) {</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;        <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(ary, th-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>);</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    }</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    }</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    <span class="keywordflow">return</span> ary;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3fa7c7d516fe265dbbd215eed5da5a20"><div class="ttname"><a href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">rb_thread_struct::thgroup</a></div><div class="ttdeci">VALUE thgroup</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00679">vm_core.h:679</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="array_8c_html_a9518114fd36cb4ef4656ec1dc63348c9"><div class="ttname"><a href="array_8c.html#a9518114fd36cb4ef4656ec1dc63348c9">rb_ary_new</a></div><div class="ttdeci">VALUE rb_ary_new(void)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00498">array.c:498</a></div></div>
<div class="ttc" id="structthgroup_html_aa5b37f649f8c3b1ae5f73092b103f93b"><div class="ttname"><a href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">thgroup::group</a></div><div class="ttdeci">VALUE group</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03940">thread.c:3940</a></div></div>
<div class="ttc" id="structrb__vm__struct_html"><div class="ttname"><a href="structrb__vm__struct.html">rb_vm_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00415">vm_core.h:415</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_afee545bee981b78e98fe5bf6a6e1fe57"><div class="ttname"><a href="structrb__vm__struct.html#afee545bee981b78e98fe5bf6a6e1fe57">rb_vm_struct::living_threads</a></div><div class="ttdeci">struct list_head living_threads</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00424">vm_core.h:424</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a153ea4500a0bbc906b172a26745eb197"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t thgroup_memsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03944">3944</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;{</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;    <span class="keywordflow">return</span> ptr ? <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structthgroup.html">thgroup</a>) : 0;</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;}</div>
<div class="ttc" id="structthgroup_html"><div class="ttname"><a href="structthgroup.html">thgroup</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03938">thread.c:3938</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48793bd3cca25363c536a779f4e1b911"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thgroup_s_alloc </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03975">3975</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;{</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    VALUE <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>;</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="keyword">struct </span><a class="code" href="structthgroup.html">thgroup</a> *data;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    group = TypedData_Make_Struct(klass, <span class="keyword">struct</span> <a class="code" href="structthgroup.html">thgroup</a>, &amp;<a class="code" href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a>, data);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;    data-&gt;<a class="code" href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">enclosed</a> = 0;</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    data-&gt;<a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a> = <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">group</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;}</div>
<div class="ttc" id="structthgroup_html"><div class="ttname"><a href="structthgroup.html">thgroup</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03938">thread.c:3938</a></div></div>
<div class="ttc" id="structthgroup_html_a4ffaadea033b535731f527013e334eb1"><div class="ttname"><a href="structthgroup.html#a4ffaadea033b535731f527013e334eb1">thgroup::enclosed</a></div><div class="ttdeci">int enclosed</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03939">thread.c:3939</a></div></div>
<div class="ttc" id="thread_8c_html_a4f32ff5ab7d1882a7f89d5ffef1eeeab"><div class="ttname"><a href="thread_8c.html#a4f32ff5ab7d1882a7f89d5ffef1eeeab">thgroup_data_type</a></div><div class="ttdeci">static const rb_data_type_t thgroup_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03949">thread.c:3949</a></div></div>
<div class="ttc" id="structthgroup_html_aa5b37f649f8c3b1ae5f73092b103f93b"><div class="ttname"><a href="structthgroup.html#aa5b37f649f8c3b1ae5f73092b103f93b">thgroup::group</a></div><div class="ttdeci">VALUE group</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03940">thread.c:3940</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad56b10284a01f2eb600a8c1ae94ce6fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_cleanup_func </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>th_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atfork</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00517">517</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = th_ptr;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a> = Qfalse;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="thread_8c.html#a5111fe60b8b672c2f1dc6f7844b6b8ae">thread_cleanup_func_before_exec</a>(th_ptr);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">     * Unfortunately, we can&#39;t release native threading resource at fork</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">     * because libc may have unstable locking state therefore touching</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">     * a threading resource may cause a deadlock.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (atfork)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    native_mutex_destroy(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    native_thread_destroy(th);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_a5111fe60b8b672c2f1dc6f7844b6b8ae"><div class="ttname"><a href="thread_8c.html#a5111fe60b8b672c2f1dc6f7844b6b8ae">thread_cleanup_func_before_exec</a></div><div class="ttdeci">static void thread_cleanup_func_before_exec(void *th_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00506">thread.c:506</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ab0435aec1daf59ef6caceee7004a7cfb"><div class="ttname"><a href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">rb_thread_struct::locking_mutex</a></div><div class="ttdeci">VALUE locking_mutex</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00700">vm_core.h:700</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5111fe60b8b672c2f1dc6f7844b6b8ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_cleanup_func_before_exec </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>th_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00506">506</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = th_ptr;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">machine</a>.<a class="code" href="structrb__thread__struct.html#a2089c00ce922cd71f5138156baec42a9">stack_start</a> = th-&gt;<a class="code" href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">machine</a>.<a class="code" href="structrb__thread__struct.html#a17c5325fb6cbb331e29ab27d12c646ae">stack_end</a> = 0;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">#ifdef __ia64</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">machine</a>.register_stack_start = th-&gt;<a class="code" href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">machine</a>.register_stack_end = 0;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a17c5325fb6cbb331e29ab27d12c646ae"><div class="ttname"><a href="structrb__thread__struct.html#a17c5325fb6cbb331e29ab27d12c646ae">rb_thread_struct::stack_end</a></div><div class="ttdeci">VALUE * stack_end</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00734">vm_core.h:734</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a01f9dc59dc4c1d9dd5f559ea6c28bd05"><div class="ttname"><a href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">rb_thread_struct::machine</a></div><div class="ttdeci">struct rb_thread_struct::@73 machine</div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a2089c00ce922cd71f5138156baec42a9"><div class="ttname"><a href="structrb__thread__struct.html#a2089c00ce922cd71f5138156baec42a9">rb_thread_struct::stack_start</a></div><div class="ttdeci">VALUE * stack_start</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00733">vm_core.h:733</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a450e32771d75af4d10525228379223dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_create_core </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE(*)(ANYARGS)&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00668">668</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;{</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th, *current_th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (OBJ_FROZEN(<a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structthgroup.html">thgroup</a>)) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>,</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;         <span class="stringliteral">&quot;can&#39;t start a new thread (frozen ThreadGroup)&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thval, th);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">/* setup thread environment */</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">first_func</a> = fn;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">first_proc</a> = fn ? Qfalse : <a class="code" href="proc_8c.html#a7b330d2905c5f0c9a68cef4ebba5c00f">rb_block_proc</a>();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">first_args</a> = args; <span class="comment">/* GC: shouldn&#39;t put before above line */</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a> = current_th-&gt;<a class="code" href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">priority</a>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a> = current_th-&gt;<a class="code" href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">thgroup</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">pending_interrupt_queue</a> = <a class="code" href="array_8c.html#aaf7e3ca42191580b60f398d5ec466766">rb_ary_tmp_new</a>(0);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">pending_interrupt_queue_checked</a> = 0;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a> = <a class="code" href="array_8c.html#a4ed6dfd78eb5519d446c519e364ef3ab">rb_ary_dup</a>(current_th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="internal_8h.html#a08da8ed22a4bf2eaed0d26edff2a6222">RBASIC_CLEAR_CLASS</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">pending_interrupt_mask_stack</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">interrupt_mask</a> = 0;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    native_mutex_initialize(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">interrupt_lock</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    native_cond_initialize(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">interrupt_cond</a>, RB_CONDATTR_CLOCK_MONOTONIC);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">/* kick thread */</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    err = native_thread_create(th);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;can&#39;t create Thread: %s&quot;</span>, strerror(err));</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="vm__core_8h.html#a6bf6f55f60170a6c9d48f8002a49b0b2">rb_vm_living_threads_insert</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>, th);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> thval;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="ttc" id="internal_8h_html_a08da8ed22a4bf2eaed0d26edff2a6222"><div class="ttname"><a href="internal_8h.html#a08da8ed22a4bf2eaed0d26edff2a6222">RBASIC_CLEAR_CLASS</a></div><div class="ttdeci">#define RBASIC_CLEAR_CLASS(obj)</div><div class="ttdef"><b>Definition:</b> <a href="internal_8h_source.html#l00969">internal.h:969</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a33cad2d14cf2e5e9e96385eafc14d2fe"><div class="ttname"><a href="structrb__thread__struct.html#a33cad2d14cf2e5e9e96385eafc14d2fe">rb_thread_struct::pending_interrupt_queue_checked</a></div><div class="ttdeci">int pending_interrupt_queue_checked</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00693">vm_core.h:693</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a979a16137dbb149acf7a8fd194946a24"><div class="ttname"><a href="structrb__thread__struct.html#a979a16137dbb149acf7a8fd194946a24">rb_thread_struct::pending_interrupt_mask_stack</a></div><div class="ttdeci">VALUE pending_interrupt_mask_stack</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00692">vm_core.h:692</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6bf6f55f60170a6c9d48f8002a49b0b2"><div class="ttname"><a href="vm__core_8h.html#a6bf6f55f60170a6c9d48f8002a49b0b2">rb_vm_living_threads_insert</a></div><div class="ttdeci">static void rb_vm_living_threads_insert(rb_vm_t *vm, rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01013">vm_core.h:1013</a></div></div>
<div class="ttc" id="array_8c_html_aaf7e3ca42191580b60f398d5ec466766"><div class="ttname"><a href="array_8c.html#aaf7e3ca42191580b60f398d5ec466766">rb_ary_tmp_new</a></div><div class="ttdeci">VALUE rb_ary_tmp_new(long capa)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00537">array.c:537</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3fa7c7d516fe265dbbd215eed5da5a20"><div class="ttname"><a href="structrb__thread__struct.html#a3fa7c7d516fe265dbbd215eed5da5a20">rb_thread_struct::thgroup</a></div><div class="ttdeci">VALUE thgroup</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00679">vm_core.h:679</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structthgroup_html"><div class="ttname"><a href="structthgroup.html">thgroup</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03938">thread.c:3938</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="proc_8c_html_a7b330d2905c5f0c9a68cef4ebba5c00f"><div class="ttname"><a href="proc_8c.html#a7b330d2905c5f0c9a68cef4ebba5c00f">rb_block_proc</a></div><div class="ttdeci">VALUE rb_block_proc(void)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00640">proc.c:640</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aefaadd717ae62c44343b7bc767db6c5b"><div class="ttname"><a href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">rb_thread_struct::first_proc</a></div><div class="ttdeci">VALUE first_proc</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00727">vm_core.h:727</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ad04e9258ee723608388a8aa2009b2f65"><div class="ttname"><a href="structrb__thread__struct.html#ad04e9258ee723608388a8aa2009b2f65">rb_thread_struct::interrupt_cond</a></div><div class="ttdeci">rb_nativethread_cond_t interrupt_cond</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00698">vm_core.h:698</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aec8d3fa76bacce31680b55dd03eac0e9"><div class="ttname"><a href="structrb__thread__struct.html#aec8d3fa76bacce31680b55dd03eac0e9">rb_thread_struct::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00674">vm_core.h:674</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a02e88e845f2c9727cb5d52bd64134ec9"><div class="ttname"><a href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">rb_thread_struct::first_func</a></div><div class="ttdeci">VALUE(* first_func)(ANYARGS)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00729">vm_core.h:729</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ac0efa5cb7f18b285cc3415f47930c4e6"><div class="ttname"><a href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">rb_thread_struct::first_args</a></div><div class="ttdeci">VALUE first_args</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00728">vm_core.h:728</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_abbde881c028e6a14d7740757c9d1f27b"><div class="ttname"><a href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">rb_thread_struct::interrupt_mask</a></div><div class="ttdeci">unsigned long interrupt_mask</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00696">vm_core.h:696</a></div></div>
<div class="ttc" id="array_8c_html_a4ed6dfd78eb5519d446c519e364ef3ab"><div class="ttname"><a href="array_8c.html#a4ed6dfd78eb5519d446c519e364ef3ab">rb_ary_dup</a></div><div class="ttdeci">VALUE rb_ary_dup(VALUE ary)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l01924">array.c:1924</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a98d4e0ac407d2babd9e5e74bbbcb1225"><div class="ttname"><a href="structrb__thread__struct.html#a98d4e0ac407d2babd9e5e74bbbcb1225">rb_thread_struct::interrupt_lock</a></div><div class="ttdeci">rb_nativethread_lock_t interrupt_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00697">vm_core.h:697</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aafba3f4f103c0c0d4bf0ff37d278c856"><div class="ttname"><a href="structrb__thread__struct.html#aafba3f4f103c0c0d4bf0ff37d278c856">rb_thread_struct::pending_interrupt_queue</a></div><div class="ttdeci">VALUE pending_interrupt_queue</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00691">vm_core.h:691</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a64e838d5fd91fcb827d9621f5909de3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_initialize </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00763">763</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a>()) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;must be called with a block&quot;</span>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">first_args</a>) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    VALUE proc = th-&gt;<a class="code" href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">first_proc</a>, line, loc;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *file;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">if</span> (!proc || !RTEST(loc = <a class="code" href="internal_8h.html#ac3a12eb7e4f35538dfd8cdd35d7f1155">rb_proc_location</a>(proc))) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;already initialized thread&quot;</span>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    file = RSTRING_PTR(RARRAY_AREF(loc, 0));</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (NIL_P(line = RARRAY_AREF(loc, 1))) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;already initialized thread - %s&quot;</span>,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;             file);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;already initialized thread - %s:%d&quot;</span>,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                 file, NUM2INT(line));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a>(thread, args, 0);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="eval_8c_html_aea346c4eb8bc06df88422e956bb05fec"><div class="ttname"><a href="eval_8c.html#aea346c4eb8bc06df88422e956bb05fec">rb_block_given_p</a></div><div class="ttdeci">int rb_block_given_p(void)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00772">eval.c:772</a></div></div>
<div class="ttc" id="thread_8c_html_a450e32771d75af4d10525228379223dc"><div class="ttname"><a href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a></div><div class="ttdeci">static VALUE thread_create_core(VALUE thval, VALUE args, VALUE(*fn)(ANYARGS))</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00668">thread.c:668</a></div></div>
<div class="ttc" id="internal_8h_html_ac3a12eb7e4f35538dfd8cdd35d7f1155"><div class="ttname"><a href="internal_8h.html#ac3a12eb7e4f35538dfd8cdd35d7f1155">rb_proc_location</a></div><div class="ttdeci">VALUE rb_proc_location(VALUE self)</div><div class="ttdef"><b>Definition:</b> <a href="proc_8c_source.html#l00965">proc.c:965</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aefaadd717ae62c44343b7bc767db6c5b"><div class="ttname"><a href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">rb_thread_struct::first_proc</a></div><div class="ttdeci">VALUE first_proc</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00727">vm_core.h:727</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ac0efa5cb7f18b285cc3415f47930c4e6"><div class="ttname"><a href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">rb_thread_struct::first_args</a></div><div class="ttdeci">VALUE first_args</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00728">vm_core.h:728</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf050af0715e094ffe9663cf8133aa35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_join </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>target_th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00851">851</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keyword">struct </span><a class="code" href="structjoin__arg.html">join_arg</a> arg;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (th == target_th) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;Target thread must not be current thread&quot;</span>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;main_thread == target_th) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;Target thread must not be main thread&quot;</span>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    arg.target = target_th;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    arg.waiting = th;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    arg.delay = <a class="code" href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">delay</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread_join (thid: %&quot;</span><a class="code" href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a><span class="stringliteral">&quot;)\n&quot;</span>, <a class="code" href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a>(target_th));</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (target_th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> != <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="structrb__thread__list__struct.html">rb_thread_list_t</a> <a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    list.<a class="code" href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">next</a> = target_th-&gt;<a class="code" href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">join_list</a>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    list.<a class="code" href="structrb__thread__list__struct.html#aaa4fb8ff9377e850a1bbd889fc37ccaa">th</a> = th;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    target_th-&gt;<a class="code" href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">join_list</a> = &amp;<a class="code" href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a>(<a class="code" href="thread_8c.html#a2c678d21b38b8a46d8986b820619214a">thread_join_sleep</a>, (VALUE)&amp;arg,</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;               <a class="code" href="thread_8c.html#a2ce68a55ac4d23d55e79a69b4afe2dbe">remove_from_join_list</a>, (VALUE)&amp;arg)) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread_join: success (thid: %&quot;</span><a class="code" href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;         <a class="code" href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a>(target_th));</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">if</span> (target_th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a> != Qnil) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    VALUE err = target_th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (FIXNUM_P(err)) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">switch</span> (err) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;          <span class="keywordflow">case</span> INT2FIX(<a class="code" href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a>):</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment">/* OK. killed. */</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        break;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;thread_join: Fixnum (%d) should not reach here.&quot;</span>, FIX2INT(err));</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="internal_8h.html#a857a0efcf1d1fc3208be66f0b070a0d4">THROW_DATA_P</a>(target_th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a>)) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;thread_join: THROW_DATA should not reach here.&quot;</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="comment">/* normal exception */</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="eval_8c.html#a237939d28c83950b84fb6a45ccca53a0">rb_exc_raise</a>(err);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">return</span> target_th-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a45c0e5bcba9d684be932ae89428fb218"><div class="ttname"><a href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">rb_thread_struct::join_list</a></div><div class="ttdeci">rb_thread_list_t * join_list</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00725">vm_core.h:725</a></div></div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="thread_8c_html_a2c678d21b38b8a46d8986b820619214a"><div class="ttname"><a href="thread_8c.html#a2c678d21b38b8a46d8986b820619214a">thread_join_sleep</a></div><div class="ttdeci">static VALUE thread_join_sleep(VALUE arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00824">thread.c:824</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html_aaa4fb8ff9377e850a1bbd889fc37ccaa"><div class="ttname"><a href="structrb__thread__list__struct.html#aaa4fb8ff9377e850a1bbd889fc37ccaa">rb_thread_list_struct::th</a></div><div class="ttdeci">struct rb_thread_struct * th</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00611">vm_core.h:611</a></div></div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="thread_8c_html_a2ce68a55ac4d23d55e79a69b4afe2dbe"><div class="ttname"><a href="thread_8c.html#a2ce68a55ac4d23d55e79a69b4afe2dbe">remove_from_join_list</a></div><div class="ttdeci">static VALUE remove_from_join_list(VALUE arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00803">thread.c:803</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a8561cf624a81dc63b02734902fc09bd0"><div class="ttname"><a href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a></div><div class="ttdeci">#define thread_id_str(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00248">thread.c:248</a></div></div>
<div class="ttc" id="internal_8h_html_a857a0efcf1d1fc3208be66f0b070a0d4"><div class="ttname"><a href="internal_8h.html#a857a0efcf1d1fc3208be66f0b070a0d4">THROW_DATA_P</a></div><div class="ttdeci">#define THROW_DATA_P(err)</div><div class="ttdef"><b>Definition:</b> <a href="internal_8h_source.html#l00578">internal.h:578</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a7490e601d6a9d97a79d4d895ad73c93a"><div class="ttname"><a href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a></div><div class="ttdeci">#define TAG_FATAL</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00199">eval_intern.h:199</a></div></div>
<div class="ttc" id="thread_8c_html_a21570891a952bdfe6b439219b20a7cc7"><div class="ttname"><a href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a></div><div class="ttdeci">#define PRI_THREAD_ID</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00249">thread.c:249</a></div></div>
<div class="ttc" id="structjoin__arg_html"><div class="ttname"><a href="structjoin__arg.html">join_arg</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00797">thread.c:797</a></div></div>
<div class="ttc" id="eval_8c_html_a237939d28c83950b84fb6a45ccca53a0"><div class="ttname"><a href="eval_8c.html#a237939d28c83950b84fb6a45ccca53a0">rb_exc_raise</a></div><div class="ttdeci">void rb_exc_raise(VALUE mesg)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00598">eval.c:598</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html"><div class="ttname"><a href="structrb__thread__list__struct.html">rb_thread_list_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00609">vm_core.h:609</a></div></div>
<div class="ttc" id="eval_8c_html_a8061198378fb16adeb931f90540b2839"><div class="ttname"><a href="eval_8c.html#a8061198378fb16adeb931f90540b2839">rb_ensure</a></div><div class="ttdeci">VALUE rb_ensure(VALUE(*b_proc)(ANYARGS), VALUE data1, VALUE(*e_proc)(ANYARGS), VALUE data2)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00899">eval.c:899</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="encoding_8c_html_a05f70dacbe595d27364e1e014efb0c8e"><div class="ttname"><a href="encoding_8c.html#a05f70dacbe595d27364e1e014efb0c8e">list</a></div><div class="ttdeci">struct rb_encoding_entry * list</div><div class="ttdef"><b>Definition:</b> <a href="encoding_8c_source.html#l00047">encoding.c:47</a></div></div>
<div class="ttc" id="structjoin__arg_html_a83bbfdc985f02f1c287f160b144b3e3c"><div class="ttname"><a href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">join_arg::delay</a></div><div class="ttdeci">double delay</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00799">thread.c:799</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html_a339b9797854dd0bf3278290d7b2d8de3"><div class="ttname"><a href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">rb_thread_list_struct::next</a></div><div class="ttdeci">struct rb_thread_list_struct * next</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00610">vm_core.h:610</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a173e2da61fa57c7044fd7874a8c7a924"><div class="ttname"><a href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">rb_thread_struct::errinfo</a></div><div class="ttdeci">VALUE errinfo</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00683">vm_core.h:683</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6cfcd3997994924c8cd13c3b5c099ec6"><div class="ttname"><a href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a></div><div class="ttdeci">#define GET_VM()</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01068">vm_core.h:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84e1f762956dd3202f65d0066d249c5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_join_m </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00946">946</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;{</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *target_th;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">delay</a> = <a class="code" href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    VALUE limit;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(<span class="keyword">self</span>, target_th);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a>(<a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>, <span class="stringliteral">&quot;01&quot;</span>, &amp;limit);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (!NIL_P(limit)) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    delay = <a class="code" href="object_8c.html#ac17ffe284d494516df8d9e9d3e12e4f2">rb_num2dbl</a>(limit);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#abf050af0715e094ffe9663cf8133aa35">thread_join</a>(target_th, delay);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;}</div>
<div class="ttc" id="object_8c_html_ac17ffe284d494516df8d9e9d3e12e4f2"><div class="ttname"><a href="object_8c.html#ac17ffe284d494516df8d9e9d3e12e4f2">rb_num2dbl</a></div><div class="ttdeci">double rb_num2dbl(VALUE val)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l02989">object.c:2989</a></div></div>
<div class="ttc" id="thread_8c_html_abf050af0715e094ffe9663cf8133aa35"><div class="ttname"><a href="thread_8c.html#abf050af0715e094ffe9663cf8133aa35">thread_join</a></div><div class="ttdeci">static VALUE thread_join(rb_thread_t *target_th, double delay)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00851">thread.c:851</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="thread_8c_html_a7356e467a6753c4d54a1f6e1ec7bc04c"><div class="ttname"><a href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a></div><div class="ttdeci">#define DELAY_INFTY</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00795">thread.c:795</a></div></div>
<div class="ttc" id="group__defmethod_html_gaa7bed88640f01bee619f85fda09d28d7"><div class="ttname"><a href="group__defmethod.html#gaa7bed88640f01bee619f85fda09d28d7">rb_scan_args</a></div><div class="ttdeci">int rb_scan_args(int argc, const VALUE *argv, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="class_8c_source.html#l01731">class.c:1731</a></div></div>
<div class="ttc" id="structjoin__arg_html_a83bbfdc985f02f1c287f160b144b3e3c"><div class="ttname"><a href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">join_arg::delay</a></div><div class="ttdeci">double delay</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00799">thread.c:799</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c678d21b38b8a46d8986b820619214a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_join_sleep </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00824">824</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keyword">struct </span><a class="code" href="structjoin__arg.html">join_arg</a> *p = (<span class="keyword">struct </span><a class="code" href="structjoin__arg.html">join_arg</a> *)arg;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *target_th = p-&gt;<a class="code" href="structjoin__arg.html#a4d6f7aa34760cb966c63da5681a561ad">target</a>, *th = p-&gt;<a class="code" href="structjoin__arg.html#ac4b4856755e905a4552e4130f9afb8aa">waiting</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> forever = p-&gt;<a class="code" href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">delay</a> == <a class="code" href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> limit = forever ? 0 : <a class="code" href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a>() + p-&gt;<a class="code" href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">delay</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">while</span> (target_th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> != <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (forever) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a>(th, 1, 0);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordtype">double</span> now = <a class="code" href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a>();</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">if</span> (now &gt; limit) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread_join: timeout (thid: %&quot;</span><a class="code" href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                 <a class="code" href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a>(target_th));</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">return</span> Qfalse;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="thread_8c.html#a04a247f73e28d3c9ed1f98ad9528e0b9">sleep_wait_for_interrupt</a>(th, limit - now, 0);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread_join: interrupted (thid: %&quot;</span><a class="code" href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a><span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;             <a class="code" href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a>(target_th));</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">return</span> Qtrue;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa735666902e716ce922f814e42f44f4f"><div class="ttname"><a href="thread_8c.html#aa735666902e716ce922f814e42f44f4f">sleep_forever</a></div><div class="ttdeci">static void sleep_forever(rb_thread_t *th, int nodeadlock, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01038">thread.c:1038</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a8561cf624a81dc63b02734902fc09bd0"><div class="ttname"><a href="thread_8c.html#a8561cf624a81dc63b02734902fc09bd0">thread_id_str</a></div><div class="ttdeci">#define thread_id_str(th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00248">thread.c:248</a></div></div>
<div class="ttc" id="thread_8c_html_a61fb24a433044184448557b610073957"><div class="ttname"><a href="thread_8c.html#a61fb24a433044184448557b610073957">timeofday</a></div><div class="ttdeci">static double timeofday(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01135">thread.c:1135</a></div></div>
<div class="ttc" id="thread_8c_html_a21570891a952bdfe6b439219b20a7cc7"><div class="ttname"><a href="thread_8c.html#a21570891a952bdfe6b439219b20a7cc7">PRI_THREAD_ID</a></div><div class="ttdeci">#define PRI_THREAD_ID</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00249">thread.c:249</a></div></div>
<div class="ttc" id="structjoin__arg_html"><div class="ttname"><a href="structjoin__arg.html">join_arg</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00797">thread.c:797</a></div></div>
<div class="ttc" id="structjoin__arg_html_a4d6f7aa34760cb966c63da5681a561ad"><div class="ttname"><a href="structjoin__arg.html#a4d6f7aa34760cb966c63da5681a561ad">join_arg::target</a></div><div class="ttdeci">rb_thread_t * target</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00798">thread.c:798</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="thread_8c_html_a04a247f73e28d3c9ed1f98ad9528e0b9"><div class="ttname"><a href="thread_8c.html#a04a247f73e28d3c9ed1f98ad9528e0b9">sleep_wait_for_interrupt</a></div><div class="ttdeci">static void sleep_wait_for_interrupt(rb_thread_t *th, double sleepsec, int spurious_check)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01153">thread.c:1153</a></div></div>
<div class="ttc" id="thread_8c_html_a7356e467a6753c4d54a1f6e1ec7bc04c"><div class="ttname"><a href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a></div><div class="ttdeci">#define DELAY_INFTY</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00795">thread.c:795</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structjoin__arg_html_ac4b4856755e905a4552e4130f9afb8aa"><div class="ttname"><a href="structjoin__arg.html#ac4b4856755e905a4552e4130f9afb8aa">join_arg::waiting</a></div><div class="ttdeci">rb_thread_t * waiting</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00798">thread.c:798</a></div></div>
<div class="ttc" id="structjoin__arg_html_a83bbfdc985f02f1c287f160b144b3e3c"><div class="ttname"><a href="structjoin__arg.html#a83bbfdc985f02f1c287f160b144b3e3c">join_arg::delay</a></div><div class="ttdeci">double delay</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00799">thread.c:799</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5280a8a3bac3235afdeeecb5f667725"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_keys_i </td>
          <td>(</td>
          <td class="paramtype">ID&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>ary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03034">3034</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;{</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    <a class="code" href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a>(ary, ID2SYM(<a class="code" href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a>));</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <span class="keywordflow">return</span> ST_CONTINUE;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;}</div>
<div class="ttc" id="array_8c_html_a59d553a8cd781364b8bcb0deae25cca2"><div class="ttname"><a href="array_8c.html#a59d553a8cd781364b8bcb0deae25cca2">rb_ary_push</a></div><div class="ttdeci">VALUE rb_ary_push(VALUE ary, VALUE item)</div><div class="ttdef"><b>Definition:</b> <a href="array_8c_source.html#l00910">array.c:910</a></div></div>
<div class="ttc" id="random_8c_html_a742229490b6759a90ece7ba82ba129d5"><div class="ttname"><a href="random_8c.html#a742229490b6759a90ece7ba82ba129d5">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition:</b> <a href="random_8c_source.html#l01398">random.c:1398</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6dcafa51e28d3098a07ae432cc74d8b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_raise_m </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02156">2156</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;{</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *target_th;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>();</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(<span class="keyword">self</span>, target_th);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <a class="code" href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a>(target_th, <a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="comment">/* To perform Thread.current.raise as Kernel.raise */</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">if</span> (th == target_th) {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a>(th);</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_aa901d11cf0deaed13a18e08e3d03d1d9"><div class="ttname"><a href="vm__core_8h.html#aa901d11cf0deaed13a18e08e3d03d1d9">RUBY_VM_CHECK_INTS</a></div><div class="ttdeci">#define RUBY_VM_CHECK_INTS(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01137">vm_core.h:1137</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a75ac42869e2371ef3d57c096533e10c6"><div class="ttname"><a href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a></div><div class="ttdeci">static VALUE rb_threadptr_raise(rb_thread_t *, int, VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02043">thread.c:2043</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ed18e8b46c8e0e66388f04dfde704ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_s_current </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02408">2408</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;{</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#ac41dd89ae3df1fc1d9968c8239659ce3">rb_thread_current</a>();</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ac41dd89ae3df1fc1d9968c8239659ce3"><div class="ttname"><a href="thread_8c.html#ac41dd89ae3df1fc1d9968c8239659ce3">rb_thread_current</a></div><div class="ttdeci">VALUE rb_thread_current(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02393">thread.c:2393</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a710162ffb460c0ccee5c5dbbe78d694a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_s_new </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00728">728</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    VALUE thread = <a class="code" href="vm_8c.html#a914b7151a013f7fc163b7024cb00ac87">rb_thread_alloc</a>(klass);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>()-&gt;main_thread-&gt;status == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;can&#39;t alloc thread&quot;</span>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="eval_8c.html#a309fddcede6a18c827b334eb1c4c1acc">rb_obj_call_init</a>(thread, <a class="code" href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a>, <a class="code" href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(thread, th);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">first_args</a>) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a>(<a class="code" href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a>, <span class="stringliteral">&quot;uninitialized thread - check `%&quot;</span>PRIsVALUE<span class="stringliteral">&quot;#initialize&#39;&quot;</span>,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;         klass);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span> thread;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="ttc" id="error_8c_html_a0f771a2840561f1838169b3d7d4616f3"><div class="ttname"><a href="error_8c.html#a0f771a2840561f1838169b3d7d4616f3">rb_raise</a></div><div class="ttdeci">void rb_raise(VALUE exc, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l01932">error.c:1932</a></div></div>
<div class="ttc" id="vm_8c_html_a914b7151a013f7fc163b7024cb00ac87"><div class="ttname"><a href="vm_8c.html#a914b7151a013f7fc163b7024cb00ac87">rb_thread_alloc</a></div><div class="ttdeci">VALUE rb_thread_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l02298">vm.c:2298</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="ruby_8c_html_ad1447518f4372828b8435ae82e48499e"><div class="ttname"><a href="ruby_8c.html#ad1447518f4372828b8435ae82e48499e">argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00129">ruby.c:129</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ac0efa5cb7f18b285cc3415f47930c4e6"><div class="ttname"><a href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">rb_thread_struct::first_args</a></div><div class="ttdeci">VALUE first_args</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00728">vm_core.h:728</a></div></div>
<div class="ttc" id="eval_8c_html_a309fddcede6a18c827b334eb1c4c1acc"><div class="ttname"><a href="eval_8c.html#a309fddcede6a18c827b334eb1c4c1acc">rb_obj_call_init</a></div><div class="ttdeci">void rb_obj_call_init(VALUE obj, int argc, const VALUE *argv)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l01368">eval.c:1368</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
<div class="ttc" id="eval_8c_html_af1c44c481affdca9f221f315a12601bf"><div class="ttname"><a href="eval_8c.html#af1c44c481affdca9f221f315a12601bf">rb_eThreadError</a></div><div class="ttdeci">VALUE rb_eThreadError</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00790">eval.c:790</a></div></div>
<div class="ttc" id="ruby_8c_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="ruby_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="ruby_8c_source.html#l00130">ruby.c:130</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6cfcd3997994924c8cd13c3b5c099ec6"><div class="ttname"><a href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a></div><div class="ttdeci">#define GET_VM()</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01068">vm_core.h:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3334ac127c95c82989183b051af05bfe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_s_pass </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01516">1516</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;{</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="thread_8c.html#ad1fe299d3b5a492259ab4e733832868c">rb_thread_schedule</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_ad1fe299d3b5a492259ab4e733832868c"><div class="ttname"><a href="thread_8c.html#ad1fe299d3b5a492259ab4e733832868c">rb_thread_schedule</a></div><div class="ttdeci">void rb_thread_schedule(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l01221">thread.c:1221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac998e2a6e145d1d0e8d8c0646540da1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_shield_alloc </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04627">4627</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;{</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;    <span class="keywordflow">return</span> TypedData_Wrap_Struct(klass, &amp;<a class="code" href="thread_8c.html#abe0364314ab590bb8023ec98974974e0">thread_shield_data_type</a>, (<span class="keywordtype">void</span> *)<a class="code" href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a>(0));</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_adb2e667ae84ee980ce0eb4aec6b34210"><div class="ttname"><a href="thread_8c.html#adb2e667ae84ee980ce0eb4aec6b34210">mutex_alloc</a></div><div class="ttdeci">static VALUE mutex_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04189">thread.c:4189</a></div></div>
<div class="ttc" id="thread_8c_html_abe0364314ab590bb8023ec98974974e0"><div class="ttname"><a href="thread_8c.html#abe0364314ab590bb8023ec98974974e0">thread_shield_data_type</a></div><div class="ttdeci">static const rb_data_type_t thread_shield_data_type</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04620">thread.c:4620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abbb7cb99a3fd2cd8189b8e27c7125d78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_shield_mark </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04615">4615</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;{</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;    <a class="code" href="gc_8c.html#a98250264e6adf4924cf2becf80122325">rb_gc_mark</a>((VALUE)ptr);</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;}</div>
<div class="ttc" id="gc_8c_html_a98250264e6adf4924cf2becf80122325"><div class="ttname"><a href="gc_8c.html#a98250264e6adf4924cf2becf80122325">rb_gc_mark</a></div><div class="ttdeci">void rb_gc_mark(VALUE ptr)</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l04217">gc.c:4217</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55c3507d4449aa123567d234b0fdd480"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_start </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00756">756</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;{</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a>(<a class="code" href="vm_8c.html#a914b7151a013f7fc163b7024cb00ac87">rb_thread_alloc</a>(klass), args, 0);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="ttc" id="vm_8c_html_a914b7151a013f7fc163b7024cb00ac87"><div class="ttname"><a href="vm_8c.html#a914b7151a013f7fc163b7024cb00ac87">rb_thread_alloc</a></div><div class="ttdeci">VALUE rb_thread_alloc(VALUE klass)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l02298">vm.c:2298</a></div></div>
<div class="ttc" id="thread_8c_html_a450e32771d75af4d10525228379223dc"><div class="ttname"><a href="thread_8c.html#a450e32771d75af4d10525228379223dc">thread_create_core</a></div><div class="ttdeci">static VALUE thread_create_core(VALUE thval, VALUE args, VALUE(*fn)(ANYARGS))</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00668">thread.c:668</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5075169b7397de5fabc52d1f4ddd7cdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int thread_start_func_2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE *&#160;</td>
          <td class="paramname"><em>stack_start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00545">545</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">int</span> state;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    VALUE args = th-&gt;<a class="code" href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">first_args</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="structrb__proc__t.html">rb_proc_t</a> *proc;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="structrb__thread__list__struct.html">rb_thread_list_t</a> *join_list;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *main_th;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    VALUE errinfo = Qnil;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="preprocessor"># ifdef USE_SIGALTSTACK</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordtype">void</span> rb_register_sigaltstack(<a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    rb_register_sigaltstack(th);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (th == th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;thread_start_func_2 must not be used for main thread&quot;</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    ruby_thread_set_native(th);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">machine</a>.<a class="code" href="structrb__thread__struct.html#a2089c00ce922cd71f5138156baec42a9">stack_start</a> = stack_start;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">#ifdef __ia64</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">machine</a>.register_stack_start = register_stack_start;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread start: %p\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    gvl_acquire(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>, th);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread start (get lock): %p\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a>(th);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a>(th);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> ((state = <a class="code" href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a>()) == 0) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="eval__intern_8h.html#ae04396c4a051215fa7a77469d9547933">SAVE_ROOT_JMPBUF</a>(th, {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                native_set_thread_name(th);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">first_func</a>) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <a class="code" href="vm__core_8h.html#ad9cb04a311c21bdbbd936d8f8b7237db">GetProcPtr</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">first_proc</a>, proc);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a> = Qnil;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a0edea360648d045d34bb60e4a91b218a">root_lep</a> = <a class="code" href="vm_8c.html#ab52f1a9275d590532a7bcf08897d0db5">rb_vm_ep_local_ep</a>(proc-&gt;<a class="code" href="structrb__proc__t.html#acf80b0e350012548c28cba1ea64a7a6e">block</a>.<a class="code" href="structrb__block__struct.html#a4b6a1d10dd8dc1167703ec7999b0fbf0">ep</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a7f9d18a3b68b34238986fa27564ee498">root_svar</a> = Qfalse;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <a class="code" href="vm__core_8h.html#aaf6f79a9848eb27bfb82ac0d3ea8e0d9">EXEC_EVENT_HOOK</a>(th, RUBY_EVENT_THREAD_BEGIN, th-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>, 0, 0, Qundef);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a1b297be9273cc68bd7ec30eb99aada0f">value</a> = <a class="code" href="vm_8c.html#a042bbbb9639b7c7db23bd5edfaf8c525">rb_vm_invoke_proc</a>(th, proc, (<span class="keywordtype">int</span>)RARRAY_LEN(args), RARRAY_CONST_PTR(args), 0);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="vm__core_8h.html#aaf6f79a9848eb27bfb82ac0d3ea8e0d9">EXEC_EVENT_HOOK</a>(th, RUBY_EVENT_THREAD_END, th-&gt;<a class="code" href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">self</a>, 0, 0, Qundef);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            th-&gt;<a class="code" href="structrb__thread__struct.html#a1b297be9273cc68bd7ec30eb99aada0f">value</a> = (*th-&gt;<a class="code" href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">first_func</a>)((<span class="keywordtype">void</span> *)args);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        });</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        errinfo = th-&gt;<a class="code" href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">errinfo</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">if</span> (state == <a class="code" href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a>) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="comment">/* fatal error within this thread, need to stop whole script */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="object_8c.html#acf554ed5c1aab2060cff44fad406c5fc">rb_obj_is_kind_of</a>(errinfo, <a class="code" href="error_8c.html#a34c7841e8f21712bc79d7bd6f64483b3">rb_eSystemExit</a>)) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">/* exit on main_thread. */</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a1038a7dea8b630eeb4ee58295576fc97">thread_abort_on_exception</a> ||</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;             th-&gt;<a class="code" href="structrb__thread__struct.html#a3688f0942a79e35b29bbbd289aad4976">abort_on_exception</a> || RTEST(ruby_debug)) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment">/* exit on main_thread */</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        errinfo = Qnil;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a1b297be9273cc68bd7ec30eb99aada0f">value</a> = Qnil;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a>(<span class="stringliteral">&quot;thread end: %p\n&quot;</span>, (<span class="keywordtype">void</span> *)th);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    main_th = th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (main_th == th) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="eval_8c.html#a47d7347c6190a6a0160902a894a55dae">ruby_stop</a>(0);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (RB_TYPE_P(errinfo, T_OBJECT)) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="comment">/* treat with normal error object */</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a>(main_th, 1, &amp;errinfo);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a>();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">/* locking_mutex must be Qfalse */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a> != Qfalse) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <a class="code" href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a>(<span class="stringliteral">&quot;thread_start_func_2: locking_mutex must not be set (%p:%&quot;</span>PRIxVALUE<span class="stringliteral">&quot;)&quot;</span>,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;           (<span class="keywordtype">void</span> *)th, th-&gt;<a class="code" href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">locking_mutex</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">/* delete self other than main thread from living_threads */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="vm__core_8h.html#a630c10a6009dee2c6005c1f4e9491058">rb_vm_living_threads_remove</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>, th);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (main_th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> == <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a> &amp;&amp; <a class="code" href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a>()) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">/* I&#39;m last thread. wake up main thread from rb_thread_terminate_all */</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(main_th);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">/* wake up joining threads */</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    join_list = th-&gt;<a class="code" href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">join_list</a>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">while</span> (join_list) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a>(join_list-&gt;<a class="code" href="structrb__thread__list__struct.html#aaa4fb8ff9377e850a1bbd889fc37ccaa">th</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">switch</span> (join_list-&gt;<a class="code" href="structrb__thread__list__struct.html#aaa4fb8ff9377e850a1bbd889fc37ccaa">th</a>-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>: <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>:</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        join_list-&gt;<a class="code" href="structrb__thread__list__struct.html#aaa4fb8ff9377e850a1bbd889fc37ccaa">th</a>-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a> = <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;          <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        join_list = join_list-&gt;<a class="code" href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">next</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="thread_8c.html#aa411c64669553c03fd84487a7b700d1c">rb_threadptr_unlock_all_locking_mutexes</a>(th);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#afc3db5209f029148069b77512f59665a">root_fiber</a>) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <a class="code" href="internal_8h.html#a4b637deadcdf197f2feef2219eb05855">rb_thread_recycle_stack_release</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#a3fd7aab45a1c539bc9ca022acfc1ad51">stack</a>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#a3fd7aab45a1c539bc9ca022acfc1ad51">stack</a> = 0;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    native_mutex_lock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">thread_destruct_lock</a>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">/* make sure vm-&gt;running_thread never point me after this point.*/</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#a469ec56bec5fad54fa6336d5fde24a03">running_thread</a> = <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    native_mutex_unlock(&amp;th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>-&gt;<a class="code" href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">thread_destruct_lock</a>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="thread_8c.html#ad56b10284a01f2eb600a8c1ae94ce6fd">thread_cleanup_func</a>(th, <a class="code" href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    gvl_release(th-&gt;<a class="code" href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">vm</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_aa411c64669553c03fd84487a7b700d1c"><div class="ttname"><a href="thread_8c.html#aa411c64669553c03fd84487a7b700d1c">rb_threadptr_unlock_all_locking_mutexes</a></div><div class="ttdeci">void rb_threadptr_unlock_all_locking_mutexes(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00446">thread.c:446</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a45c0e5bcba9d684be932ae89428fb218"><div class="ttname"><a href="structrb__thread__struct.html#a45c0e5bcba9d684be932ae89428fb218">rb_thread_struct::join_list</a></div><div class="ttdeci">rb_thread_list_t * join_list</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00725">vm_core.h:725</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3e7d0b05e2d73f324e70c735ba50739e"><div class="ttname"><a href="structrb__thread__struct.html#a3e7d0b05e2d73f324e70c735ba50739e">rb_thread_struct::vm</a></div><div class="ttdeci">rb_vm_t * vm</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00633">vm_core.h:633</a></div></div>
<div class="ttc" id="error_8c_html_a2d5fb28e54f792e7341b2c45f52f3860"><div class="ttname"><a href="error_8c.html#a2d5fb28e54f792e7341b2c45f52f3860">rb_bug</a></div><div class="ttdeci">void rb_bug(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00396">error.c:396</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a0edea360648d045d34bb60e4a91b218a"><div class="ttname"><a href="structrb__thread__struct.html#a0edea360648d045d34bb60e4a91b218a">rb_thread_struct::root_lep</a></div><div class="ttdeci">VALUE * root_lep</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00664">vm_core.h:664</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a469ec56bec5fad54fa6336d5fde24a03"><div class="ttname"><a href="structrb__vm__struct.html#a469ec56bec5fad54fa6336d5fde24a03">rb_vm_struct::running_thread</a></div><div class="ttdeci">struct rb_thread_struct * running_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00422">vm_core.h:422</a></div></div>
<div class="ttc" id="vm__core_8h_html_ad9cb04a311c21bdbbd936d8f8b7237db"><div class="ttname"><a href="vm__core_8h.html#ad9cb04a311c21bdbbd936d8f8b7237db">GetProcPtr</a></div><div class="ttdeci">#define GetProcPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00809">vm_core.h:809</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html_aaa4fb8ff9377e850a1bbd889fc37ccaa"><div class="ttname"><a href="structrb__thread__list__struct.html#aaa4fb8ff9377e850a1bbd889fc37ccaa">rb_thread_list_struct::th</a></div><div class="ttdeci">struct rb_thread_struct * th</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00611">vm_core.h:611</a></div></div>
<div class="ttc" id="thread_8c_html_ac86131edba4a5a668958ce58b661d7ee"><div class="ttname"><a href="thread_8c.html#ac86131edba4a5a668958ce58b661d7ee">rb_thread_alone</a></div><div class="ttdeci">int rb_thread_alone(void)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03047">thread.c:3047</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_afc3db5209f029148069b77512f59665a"><div class="ttname"><a href="structrb__thread__struct.html#afc3db5209f029148069b77512f59665a">rb_thread_struct::root_fiber</a></div><div class="ttdeci">rb_fiber_t * root_fiber</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00753">vm_core.h:753</a></div></div>
<div class="ttc" id="vm__core_8h_html_a630c10a6009dee2c6005c1f4e9491058"><div class="ttname"><a href="vm__core_8h.html#a630c10a6009dee2c6005c1f4e9491058">rb_vm_living_threads_remove</a></div><div class="ttdeci">static void rb_vm_living_threads_remove(rb_vm_t *vm, rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01020">vm_core.h:1020</a></div></div>
<div class="ttc" id="vm_8c_html_a042bbbb9639b7c7db23bd5edfaf8c525"><div class="ttname"><a href="vm_8c.html#a042bbbb9639b7c7db23bd5edfaf8c525">rb_vm_invoke_proc</a></div><div class="ttdeci">VALUE rb_vm_invoke_proc(rb_thread_t *th, rb_proc_t *proc, int argc, const VALUE *argv, const rb_block_t *blockptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l00942">vm.c:942</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a1b297be9273cc68bd7ec30eb99aada0f"><div class="ttname"><a href="structrb__thread__struct.html#a1b297be9273cc68bd7ec30eb99aada0f">rb_thread_struct::value</a></div><div class="ttdeci">VALUE value</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00680">vm_core.h:680</a></div></div>
<div class="ttc" id="regenc_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="regenc_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00063">regenc.h:63</a></div></div>
<div class="ttc" id="thread_8c_html_ad56b10284a01f2eb600a8c1ae94ce6fd"><div class="ttname"><a href="thread_8c.html#ad56b10284a01f2eb600a8c1ae94ce6fd">thread_cleanup_func</a></div><div class="ttdeci">static void thread_cleanup_func(void *th_ptr, int atfork)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00517">thread.c:517</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a7490e601d6a9d97a79d4d895ad73c93a"><div class="ttname"><a href="eval__intern_8h.html#a7490e601d6a9d97a79d4d895ad73c93a">TAG_FATAL</a></div><div class="ttdeci">#define TAG_FATAL</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00199">eval_intern.h:199</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3fd7aab45a1c539bc9ca022acfc1ad51"><div class="ttname"><a href="structrb__thread__struct.html#a3fd7aab45a1c539bc9ca022acfc1ad51">rb_thread_struct::stack</a></div><div class="ttdeci">VALUE * stack</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00636">vm_core.h:636</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4d06135dea1a72a3ab73b20cc1a9fc55"><div class="ttname"><a href="eval__intern_8h.html#a4d06135dea1a72a3ab73b20cc1a9fc55">TH_POP_TAG</a></div><div class="ttdeci">#define TH_POP_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00128">eval_intern.h:128</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a3441e3967c633da99c3dcd025494053e"><div class="ttname"><a href="eval__intern_8h.html#a3441e3967c633da99c3dcd025494053e">EXEC_TAG</a></div><div class="ttdeci">#define EXEC_TAG()</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00172">eval_intern.h:172</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ab0435aec1daf59ef6caceee7004a7cfb"><div class="ttname"><a href="structrb__thread__struct.html#ab0435aec1daf59ef6caceee7004a7cfb">rb_thread_struct::locking_mutex</a></div><div class="ttdeci">VALUE locking_mutex</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00700">vm_core.h:700</a></div></div>
<div class="ttc" id="vm_8c_html_ab52f1a9275d590532a7bcf08897d0db5"><div class="ttname"><a href="vm_8c.html#ab52f1a9275d590532a7bcf08897d0db5">rb_vm_ep_local_ep</a></div><div class="ttdeci">VALUE * rb_vm_ep_local_ep(VALUE *ep)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l00052">vm.c:52</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="thread_8c_html_a75ac42869e2371ef3d57c096533e10c6"><div class="ttname"><a href="thread_8c.html#a75ac42869e2371ef3d57c096533e10c6">rb_threadptr_raise</a></div><div class="ttdeci">static VALUE rb_threadptr_raise(rb_thread_t *, int, VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02043">thread.c:2043</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="thread_8c_html_aa15388c1c819019d2cfa216af70f82bc"><div class="ttname"><a href="thread_8c.html#aa15388c1c819019d2cfa216af70f82bc">thread_debug</a></div><div class="ttdeci">#define thread_debug</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00242">thread.c:242</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a1038a7dea8b630eeb4ee58295576fc97"><div class="ttname"><a href="structrb__vm__struct.html#a1038a7dea8b630eeb4ee58295576fc97">rb_vm_struct::thread_abort_on_exception</a></div><div class="ttdeci">int thread_abort_on_exception</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00429">vm_core.h:429</a></div></div>
<div class="ttc" id="eval_8c_html_a47d7347c6190a6a0160902a894a55dae"><div class="ttname"><a href="eval_8c.html#a47d7347c6190a6a0160902a894a55dae">ruby_stop</a></div><div class="ttdeci">void ruby_stop(int ex)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00268">eval.c:268</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a01f9dc59dc4c1d9dd5f559ea6c28bd05"><div class="ttname"><a href="structrb__thread__struct.html#a01f9dc59dc4c1d9dd5f559ea6c28bd05">rb_thread_struct::machine</a></div><div class="ttdeci">struct rb_thread_struct::@73 machine</div></div>
<div class="ttc" id="vm__core_8h_html_addad24839d7483095151e91b3b83aed6"><div class="ttname"><a href="vm__core_8h.html#addad24839d7483095151e91b3b83aed6">rb_thread_set_current</a></div><div class="ttdeci">#define rb_thread_set_current(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01088">vm_core.h:1088</a></div></div>
<div class="ttc" id="structrb__proc__t_html"><div class="ttname"><a href="structrb__proc__t.html">rb_proc_t</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00812">vm_core.h:812</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html"><div class="ttname"><a href="structrb__thread__list__struct.html">rb_thread_list_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00609">vm_core.h:609</a></div></div>
<div class="ttc" id="thread_8c_html_a13e19f22a75b72b0b2c284f7997a3295"><div class="ttname"><a href="thread_8c.html#a13e19f22a75b72b0b2c284f7997a3295">rb_check_deadlock</a></div><div class="ttdeci">static void rb_check_deadlock(rb_vm_t *vm)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l05176">thread.c:5176</a></div></div>
<div class="ttc" id="eval__intern_8h_html_ae04396c4a051215fa7a77469d9547933"><div class="ttname"><a href="eval__intern_8h.html#ae04396c4a051215fa7a77469d9547933">SAVE_ROOT_JMPBUF</a></div><div class="ttdeci">#define SAVE_ROOT_JMPBUF(th, stmt)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00112">eval_intern.h:112</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_aefaadd717ae62c44343b7bc767db6c5b"><div class="ttname"><a href="structrb__thread__struct.html#aefaadd717ae62c44343b7bc767db6c5b">rb_thread_struct::first_proc</a></div><div class="ttdeci">VALUE first_proc</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00727">vm_core.h:727</a></div></div>
<div class="ttc" id="eval__intern_8h_html_a4410e4208d7ae0de8dae7c5b61f9d55c"><div class="ttname"><a href="eval__intern_8h.html#a4410e4208d7ae0de8dae7c5b61f9d55c">TH_PUSH_TAG</a></div><div class="ttdeci">#define TH_PUSH_TAG(th)</div><div class="ttdef"><b>Definition:</b> <a href="eval__intern_8h_source.html#l00122">eval_intern.h:122</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3688f0942a79e35b29bbbd289aad4976"><div class="ttname"><a href="structrb__thread__struct.html#a3688f0942a79e35b29bbbd289aad4976">rb_thread_struct::abort_on_exception</a></div><div class="ttdeci">int abort_on_exception</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00761">vm_core.h:761</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a02e88e845f2c9727cb5d52bd64134ec9"><div class="ttname"><a href="structrb__thread__struct.html#a02e88e845f2c9727cb5d52bd64134ec9">rb_thread_struct::first_func</a></div><div class="ttdeci">VALUE(* first_func)(ANYARGS)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00729">vm_core.h:729</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ac0efa5cb7f18b285cc3415f47930c4e6"><div class="ttname"><a href="structrb__thread__struct.html#ac0efa5cb7f18b285cc3415f47930c4e6">rb_thread_struct::first_args</a></div><div class="ttdeci">VALUE first_args</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00728">vm_core.h:728</a></div></div>
<div class="ttc" id="internal_8h_html_a4b637deadcdf197f2feef2219eb05855"><div class="ttname"><a href="internal_8h.html#a4b637deadcdf197f2feef2219eb05855">rb_thread_recycle_stack_release</a></div><div class="ttdeci">void rb_thread_recycle_stack_release(VALUE *)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l02069">vm.c:2069</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a7f9d18a3b68b34238986fa27564ee498"><div class="ttname"><a href="structrb__thread__struct.html#a7f9d18a3b68b34238986fa27564ee498">rb_thread_struct::root_svar</a></div><div class="ttdeci">VALUE root_svar</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00665">vm_core.h:665</a></div></div>
<div class="ttc" id="structrb__proc__t_html_acf80b0e350012548c28cba1ea64a7a6e"><div class="ttname"><a href="structrb__proc__t.html#acf80b0e350012548c28cba1ea64a7a6e">rb_proc_t::block</a></div><div class="ttdeci">rb_block_t block</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00813">vm_core.h:813</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a2089c00ce922cd71f5138156baec42a9"><div class="ttname"><a href="structrb__thread__struct.html#a2089c00ce922cd71f5138156baec42a9">rb_thread_struct::stack_start</a></div><div class="ttdeci">VALUE * stack_start</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00733">vm_core.h:733</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_ad8f271ee054c0d65587bb1976b0f802d"><div class="ttname"><a href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">rb_vm_struct::thread_destruct_lock</a></div><div class="ttdeci">rb_nativethread_lock_t thread_destruct_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00419">vm_core.h:419</a></div></div>
<div class="ttc" id="object_8c_html_acf554ed5c1aab2060cff44fad406c5fc"><div class="ttname"><a href="object_8c.html#acf554ed5c1aab2060cff44fad406c5fc">rb_obj_is_kind_of</a></div><div class="ttdeci">VALUE rb_obj_is_kind_of(VALUE obj, VALUE c)</div><div class="ttdef"><b>Definition:</b> <a href="object_8c_source.html#l00643">object.c:643</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
<div class="ttc" id="vm__core_8h_html_aaf6f79a9848eb27bfb82ac0d3ea8e0d9"><div class="ttname"><a href="vm__core_8h.html#aaf6f79a9848eb27bfb82ac0d3ea8e0d9">EXEC_EVENT_HOOK</a></div><div class="ttdeci">#define EXEC_EVENT_HOOK(th_, flag_, self_, id_, klass_, data_)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01182">vm_core.h:1182</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00573">vm_core.h:573</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a6e712e6c5295a4173188139f1d6b7462"><div class="ttname"><a href="structrb__thread__struct.html#a6e712e6c5295a4173188139f1d6b7462">rb_thread_struct::self</a></div><div class="ttdeci">VALUE self</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00632">vm_core.h:632</a></div></div>
<div class="ttc" id="structrb__thread__list__struct_html_a339b9797854dd0bf3278290d7b2d8de3"><div class="ttname"><a href="structrb__thread__list__struct.html#a339b9797854dd0bf3278290d7b2d8de3">rb_thread_list_struct::next</a></div><div class="ttdeci">struct rb_thread_list_struct * next</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00610">vm_core.h:610</a></div></div>
<div class="ttc" id="error_8c_html_a34c7841e8f21712bc79d7bd6f64483b3"><div class="ttname"><a href="error_8c.html#a34c7841e8f21712bc79d7bd6f64483b3">rb_eSystemExit</a></div><div class="ttdeci">VALUE rb_eSystemExit</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00616">error.c:616</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a173e2da61fa57c7044fd7874a8c7a924"><div class="ttname"><a href="structrb__thread__struct.html#a173e2da61fa57c7044fd7874a8c7a924">rb_thread_struct::errinfo</a></div><div class="ttdeci">VALUE errinfo</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00683">vm_core.h:683</a></div></div>
<div class="ttc" id="thread_8c_html_ac46256e91e4796220065f97cd0842a10"><div class="ttname"><a href="thread_8c.html#ac46256e91e4796220065f97cd0842a10">rb_threadptr_interrupt</a></div><div class="ttdeci">void rb_threadptr_interrupt(rb_thread_t *th)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00402">thread.c:402</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
<div class="ttc" id="structrb__block__struct_html_a4b6a1d10dd8dc1167703ec7999b0fbf0"><div class="ttname"><a href="structrb__block__struct.html#a4b6a1d10dd8dc1167703ec7999b0fbf0">rb_block_struct::ep</a></div><div class="ttdeci">VALUE * ep</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00562">vm_core.h:562</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe0c73515070184a3c06cb695ac32863"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* thread_status_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02572">2572</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;{</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="keywordflow">switch</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">status</a>) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a>:</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#a3004e89225a07c08e78af212b40c0e3c">to_kill</a>)</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;aborting&quot;</span>;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;run&quot;</span>;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a>:</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a>:</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;sleep&quot;</span>;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a>:</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;dead&quot;</span>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    }</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;}</div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a2a3c55289e7e45cff110e0e499aba03e">THREAD_KILLED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00576">vm_core.h:576</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75aa6b22e3304bd5ba1d1dad7da9178aa3f">THREAD_STOPPED_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00575">vm_core.h:575</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a3004e89225a07c08e78af212b40c0e3c"><div class="ttname"><a href="structrb__thread__struct.html#a3004e89225a07c08e78af212b40c0e3c">rb_thread_struct::to_kill</a></div><div class="ttdeci">int to_kill</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00673">vm_core.h:673</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a647ed2a802789fff9e511bea4ada1239"><div class="ttname"><a href="structrb__thread__struct.html#a647ed2a802789fff9e511bea4ada1239">rb_thread_struct::status</a></div><div class="ttdeci">enum rb_thread_status status</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00672">vm_core.h:672</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a7b74b43e0bf953520175df870c5aef3c">THREAD_RUNNABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00573">vm_core.h:573</a></div></div>
<div class="ttc" id="vm__core_8h_html_a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980"><div class="ttname"><a href="vm__core_8h.html#a027718c64d1aa742ccdb9c1a68afaa75a79c21bf187ea128d8abffc95f0d86980">THREAD_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00574">vm_core.h:574</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a447024e24d3b6c5fad99702d57b0002f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE thread_value </td>
          <td>(</td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00977">977</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;{</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a>(<span class="keyword">self</span>, th);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="thread_8c.html#abf050af0715e094ffe9663cf8133aa35">thread_join</a>(th, <a class="code" href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a>);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">return</span> th-&gt;<a class="code" href="structrb__thread__struct.html#a1b297be9273cc68bd7ec30eb99aada0f">value</a>;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;}</div>
<div class="ttc" id="thread_8c_html_abf050af0715e094ffe9663cf8133aa35"><div class="ttname"><a href="thread_8c.html#abf050af0715e094ffe9663cf8133aa35">thread_join</a></div><div class="ttdeci">static VALUE thread_join(rb_thread_t *target_th, double delay)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00851">thread.c:851</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a1b297be9273cc68bd7ec30eb99aada0f"><div class="ttname"><a href="structrb__thread__struct.html#a1b297be9273cc68bd7ec30eb99aada0f">rb_thread_struct::value</a></div><div class="ttdeci">VALUE value</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00680">vm_core.h:680</a></div></div>
<div class="ttc" id="thread_8c_html_a7356e467a6753c4d54a1f6e1ec7bc04c"><div class="ttname"><a href="thread_8c.html#a7356e467a6753c4d54a1f6e1ec7bc04c">DELAY_INFTY</a></div><div class="ttdeci">#define DELAY_INFTY</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00795">thread.c:795</a></div></div>
<div class="ttc" id="vm__core_8h_html_a36e942386b2b43383c44e769bffe5808"><div class="ttname"><a href="vm__core_8h.html#a36e942386b2b43383c44e769bffe5808">GetThreadPtr</a></div><div class="ttdeci">#define GetThreadPtr(obj, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00569">vm_core.h:569</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe35d4aeb75e5be28bc0981b69831cd4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a> threadptr_get_interrupts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01943">1943</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;{</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a> interrupt;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <a class="code" href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a> old;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    interrupt = th-&gt;<a class="code" href="structrb__thread__struct.html#ad0533270d757d45edf045b509cb9397d">interrupt_flag</a>;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    old = <a class="code" href="ruby__atomic_8h.html#aea4fd5550837e294e837de36b9e5822f">ATOMIC_CAS</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#ad0533270d757d45edf045b509cb9397d">interrupt_flag</a>, interrupt, interrupt &amp; th-&gt;<a class="code" href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">interrupt_mask</a>);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    } <span class="keywordflow">while</span> (old != interrupt);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">return</span> interrupt &amp; (<a class="code" href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a>)~th-&gt;<a class="code" href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">interrupt_mask</a>;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;}</div>
<div class="ttc" id="ruby__atomic_8h_html_aea4fd5550837e294e837de36b9e5822f"><div class="ttname"><a href="ruby__atomic_8h.html#aea4fd5550837e294e837de36b9e5822f">ATOMIC_CAS</a></div><div class="ttdeci">#define ATOMIC_CAS(var, oldval, newval)</div><div class="ttdef"><b>Definition:</b> <a href="ruby__atomic_8h_source.html#l00132">ruby_atomic.h:132</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_ad0533270d757d45edf045b509cb9397d"><div class="ttname"><a href="structrb__thread__struct.html#ad0533270d757d45edf045b509cb9397d">rb_thread_struct::interrupt_flag</a></div><div class="ttdeci">rb_atomic_t interrupt_flag</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00695">vm_core.h:695</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_abbde881c028e6a14d7740757c9d1f27b"><div class="ttname"><a href="structrb__thread__struct.html#abbde881c028e6a14d7740757c9d1f27b">rb_thread_struct::interrupt_mask</a></div><div class="ttdeci">unsigned long interrupt_mask</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00696">vm_core.h:696</a></div></div>
<div class="ttc" id="ruby__atomic_8h_html_a872a86eed7f070b0ea35b7494fbd9b73"><div class="ttname"><a href="ruby__atomic_8h.html#a872a86eed7f070b0ea35b7494fbd9b73">rb_atomic_t</a></div><div class="ttdeci">int rb_atomic_t</div><div class="ttdef"><b>Definition:</b> <a href="ruby__atomic_8h_source.html#l00120">ruby_atomic.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a757f5968dc4937bbaaec53e29f24fca5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE threadptr_local_aref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02798">2798</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;{</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == <a class="code" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a>) {</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="keywordflow">return</span> th-&gt;<a class="code" href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">local_storage_recursive_hash</a>;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    }</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    st_data_t <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="keywordflow">if</span> (th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a> &amp;&amp; <a class="code" href="st_8c.html#af526fb7d918a9a5ceadadc087e79aa1c">st_lookup</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>, <span class="keywordtype">id</span>, &amp;val)) {</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;        <span class="keywordflow">return</span> (VALUE)<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    }</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    }</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    }</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_af1ef1ecd85eec7b4809f81151ade5248"><div class="ttname"><a href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">rb_thread_struct::local_storage</a></div><div class="ttdeci">st_table * local_storage</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00721">vm_core.h:721</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="st_8c_html_af526fb7d918a9a5ceadadc087e79aa1c"><div class="ttname"><a href="st_8c.html#af526fb7d918a9a5ceadadc087e79aa1c">st_lookup</a></div><div class="ttdeci">int st_lookup(st_table *table, register st_data_t key, st_data_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l00383">st.c:383</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a9a2d8d88fd64ea0c442b0ca5dc9bfdef"><div class="ttname"><a href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">rb_thread_struct::local_storage_recursive_hash</a></div><div class="ttdeci">VALUE local_storage_recursive_hash</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00722">vm_core.h:722</a></div></div>
<div class="ttc" id="thread_8c_html_aff6f884751ace832615a75198562b802"><div class="ttname"><a href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a></div><div class="ttdeci">static ID recursive_key</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02795">thread.c:2795</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01267d71c3a0ad92afcbedc00fa31413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE threadptr_local_aset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02892">2892</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;{</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == <a class="code" href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a>) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">local_storage_recursive_hash</a> = <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    }</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NIL_P(<a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>)) {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>) <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="thread_8c.html#a24921dd43d0a4cdae165758eab29e4b9">st_delete_wrap</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="keywordflow">return</span> Qnil;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    }</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <span class="keywordflow">if</span> (!th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>) {</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a> = <a class="code" href="st_8c.html#a955c6e936b9681649ab9ffa4aa741949">st_init_numtable</a>();</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    }</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <a class="code" href="st_8c.html#a068ebca65df8733df9e368b4d6dd82ca">st_insert</a>(th-&gt;<a class="code" href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">local_storage</a>, <span class="keywordtype">id</span>, <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a>;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    }</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_af1ef1ecd85eec7b4809f81151ade5248"><div class="ttname"><a href="structrb__thread__struct.html#af1ef1ecd85eec7b4809f81151ade5248">rb_thread_struct::local_storage</a></div><div class="ttdeci">st_table * local_storage</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00721">vm_core.h:721</a></div></div>
<div class="ttc" id="st_8c_html_a955c6e936b9681649ab9ffa4aa741949"><div class="ttname"><a href="st_8c.html#a955c6e936b9681649ab9ffa4aa741949">st_init_numtable</a></div><div class="ttdeci">st_table * st_init_numtable(void)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l00241">st.c:241</a></div></div>
<div class="ttc" id="vm__exec_8c_html_adacaabc6bfe49e460c9efda114ac84c8"><div class="ttname"><a href="vm__exec_8c.html#adacaabc6bfe49e460c9efda114ac84c8">val</a></div><div class="ttdeci">#define val</div></div>
<div class="ttc" id="thread_8c_html_a24921dd43d0a4cdae165758eab29e4b9"><div class="ttname"><a href="thread_8c.html#a24921dd43d0a4cdae165758eab29e4b9">st_delete_wrap</a></div><div class="ttdeci">static void st_delete_wrap(st_table *table, st_data_t key)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l00101">thread.c:101</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a9a2d8d88fd64ea0c442b0ca5dc9bfdef"><div class="ttname"><a href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">rb_thread_struct::local_storage_recursive_hash</a></div><div class="ttdeci">VALUE local_storage_recursive_hash</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00722">vm_core.h:722</a></div></div>
<div class="ttc" id="st_8c_html_a068ebca65df8733df9e368b4d6dd82ca"><div class="ttname"><a href="st_8c.html#a068ebca65df8733df9e368b4d6dd82ca">st_insert</a></div><div class="ttdeci">int st_insert(register st_table *table, register st_data_t key, st_data_t value)</div><div class="ttdef"><b>Definition:</b> <a href="st_8c_source.html#l00533">st.c:533</a></div></div>
<div class="ttc" id="thread_8c_html_aff6f884751ace832615a75198562b802"><div class="ttname"><a href="thread_8c.html#aff6f884751ace832615a75198562b802">recursive_key</a></div><div class="ttdeci">static ID recursive_key</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l02795">thread.c:2795</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afbe54a87ef432758af8ac67571b4b55a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static VALUE threadptr_recursive_hash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04715">4715</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;{</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <span class="keywordflow">return</span> th-&gt;<a class="code" href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">local_storage_recursive_hash</a>;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a9a2d8d88fd64ea0c442b0ca5dc9bfdef"><div class="ttname"><a href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">rb_thread_struct::local_storage_recursive_hash</a></div><div class="ttdeci">VALUE local_storage_recursive_hash</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00722">vm_core.h:722</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a34c32d1e592a0fd559a7bc7bcdf4006a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void threadptr_recursive_hash_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a> *&#160;</td>
          <td class="paramname"><em>th</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04721">4721</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;{</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    th-&gt;<a class="code" href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">local_storage_recursive_hash</a> = <a class="code" href="lex_8c.html#a5541f85ce416df233cce93949f0eeeca">hash</a>;</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;}</div>
<div class="ttc" id="lex_8c_html_a5541f85ce416df233cce93949f0eeeca"><div class="ttname"><a href="lex_8c.html#a5541f85ce416df233cce93949f0eeeca">hash</a></div><div class="ttdeci">static unsigned int hash(const char *str, unsigned int len)</div><div class="ttdef"><b>Definition:</b> <a href="lex_8c_source.html#l00056">lex.c:56</a></div></div>
<div class="ttc" id="structrb__thread__struct_html_a9a2d8d88fd64ea0c442b0ca5dc9bfdef"><div class="ttname"><a href="structrb__thread__struct.html#a9a2d8d88fd64ea0c442b0ca5dc9bfdef">rb_thread_struct::local_storage_recursive_hash</a></div><div class="ttdeci">VALUE local_storage_recursive_hash</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00722">vm_core.h:722</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61fb24a433044184448557b610073957"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double timeofday </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l01135">1135</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">#if defined(HAVE_CLOCK_GETTIME) &amp;&amp; defined(CLOCK_MONOTONIC)</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keyword">struct </span>timespec tp;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (clock_gettime(CLOCK_MONOTONIC, &amp;tp) == 0) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)tp.tv_sec + (double)tp.tv_nsec * 1e-9;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        gettimeofday(&amp;tv, <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)tv.tv_sec + (double)tv.tv_usec * 1e-6;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ff953a04ceb8333e059e4fc73a786c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timer_thread_function </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03811">3811</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;{</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    <a class="code" href="structrb__vm__struct.html">rb_vm_t</a> *vm = <a class="code" href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a>(); <span class="comment">/* TODO: fix me for Multi-VM */</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;<span class="comment">     * Tricky: thread_destruct_lock doesn&#39;t close a race against</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="comment">     * vm-&gt;running_thread switch. however it guarantees th-&gt;running_thread</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;<span class="comment">     * point to valid pointer or NULL.</span></div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    native_mutex_lock(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">thread_destruct_lock</a>);</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;    <span class="comment">/* for time slice */</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    <span class="keywordflow">if</span> (vm-&gt;<a class="code" href="structrb__vm__struct.html#a469ec56bec5fad54fa6336d5fde24a03">running_thread</a>)</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;    <a class="code" href="vm__core_8h.html#a478d1279e4f797cf2d315d91a0cba111">RUBY_VM_SET_TIMER_INTERRUPT</a>(vm-&gt;<a class="code" href="structrb__vm__struct.html#a469ec56bec5fad54fa6336d5fde24a03">running_thread</a>);</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    native_mutex_unlock(&amp;vm-&gt;<a class="code" href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">thread_destruct_lock</a>);</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    <span class="comment">/* check signal */</span></div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <a class="code" href="thread_8c.html#a1ef1042de9adc6b17f182fe1d0466342">rb_threadptr_check_signal</a>(vm-&gt;<a class="code" href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">main_thread</a>);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;    <span class="comment">/* prove profiler */</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;    <span class="keywordflow">if</span> (vm-&gt;prove_profile.enable) {</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;    <a class="code" href="structrb__thread__struct.html">rb_thread_t</a> *th = vm-&gt;<a class="code" href="structrb__vm__struct.html#a469ec56bec5fad54fa6336d5fde24a03">running_thread</a>;</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keywordflow">if</span> (vm-&gt;during_gc) {</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        <span class="comment">/* GC prove profiling */</span></div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    }</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    }</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;}</div>
<div class="ttc" id="structrb__vm__struct_html_a469ec56bec5fad54fa6336d5fde24a03"><div class="ttname"><a href="structrb__vm__struct.html#a469ec56bec5fad54fa6336d5fde24a03">rb_vm_struct::running_thread</a></div><div class="ttdeci">struct rb_thread_struct * running_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00422">vm_core.h:422</a></div></div>
<div class="ttc" id="structrb__thread__struct_html"><div class="ttname"><a href="structrb__thread__struct.html">rb_thread_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00630">vm_core.h:630</a></div></div>
<div class="ttc" id="thread_8c_html_a1ef1042de9adc6b17f182fe1d0466342"><div class="ttname"><a href="thread_8c.html#a1ef1042de9adc6b17f182fe1d0466342">rb_threadptr_check_signal</a></div><div class="ttdeci">void rb_threadptr_check_signal(rb_thread_t *mth)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03801">thread.c:3801</a></div></div>
<div class="ttc" id="vm__core_8h_html_a478d1279e4f797cf2d315d91a0cba111"><div class="ttname"><a href="vm__core_8h.html#a478d1279e4f797cf2d315d91a0cba111">RUBY_VM_SET_TIMER_INTERRUPT</a></div><div class="ttdeci">#define RUBY_VM_SET_TIMER_INTERRUPT(th)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01107">vm_core.h:1107</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_a55af19560794b67c09c608a8464e47c9"><div class="ttname"><a href="structrb__vm__struct.html#a55af19560794b67c09c608a8464e47c9">rb_vm_struct::main_thread</a></div><div class="ttdeci">struct rb_thread_struct * main_thread</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00421">vm_core.h:421</a></div></div>
<div class="ttc" id="structrb__vm__struct_html_ad8f271ee054c0d65587bb1976b0f802d"><div class="ttname"><a href="structrb__vm__struct.html#ad8f271ee054c0d65587bb1976b0f802d">rb_vm_struct::thread_destruct_lock</a></div><div class="ttdeci">rb_nativethread_lock_t thread_destruct_lock</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00419">vm_core.h:419</a></div></div>
<div class="ttc" id="structrb__vm__struct_html"><div class="ttname"><a href="structrb__vm__struct.html">rb_vm_struct</a></div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00415">vm_core.h:415</a></div></div>
<div class="ttc" id="vm__core_8h_html_a6cfcd3997994924c8cd13c3b5c099ec6"><div class="ttname"><a href="vm__core_8h.html#a6cfcd3997994924c8cd13c3b5c099ec6">GET_VM</a></div><div class="ttdeci">#define GET_VM()</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01068">vm_core.h:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86004613fac2f76e403937e14e60f15a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_coverage </td>
          <td>(</td>
          <td class="paramtype">rb_event_flag_t&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE&#160;</td>
          <td class="paramname"><em>klass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l05214">5214</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;{</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    VALUE <a class="code" href="parse_8c.html#a440df03d39d76d62a3a36f125bfc19a9">coverage</a> = <a class="code" href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a>()-&gt;<a class="code" href="structrb__thread__struct.html#a2ed7f694d58d876aa6f0fae6986bc921">cfp</a>-&gt;<a class="code" href="structrb__control__frame__struct.html#a06a5a5485839fd92e3e274868f525bb2">iseq</a>-&gt;<a class="code" href="structrb__iseq__struct.html#a79c31be122171817641e252218f5526f">coverage</a>;</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;    <span class="keywordflow">if</span> (coverage &amp;&amp; RBASIC(coverage)-&gt;klass == 0) {</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    <span class="keywordtype">long</span> line = <a class="code" href="vm_8c.html#af5f87f9d39ea7433dc0de2f655bd6359">rb_sourceline</a>() - 1;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;    <span class="keywordtype">long</span> <a class="code" href="encoding_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;    <span class="keywordflow">if</span> (RARRAY_AREF(coverage, line) == Qnil) {</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;    }</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    count = FIX2LONG(RARRAY_AREF(coverage, line)) + 1;</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <span class="keywordflow">if</span> (POSFIXABLE(count)) {</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;        RARRAY_ASET(coverage, line, LONG2FIX(count));</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;    }</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    }</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;}</div>
<div class="ttc" id="structrb__thread__struct_html_a2ed7f694d58d876aa6f0fae6986bc921"><div class="ttname"><a href="structrb__thread__struct.html#a2ed7f694d58d876aa6f0fae6986bc921">rb_thread_struct::cfp</a></div><div class="ttdeci">rb_control_frame_t * cfp</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00638">vm_core.h:638</a></div></div>
<div class="ttc" id="encoding_8c_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="encoding_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="encoding_8c_source.html#l00048">encoding.c:48</a></div></div>
<div class="ttc" id="structrb__iseq__struct_html_a79c31be122171817641e252218f5526f"><div class="ttname"><a href="structrb__iseq__struct.html#a79c31be122171817641e252218f5526f">rb_iseq_struct::coverage</a></div><div class="ttdeci">const VALUE coverage</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00252">vm_core.h:252</a></div></div>
<div class="ttc" id="parse_8c_html_a440df03d39d76d62a3a36f125bfc19a9"><div class="ttname"><a href="parse_8c.html#a440df03d39d76d62a3a36f125bfc19a9">coverage</a></div><div class="ttdeci">static VALUE coverage(VALUE fname, int n)</div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l11100">parse.c:11100</a></div></div>
<div class="ttc" id="structrb__control__frame__struct_html_a06a5a5485839fd92e3e274868f525bb2"><div class="ttname"><a href="structrb__control__frame__struct.html#a06a5a5485839fd92e3e274868f525bb2">rb_control_frame_struct::iseq</a></div><div class="ttdeci">rb_iseq_t * iseq</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00539">vm_core.h:539</a></div></div>
<div class="ttc" id="vm__core_8h_html_aec678927729c3dcca12b2fae241158b0"><div class="ttname"><a href="vm__core_8h.html#aec678927729c3dcca12b2fae241158b0">GET_THREAD</a></div><div class="ttdeci">static rb_thread_t * GET_THREAD(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l01075">vm_core.h:1075</a></div></div>
<div class="ttc" id="vm_8c_html_af5f87f9d39ea7433dc0de2f655bd6359"><div class="ttname"><a href="vm_8c.html#af5f87f9d39ea7433dc0de2f655bd6359">rb_sourceline</a></div><div class="ttdeci">int rb_sourceline(void)</div><div class="ttdef"><b>Definition:</b> <a href="vm_8c_source.html#l01052">vm.c:1052</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d040754759ae4b01f4047f57af0eabf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vm_living_thread_num </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vm__core_8h.html#ab6a8242588889813903cd5d577ed906e">rb_vm_t</a> *&#160;</td>
          <td class="paramname"><em>vm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03041">3041</a> 行目に定義があります。</p>
<div class="fragment"><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;{</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)vm-&gt;<a class="code" href="structrb__vm__struct.html#a8d1107dbd47a8101d70fed85b5dc4ac7">living_thread_num</a>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;}</div>
<div class="ttc" id="structrb__vm__struct_html_a8d1107dbd47a8101d70fed85b5dc4ac7"><div class="ttname"><a href="structrb__vm__struct.html#a8d1107dbd47a8101d70fed85b5dc4ac7">rb_vm_struct::living_thread_num</a></div><div class="ttdeci">size_t living_thread_num</div><div class="ttdef"><b>Definition:</b> <a href="vm__core_8h_source.html#l00425">vm_core.h:425</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">変数詳解</h2>
<a class="anchor" id="a8bf6f73d9127baf62c1da6b3a2b1070c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ID id_locals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00084">84</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="ad08b53e774f300c71f14cbabedbd39ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> rb_data_type_t mutex_data_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初期値:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;mutex&quot;</span>,</div>
<div class="line">    { <a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , <a class="code" href="thread_8c.html#a83bc387e909d69188bf36b02ed0770ce">mutex_free</a>, <a class="code" href="thread_8c.html#af8da400c51ebaa76447a43463bdd5eef">mutex_memsize</a>,},</div>
<div class="line">    0, 0, RUBY_TYPED_FREE_IMMEDIATELY</div>
<div class="line">}</div>
<div class="ttc" id="thread_8c_html_af8da400c51ebaa76447a43463bdd5eef"><div class="ttname"><a href="thread_8c.html#af8da400c51ebaa76447a43463bdd5eef">mutex_memsize</a></div><div class="ttdeci">static size_t mutex_memsize(const void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04166">thread.c:4166</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
<div class="ttc" id="thread_8c_html_a83bc387e909d69188bf36b02ed0770ce"><div class="ttname"><a href="thread_8c.html#a83bc387e909d69188bf36b02ed0770ce">mutex_free</a></div><div class="ttdeci">static void mutex_free(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04150">thread.c:4150</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04171">4171</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a66c66f0b82b55bc228e8c9a79f8c4594"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="vm__core_8h.html#a70702992b3bf190c5dd8a4dffd79e2cd">rb_thread_t</a>* patrol_thread = <a class="el" href="vsnprintf_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04325">4325</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="abf1e8b399a6f3b8e66140389ebf83279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_cMutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00078">78</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="ae7e1adeec33182f017949cc89ff20d0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VALUE rb_cThreadShield</td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00079">79</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aff6f884751ace832615a75198562b802"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ID recursive_key</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l02795">2795</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a974db2b683aa5dcc790fa7d247d8a880"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VALUE sym_immediate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00081">81</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a15a374436fd3291ea7843f31fe0effcb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VALUE sym_never</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00083">83</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a7dd1a7585d2672c679f6d25fdf279a84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VALUE sym_on_blocking</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00082">82</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="aa871bbcb89aaa173181b8afa98846042"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int system_working = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l00096">96</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="a4f32ff5ab7d1882a7f89d5ffef1eeeab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> rb_data_type_t thgroup_data_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初期値:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;thgroup&quot;</span>,</div>
<div class="line">    {<a class="code" href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, RUBY_TYPED_DEFAULT_FREE, <a class="code" href="thread_8c.html#a153ea4500a0bbc906b172a26745eb197">thgroup_memsize</a>,},</div>
<div class="line">    0, 0, RUBY_TYPED_FREE_IMMEDIATELY</div>
<div class="line">}</div>
<div class="ttc" id="thread_8c_html_a153ea4500a0bbc906b172a26745eb197"><div class="ttname"><a href="thread_8c.html#a153ea4500a0bbc906b172a26745eb197">thgroup_memsize</a></div><div class="ttdeci">static size_t thgroup_memsize(const void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l03944">thread.c:3944</a></div></div>
<div class="ttc" id="regenc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="regenc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="regenc_8h_source.html#l00055">regenc.h:55</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l03949">3949</a> 行目に定義があります。</p>

</div>
</div>
<a class="anchor" id="abe0364314ab590bb8023ec98974974e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vsnprintf_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> rb_data_type_t thread_shield_data_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>初期値:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="stringliteral">&quot;thread_shield&quot;</span>,</div>
<div class="line">    {<a class="code" href="thread_8c.html#abbb7cb99a3fd2cd8189b8e27c7125d78">thread_shield_mark</a>, 0, 0,},</div>
<div class="line">    0, 0, RUBY_TYPED_FREE_IMMEDIATELY</div>
<div class="line">}</div>
<div class="ttc" id="thread_8c_html_abbb7cb99a3fd2cd8189b8e27c7125d78"><div class="ttname"><a href="thread_8c.html#abbb7cb99a3fd2cd8189b8e27c7125d78">thread_shield_mark</a></div><div class="ttdeci">static void thread_shield_mark(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8c_source.html#l04615">thread.c:4615</a></div></div>
</div><!-- fragment -->
<p> <a class="el" href="thread_8c_source.html">thread.c</a> の <a class="el" href="thread_8c_source.html#l04620">4620</a> 行目に定義があります。</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
2015年06月15日(月) 14時28分59秒作成 - CRuby Code Reading / 構成:  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
